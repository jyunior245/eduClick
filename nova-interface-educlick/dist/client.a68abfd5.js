let e,t,n,r,i,s,a,o;var l,c,d,u,h,f=globalThis;class p{static render(e={}){return`
      <div class="container py-5">
        <div class="row justify-content-center">
          <div class="col-md-6 col-lg-5">
            <div class="card shadow-sm">
              <div class="card-body p-4">
                <h2 class="mb-4 fw-bold text-center">Entrar</h2>
                ${e.errorMessage?`<div class='alert alert-danger'>${e.errorMessage}</div>`:""}
                <form id="form-login" onsubmit="${e.onSubmit||"handleLoginSubmit"}(event)">
                  <div class="mb-3">
                    <label for="email" class="form-label">E-mail</label>
                    <input type="email" class="form-control" id="email" name="email" required>
                  </div>
                  <div class="mb-3">
                    <label for="senha" class="form-label">Senha</label>
                    <input type="password" class="form-control" id="senha" name="senha" required>
                  </div>
                  <button type="submit" class="btn btn-primary w-100">Entrar</button>
                </form>
                <div class="mt-3 text-center">
                  <a href="/cadastro">N\xe3o tem conta? Cadastre-se</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}}function g(e,t="success"){let n=document.getElementById("toast-container");n||((n=document.createElement("div")).id="toast-container",n.style.position="fixed",n.style.top="20px",n.style.right="20px",n.style.zIndex="9999",document.body.appendChild(n));let r=document.createElement("div");r.className=`toast align-items-center text-bg-${t} border-0 show`,r.role="alert",r.ariaLive="assertive",r.ariaAtomic="true",r.innerHTML=`
    <div class="d-flex">
      <div class="toast-body">${e}</div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Fechar"></button>
    </div>
  `,n.appendChild(r),setTimeout(()=>r.remove(),4e3)}class m{static setAuthProvider(t){e=t}static login(t){var n,r,i,s;return n=this,r=void 0,i=void 0,s=function*(){try{let{email:n,senha:r}=t;if(!e)throw Error("Auth provider não foi configurado.");let i=!1;try{i=yield e.verificarSeUsuarioExiste(n),console.log(`Usu\xe1rio ${n} existe:`,i)}catch(e){console.warn("Erro ao verificar se usuário existe, tentando login diretamente:",e)}i||console.log("Usuário não encontrado na verificação, mas tentando login...");let s=yield e.login(n,r);if(!s)return g("Email ou senha inválidos","danger"),{success:!1,error:"Email ou senha inválidos"};{let e=yield s.getIdToken();localStorage.setItem("token",e);try{(yield fetch("http://localhost:3000/api/admin/sincronizar-usuario",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:s.id,email:s.email,nome:s.nome})})).ok?console.log("Usuário sincronizado com o backend"):console.warn("Erro ao sincronizar usuário com o backend")}catch(e){console.warn("Erro ao sincronizar com o backend:",e)}try{if(!(yield fetch("http://localhost:3000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,senha:r,uid:s.id}),credentials:"include"})).ok)return g("Falha ao criar sessão no backend.","danger"),{success:!1,error:"Falha ao criar sessão no backend."};{console.log("Sessão criada no backend. Cookie de sessão enviado."),g("Login realizado com sucesso!","success");let e={id:s.id,nome:s.nome,email:s.email};return{success:!0,data:e}}}catch(e){return console.warn("Erro ao criar sessão no backend:",e),g("Erro ao criar sessão no backend.","danger"),{success:!1,error:"Erro ao criar sessão no backend."}}}}catch(e){return console.error("Erro no login:",e),e.message.includes("Email ou senha incorretos")?g("Email ou senha incorretos. Verifique suas credenciais.","danger"):e.message.includes("Usuário não encontrado")?g("Usuário não encontrado. Verifique se você já se cadastrou.","warning"):e.message.includes("Senha incorreta")?g("Senha incorreta. Tente novamente.","danger"):e.message.includes("Erro de conexão")?g("Erro de conexão. Verifique sua internet.","danger"):g(e.message||"Erro ao fazer login. Tente novamente.","danger"),{success:!1,error:e.message||"Erro desconhecido"}}},new(i||(i=Promise))(function(e,t){function a(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof i?n:new i(function(e){e(n)})).then(a,o)}l((s=s.apply(n,r||[])).next())})}}class v{static required(e){return{test:e=>null!=e&&""!==e.toString().trim(),message:"Este campo é obrigatório"}}static email(e){return{test:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),message:"E-mail deve ser válido"}}static minLength(e){return{test:t=>t&&t.toString().length>=e,message:`Deve ter pelo menos ${e} caracteres`}}static maxLength(e){return{test:t=>!t||t.toString().length<=e,message:`Deve ter no m\xe1ximo ${e} caracteres`}}static pattern(e,t){return{test:t=>e.test(t),message:t}}static numeric(e){return{test:e=>!isNaN(Number(e))&&Number(e)>=0,message:"Deve ser um número válido"}}static positive(e){return{test:e=>Number(e)>0,message:"Deve ser um valor positivo"}}static date(e){return{test:e=>!isNaN(Date.parse(e)),message:"Data deve ser válida"}}static futureDate(e){return{test:e=>new Date(e)>new Date,message:"Data deve ser futura"}}static telefone(e){return{test:e=>/^\(\d{2}\) \d{4,5}-\d{4}$/.test(e),message:"Telefone deve estar no formato (11) 99999-9999"}}static linkUnico(e){return{test:e=>/^[a-zA-Z0-9-_]+$/.test(e),message:"Link único deve conter apenas letras, números, hífens e underscores"}}static validate(e,t){let n=[];for(let r of t)r.test(e)||n.push(r.message);return{isValid:0===n.length,errors:n}}static validateLogin(e){let t=[],n=this.validate(e.email,[this.required(e.email),this.email(e.email)]),r=this.validate(e.senha,[this.required(e.senha),this.minLength(6)]);return t.push(...n.errors,...r.errors),{isValid:0===t.length,errors:t}}static validateCadastro(e){let t=[],n=this.validate(e.nome,[this.required(e.nome),this.minLength(3)]),r=this.validate(e.email,[this.required(e.email),this.email(e.email)]),i=this.validate(e.senha,[this.required(e.senha),this.minLength(6)]);return t.push(...n.errors,...r.errors,...i.errors),e.senha!==e.confirmarSenha&&t.push("As senhas não coincidem"),{isValid:0===t.length,errors:t}}static validateAula(e){let t=[],n=this.validate(e.titulo,[this.required(e.titulo),this.minLength(3)]),r=this.validate(e.conteudo,[this.required(e.conteudo),this.minLength(10)]),i=this.validate(e.valor,[this.required(e.valor),this.numeric(e.valor),this.positive(e.valor)]),s=this.validate(e.duracao,[this.required(e.duracao),this.numeric(e.duracao),this.positive(e.duracao)]),a=this.validate(e.maxAlunos,[this.required(e.maxAlunos),this.numeric(e.maxAlunos),this.positive(e.maxAlunos)]),o=this.validate(e.dataHora,[this.required(e.dataHora),this.date(e.dataHora),this.futureDate(e.dataHora)]);return t.push(...n.errors,...r.errors,...i.errors,...s.errors,...a.errors,...o.errors),{isValid:0===t.length,errors:t}}}var b=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};function y(e){return b(this,void 0,void 0,function*(){e.innerHTML=p.render();let t=document.getElementById("form-login");t&&(t.onsubmit=E)})}function E(e){return b(this,void 0,void 0,function*(){e.preventDefault();let t=e.target,n={email:t.email.value,senha:t.senha.value},r=v.validateLogin(n);if(!r.isValid)return void r.errors.forEach(e=>g(e,"danger"));let i=yield m.login(n);i.success?setTimeout(()=>{window.location.href="/dashboard"},1200):g(i.error||"Erro no login","danger")})}class w{static render(e={}){return`
      <div class="container py-5">
        <div class="row justify-content-center">
          <div class="col-md-6 col-lg-5">
            <div class="card shadow-sm">
              <div class="card-body p-4">
                <h2 class="mb-4 fw-bold text-center">Criar Conta</h2>
                ${e.errorMessage?`<div class='alert alert-danger'>${e.errorMessage}</div>`:""}
                <form id="form-cadastro" onsubmit="${e.onSubmit||"handleCadastroSubmit"}(event)">
                  <div class="mb-3">
                    <label for="nome" class="form-label">Nome</label>
                    <input type="text" class="form-control" id="nome" name="nome" required>
                  </div>
                  <div class="mb-3">
                    <label for="email" class="form-label">E-mail</label>
                    <input type="email" class="form-control" id="email" name="email" required>
                  </div>
                  <div class="mb-3">
                    <label for="senha" class="form-label">Senha</label>
                    <input type="password" class="form-control" id="senha" name="senha" required minlength="6">
                  </div>
                  <div class="mb-3">
                    <label for="confirmarSenha" class="form-label">Confirmar Senha</label>
                    <input type="password" class="form-control" id="confirmarSenha" name="confirmarSenha" required minlength="6">
                  </div>
                  <button type="submit" class="btn btn-primary w-100">Cadastrar</button>
                </form>
                <div class="mt-3 text-center">
                  <a href="/login">J\xe1 tem conta? Entrar</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}}class A{static setAuthProvider(e){t=e}static validate(e){return v.validateCadastro(e)}static cadastrar(e){var n,r,i,s;return n=this,r=void 0,i=void 0,s=function*(){try{if(!t)throw Error("Auth provider não foi configurado.");let n=yield t.registrar({nome:e.nome,email:e.email,senha:e.senha});try{let t=yield fetch("http://localhost:3000/api/professores/cadastro",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:e.nome,email:e.email,senha:e.senha,descricao:e.descricao,conteudosDominio:e.conteudosDominio||[]})});if(!t.ok){let e=yield t.json();console.warn("Erro no backend, mas usuário criado no Firebase:",e)}}catch(e){console.warn("Erro ao conectar com o backend:",e)}return g("Cadastro realizado com sucesso!","success"),{success:!0,data:{id:n.id,nome:n.nome,email:n.email}}}catch(e){return console.error("Erro no cadastro:",e),e.message.includes("email já está sendo usado")||e.message.includes("email já está cadastrado")?(g("Este email já está cadastrado. Tente fazer login.","warning"),setTimeout(()=>{window.location.href="/login"},2e3)):e.message.includes("senha deve ter pelo menos 6 caracteres")?g("A senha deve ter pelo menos 6 caracteres.","danger"):e.message.includes("Email inválido")?g("Por favor, insira um email válido.","danger"):e.message.includes("Cadastro com email/senha não está habilitado")?g("Erro na configuração do sistema. Entre em contato com o suporte.","danger"):g(e.message||"Erro ao cadastrar. Tente novamente.","danger"),{success:!1,error:e.message||"Erro desconhecido"}}},new(i||(i=Promise))(function(e,t){function a(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof i?n:new i(function(e){e(n)})).then(a,o)}l((s=s.apply(n,r||[])).next())})}}var S=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};function _(e){return S(this,void 0,void 0,function*(){e.preventDefault();let t=e.target,n={nome:t.nome.value,email:t.email.value,senha:t.senha.value,confirmarSenha:t.confirmarSenha.value},r=A.validate(n);if(!r.isValid)return void r.errors.forEach(e=>g(e,"danger"));let i=yield A.cadastrar(n);i.success?setTimeout(()=>{window.history.pushState({},"","/login"),window.dispatchEvent(new PopStateEvent("popstate"))},1200):g(i.error||"Erro ao cadastrar","danger")})}var C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class D{static render(e){let{title:t,content:n,header:r="",footer:i="",containerClass:s="container-fluid bg-light min-vh-100",bodyClass:a="container py-4"}=e;return`
      <div class="${s}">
        ${r}
        <div class="${a}">
          ${n}
        </div>
        ${i}
      </div>
    `}static renderWithTitle(e){let{title:t}=e,n=C(e,["title"]),r=`
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-bold mb-0">${t}</h2>
      </div>
    `;return this.render(Object.assign(Object.assign({},n),{title:t,content:r+n.content}))}}class T{static render(e){let{text:t,type:n="button",variant:r="primary",size:i="md",disabled:s=!1,icon:a,className:o="",id:l=""}=e,c=a?`<i class="${a}"></i> `:"",d=l?`id="${l}"`:"";return`
      <button 
        type="${n}" 
        class="btn btn-${r} ${"sm"===i?"btn-sm":"lg"===i?"btn-lg":""} ${o}" 
        ${s?"disabled":""}
        ${d}
      >
        ${c}${t}
      </button>
    `}static renderWithClick(e){let t=this.render(e);return e.onClick?t.replace("<button",`<button onclick="(${e.onClick.toString()})()"`):t}}class x{static render(e){let{title:t,content:n,footer:r,className:i="",id:s="",headerActions:a=""}=e,o=s?`id="${s}"`:"",l=t?`
      <div class="card-header d-flex justify-content-between align-items-center">
        <h6 class="card-title mb-0">${t}</h6>
        ${a}
      </div>
    `:"",c=r?`<div class="card-footer">${r}</div>`:"";return`
      <div class="card h-100 shadow-sm ${i}" ${o}>
        ${l}
        <div class="card-body">
          ${n}
        </div>
        ${c}
      </div>
    `}}class R{static render(e){var t,n,r,i;let s=`
      <div class="dropdown">
        <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
          <i class="bi bi-three-dots"></i>
        </button>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="#" onclick="editarAula('${e.id}')">
            <i class="bi bi-pencil"></i> Editar
          </a></li>
          <li><a class="dropdown-item" href="#" onclick="excluirAula('${e.id}')">
            <i class="bi bi-trash"></i> Excluir
          </a></li>
        </ul>
      </div>
    `,a=`
      <div class="row mb-3">
        <div class="col-6">
          <small class="text-muted">Conte\xfado</small>
          <div class="fw-semibold">${e.conteudo}</div>
        </div>
        <div class="col-6">
          <small class="text-muted">Data/Hora</small>
          <div class="fw-semibold">${new Date(e.dataHora).toLocaleString()}</div>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-6">
          <small class="text-muted">Dura\xe7\xe3o</small>
          <div class="fw-semibold">${e.duracaoFormatada||e.duracao+" min"}</div>
        </div>
        <div class="col-6">
          <small class="text-muted">Valor</small>
          <div class="fw-semibold text-success">R$ ${(null==(t=e.valor)?void 0:t.toFixed(2))||"-"}</div>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-6">
          <small class="text-muted">Vagas</small>
          <div class="fw-semibold">${null!=(n=e.vagasRestantes)?n:e.maxAlunos-((null==(r=e.reservas)?void 0:r.length)||0)} / ${e.maxAlunos}</div>
        </div>
        <div class="col-6">
          <small class="text-muted">Status</small>
          <div><span class="badge bg-${this.getStatusColor(e.status)}">${e.status}</span></div>
        </div>
      </div>
      ${e.observacoes?`
        <div class="mb-3">
          <small class="text-muted">Observa\xe7\xf5es</small>
          <div class="fw-semibold">${e.observacoes}</div>
        </div>
      `:""}
      <!-- Informa\xe7\xe3o de vagas -->
      <div class="mt-3">
        <small class="text-muted">
          <i class="bi bi-people"></i> Vagas: ${(null==(i=e.reservas)?void 0:i.length)||0}/${e.maxAlunos}
        </small>
      </div>
    `;return x.render({title:e.titulo,content:a,headerActions:s,className:"h-100"})}static getStatusColor(e){switch(e){case"disponivel":return"success";case"lotada":return"warning";case"cancelada":return"danger";case"reagendada":return"info";default:return"secondary"}}}var I=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class k{static render(e){let{id:t,title:n,content:r,footer:i="",size:s="md",closeButton:a=!0}=e;return`
      <div class="modal fade" id="${t}" tabindex="-1" aria-labelledby="${t}Label" aria-hidden="true">
        <div class="modal-dialog ${"sm"===s?"modal-sm":"lg"===s?"modal-lg":"xl"===s?"modal-xl":""}">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="${t}Label">${n}</h5>
              ${a?'<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>':""}
            </div>
            <div class="modal-body">
              ${r}
            </div>
            ${i?`<div class="modal-footer">${i}</div>`:""}
          </div>
        </div>
      </div>
    `}static renderFormModal(e){let{formId:t,footer:n=""}=e,r=I(e,["formId","footer"]),i=`
      <form id="${t}">
        ${r.content}
        ${n?`<div class='modal-footer'>${n}</div>`:""}
      </form>
    `;return this.render(Object.assign(Object.assign({},r),{content:i,footer:""}))}}class M{static render(e){let{label:t,name:n,type:r,value:i="",required:s=!1,placeholder:a="",className:o="",id:l="",options:c=[],rows:d=3,step:u,min:h,max:f,disabled:p=!1}=e,g=l?`id="${l}"`:"",m=s?"required":"",v=p?"disabled":"",b=u?`step="${u}"`:"",y=h?`min="${h}"`:"",E=f?`max="${f}"`:"",w="";if("textarea"===r)w=`
        <textarea 
          class="form-control ${o}" 
          name="${n}" 
          ${g}
          ${m}
          ${v}
          placeholder="${a}"
          rows="${d}"
        >${i}</textarea>
      `;else if("select"===r){let e=c.map(e=>`<option value="${e.value}" ${i===e.value?"selected":""}>${e.label}</option>`).join("");w=`
        <select 
          class="form-control ${o}" 
          name="${n}" 
          ${g}
          ${m}
          ${v}
        >
          ${e}
        </select>
      `}else w=`
        <input 
          type="${r}" 
          class="form-control ${o}" 
          name="${n}" 
          value="${i}"
          ${g}
          ${m}
          ${v}
          ${b}
          ${y}
          ${E}
          placeholder="${a}"
        >
      `;return`
      <div class="mb-3">
        <label class="form-label">${t}</label>
        ${w}
      </div>
    `}}class O{static renderNovaAula(){let e=`
      <input type="hidden" name="aulaId">
      <div class="row">
        <div class="col-md-6">
          ${M.render({label:"Título",name:"titulo",type:"text",required:!0})}
        </div>
        <div class="col-md-6">
          ${M.render({label:"Conteúdo",name:"conteudo",type:"text",required:!0})}
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          ${M.render({label:"Valor (R$)",name:"valor",type:"number",step:"0.01",required:!0})}
        </div>
        <div class="col-md-4">
          ${M.render({label:"Duração (minutos)",name:"duracao",type:"number",required:!0})}
        </div>
        <div class="col-md-4">
          ${M.render({label:"Vagas",name:"maxAlunos",type:"number",min:"1",value:"1",required:!0})}
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          ${M.render({label:"Data/Hora",name:"dataHora",type:"datetime-local",required:!0})}
        </div>
        <div class="col-md-6">
          ${M.render({label:"Status",name:"status",type:"select",options:[{value:"disponivel",label:"Disponível"},{value:"lotada",label:"Lotada"},{value:"cancelada",label:"Cancelada"}]})}
        </div>
      </div>
      ${M.render({label:"Observações",name:"observacoes",type:"textarea",rows:3})}
    `,t=`
      ${T.render({text:"Cancelar",type:"button",variant:"secondary",className:"me-2"})}
      ${T.render({text:"Salvar",type:"submit",variant:"primary"})}
    `;return k.renderFormModal({id:"modalNovaAula",title:"Nova Aula",content:e,footer:t,formId:"formNovaAula",size:"lg"})}static renderEditarAula(e){let t=`
      <input type="hidden" name="aulaId" id="editAulaId" value="${e.titulo||""}">
      <div class="row">
        <div class="col-md-6">
          ${M.render({label:"Título",name:"titulo",type:"text",value:e.titulo||"",required:!0,id:"editTitulo"})}
        </div>
        <div class="col-md-6">
          ${M.render({label:"Conteúdo",name:"conteudo",type:"text",value:e.conteudo||"",required:!0,id:"editConteudo"})}
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          ${M.render({label:"Valor (R$)",name:"valor",type:"number",value:e.valor||"",step:"0.01",required:!0,id:"editValor"})}
        </div>
        <div class="col-md-4">
          ${M.render({label:"Duração (minutos)",name:"duracao",type:"number",value:e.duracao||"",required:!0,id:"editDuracao"})}
        </div>
        <div class="col-md-4">
          ${M.render({label:"Vagas",name:"maxAlunos",type:"number",value:e.maxAlunos||"",min:"1",required:!0,id:"editMaxAlunos"})}
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          ${M.render({label:"Data/Hora",name:"dataHora",type:"datetime-local",value:e.dataHora||"",required:!0,id:"editDataHora"})}
        </div>
        <div class="col-md-6">
          ${M.render({label:"Status",name:"status",type:"select",value:e.status||"disponivel",options:[{value:"disponivel",label:"Disponível"},{value:"lotada",label:"Lotada"},{value:"cancelada",label:"Cancelada"}],id:"editStatus"})}
        </div>
      </div>
      ${M.render({label:"Observações",name:"observacoes",type:"textarea",value:e.observacoes||"",rows:3,id:"editObservacoes"})}
    `,n=`
      ${T.render({text:"Cancelar",type:"button",variant:"secondary",className:"me-2"})}
      ${T.render({text:"Salvar Alterações",type:"submit",variant:"primary"})}
    `;return k.renderFormModal({id:"modalEditarAula",title:"Editar Aula",content:t,footer:n,formId:"formEditarAula",size:"lg"})}}class N{static render(e){let t=new Date(e.dataHora),n=this.formatDuracao(e.duracao),r=this.getStatusBadge(e.status),i=`
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">T\xedtulo</label>
            <div class="form-control-plaintext">${e.titulo}</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">Status</label>
            <div class="form-control-plaintext">${r}</div>
          </div>
        </div>
      </div>
      
      <div class="mb-3">
        <label class="form-label fw-bold">Conte\xfado</label>
        <div class="form-control-plaintext">${e.conteudo}</div>
      </div>
      
      <div class="row">
        <div class="col-md-4">
          <div class="mb-3">
            <label class="form-label fw-bold">Data/Hora</label>
            <div class="form-control-plaintext">${t.toLocaleString()}</div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="mb-3">
            <label class="form-label fw-bold">Dura\xe7\xe3o</label>
            <div class="form-control-plaintext">${n}</div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="mb-3">
            <label class="form-label fw-bold">Valor</label>
            <div class="form-control-plaintext text-success fw-bold">R$ ${e.valor.toFixed(2)}</div>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">Vagas</label>
            <div class="form-control-plaintext">${e.reservas.length} / ${e.maxAlunos}</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">Vagas Restantes</label>
            <div class="form-control-plaintext">${e.maxAlunos-e.reservas.length}</div>
          </div>
        </div>
      </div>
      
      ${e.observacoes?`
        <div class="mb-3">
          <label class="form-label fw-bold">Observa\xe7\xf5es</label>
          <div class="form-control-plaintext">${e.observacoes}</div>
        </div>
      `:""}
      
      <div class="mb-3">
        <label class="form-label fw-bold">Reservas (${e.reservas.length})</label>
        <div class="border rounded p-3" style="max-height: 200px; overflow-y: auto;">
          ${e.reservas.length>0?e.reservas.map(e=>this.renderReserva(e)).join(""):'<div class="text-muted">Nenhuma reserva realizada.</div>'}
        </div>
      </div>
    `,s=`
      ${T.render({text:"Editar Aula",type:"button",variant:"primary",className:"me-2",id:"btn-editar-aula-detail"})}
      ${T.render({text:"Fechar",type:"button",variant:"secondary",id:"btn-fechar-detail"})}
    `;return k.renderFormModal({id:"modalAulaDetail",title:"Detalhes da Aula",content:i,footer:s,formId:"formAulaDetail",size:"lg"})}static renderContent(e){let t=new Date(e.dataHora),n=this.formatDuracao(e.duracao),r=this.getStatusBadge(e.status);return`
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">T\xedtulo</label>
            <div class="form-control-plaintext">${e.titulo}</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">Status</label>
            <div class="form-control-plaintext">${r}</div>
          </div>
        </div>
      </div>
      
      <div class="mb-3">
        <label class="form-label fw-bold">Conte\xfado</label>
        <div class="form-control-plaintext">${e.conteudo}</div>
      </div>
      
      <div class="row">
        <div class="col-md-4">
          <div class="mb-3">
            <label class="form-label fw-bold">Data/Hora</label>
            <div class="form-control-plaintext">${t.toLocaleString()}</div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="mb-3">
            <label class="form-label fw-bold">Dura\xe7\xe3o</label>
            <div class="form-control-plaintext">${n}</div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="mb-3">
            <label class="form-label fw-bold">Valor</label>
            <div class="form-control-plaintext text-success fw-bold">R$ ${e.valor.toFixed(2)}</div>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">Vagas</label>
            <div class="form-control-plaintext">${e.reservas.length} / ${e.maxAlunos}</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">Vagas Restantes</label>
            <div class="form-control-plaintext">${e.maxAlunos-e.reservas.length}</div>
          </div>
        </div>
      </div>
      
      ${e.observacoes?`
        <div class="mb-3">
          <label class="form-label fw-bold">Observa\xe7\xf5es</label>
          <div class="form-control-plaintext">${e.observacoes}</div>
        </div>
      `:""}
      
      <div class="mb-3">
        <label class="form-label fw-bold">Reservas (${e.reservas.length})</label>
        <div class="border rounded p-3" style="max-height: 200px; overflow-y: auto;">
          ${e.reservas.length>0?e.reservas.map(e=>this.renderReserva(e)).join(""):'<div class="text-muted">Nenhuma reserva realizada.</div>'}
        </div>
      </div>
    `}static formatDuracao(e){let t=Math.floor(e/60),n=e%60;return t>0?`${t}h ${n>0?`${n}min`:""}`.trim():`${n}min`}static getStatusBadge(e){let t={disponivel:{class:"bg-success",label:"Disponível"},lotada:{class:"bg-primary",label:"Lotada"},cancelada:{class:"bg-danger",label:"Cancelada"},reagendada:{class:"bg-warning text-dark",label:"Reagendada"}}[e]||{class:"bg-secondary",label:e};return`<span class="badge ${t.class}">${t.label}</span>`}static renderReserva(e){let t="cancelado"===e.status?'<span class="badge bg-danger">Cancelado</span>':'<span class="badge bg-success">Agendado</span>',n=e.pagamentoEfetivado?'<span class="badge bg-info ms-1">Pagamento Efetivado</span>':"";return`
      <div class="d-flex justify-content-between align-items-center mb-2 p-2 border-bottom">
        <div>
          <strong>${e.nome}</strong><br>
          <small class="text-muted">${e.email} | ${e.telefone}</small>
        </div>
        <div>
          ${t} ${n}
        </div>
      </div>
    `}}class P{static render(e){let t=this.renderHeader(e.usuario),n=this.renderContent(e.aulas),r=this.renderModals();return`
      ${D.render({title:"Dashboard do Professor",content:n,header:t})}
      ${r}
    `}static renderHeader(e){let t=T.render({text:"Sair",variant:"outline-danger",size:"sm",className:"ms-2",id:"btn-logout"}),n=T.render({text:"Nova Aula",variant:"primary",size:"sm",className:"ms-2",id:"nova-aula-btn",icon:"bi bi-plus-circle"}),r=T.render({text:"Editar Perfil",variant:"outline-secondary",size:"sm",icon:"bi bi-gear",id:"btn-editar-perfil"});return`
      <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center mb-4 gap-3">
        <div>
          <h2 class="fw-bold mb-2 d-flex align-items-center gap-2">
            Dashboard do Professor
            ${t}
          </h2>
          <div class="d-flex align-items-center gap-3">
            <div class="d-flex align-items-center">
              <span class="fw-semibold me-2">Link p\xfablico:</span>
              <input type="text" id="input-link-publico" class="form-control form-control-sm" style="width: 300px;" readonly value="${location.origin}/professor/${e.linkUnico||e.id}">
              <button class="btn btn-outline-primary btn-sm ms-2" id="btn-copiar-link">Copiar</button>
            </div>
            ${r}
            ${n}
          </div>
        </div>
      </div>
    `}static renderContent(e){let t=e.filter(e=>"reagendada"===e.status),n=e.filter(e=>"reagendada"!==e.status),r=e.length>0?e.map(e=>`
          <div class="col-12 col-md-6 col-lg-4">
            ${R.render(e)}
          </div>
        `).join(""):`
          <div class="col-12">
            <div class="text-center py-5">
              <i class="bi bi-calendar3 display-1 text-muted"></i>
              <h4 class="mt-3 text-muted">Nenhuma aula cadastrada</h4>
              <p class="text-muted">Clique em "Nova Aula" para come\xe7ar a criar suas aulas.</p>
            </div>
          </div>
        `;return`
      <!-- Navega\xe7\xe3o por abas -->
      <ul class="nav nav-tabs mb-4" id="dashboardTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="aulas-tab" data-bs-toggle="tab" data-bs-target="#aulas" type="button" role="tab">
            <i class="bi bi-calendar3"></i> Minhas Aulas
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="calendario-tab" data-bs-toggle="tab" data-bs-target="#calendario" type="button" role="tab">
            <i class="bi bi-calendar-month"></i> Calend\xe1rio
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="agendamentos-tab" data-bs-toggle="tab" data-bs-target="#agendamentos" type="button" role="tab">
            <i class="bi bi-people"></i> Agendamentos
          </button>
        </li>
      </ul>

      <!-- Conte\xfado das abas -->
      <div class="tab-content" id="dashboardTabContent">
        <!-- Aba: Minhas Aulas -->
        <div class="tab-pane fade show active" id="aulas" role="tabpanel">
          <div class="row g-4">
            ${r}
          </div>
        </div>

        <!-- Aba: Calend\xe1rio -->
        <div class="tab-pane fade" id="calendario" role="tabpanel">
          <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
              <h5 class="mb-0">Calend\xe1rio de Aulas</h5>
              <div class="btn-group">
                <button class="btn btn-outline-secondary btn-sm" onclick="navegarMes(-1)">
                  <i class="bi bi-chevron-left"></i>
                </button>
                <button class="btn btn-outline-secondary btn-sm" onclick="navegarMes(1)">
                  <i class="bi bi-chevron-right"></i>
                </button>
              </div>
            </div>
            <div class="card-body">
              <div id="calendario-container">
                <!-- Calend\xe1rio ser\xe1 renderizado aqui -->
              </div>
            </div>
          </div>
        </div>

        <!-- Aba: Agendamentos -->
        <div class="tab-pane fade" id="agendamentos" role="tabpanel">
          <div class="card mb-4">
            <div class="card-header bg-primary text-white">
              <h5 class="mb-0"><i class="bi bi-list-check me-2"></i>Agendamentos Realizados</h5>
            </div>
            <div class="card-body">
              ${0===n.length?'<div class="text-muted">Nenhum agendamento realizado.</div>':n.map(e=>i(e)).join("")}
            </div>
          </div>
          <div class="card">
            <div class="card-header bg-warning text-dark">
              <h5 class="mb-0"><i class="bi bi-arrow-repeat me-2"></i>Aulas Reagendadas</h5>
            </div>
            <div class="card-body">
              ${0===t.length?'<div class="text-muted">Nenhuma aula reagendada.</div>':t.map(e=>i(e)).join("")}
            </div>
          </div>
        </div>
      </div>
    `;function i(e){return`
        <div class="mb-4">
          <div class="fw-bold mb-2">${e.titulo} <span class="badge bg-${"reagendada"===e.status?"warning text-dark":"primary"} ms-2">${e.status.charAt(0).toUpperCase()+e.status.slice(1)}</span></div>
          <div class="mb-1 text-muted"><b>Data/Hora:</b> ${new Date(e.dataHora).toLocaleString()}</div>
          <div class="mb-2"><b>Reservas:</b></div>
          <ul class="list-group mb-2">
            ${e.reservas&&e.reservas.length>0?e.reservas.map(e=>{var t;let n,r;return n="",n="cancelado"===(t=e).status?'<span class="badge bg-danger ms-2">Cancelado</span>':'<span class="badge bg-success ms-2">Agendado</span>',r=t.pagamentoEfetivado?'<span class="badge bg-info ms-2">Pagamento Efetivado</span>':"",`<li class="list-group-item d-flex justify-content-between align-items-center">
        <span><b>${t.nome}</b> <span class="text-muted">${t.email}</span></span>
        <span>${n} ${r}</span>
      </li>`}).join(""):'<li class="list-group-item text-muted">Nenhuma reserva</li>'}
          </ul>
        </div>
      `}}static renderModals(){return`
      ${O.renderNovaAula()}
      ${O.renderEditarAula({})}
      ${N.render({id:"",titulo:"",conteudo:"",dataHora:"",duracao:0,valor:0,maxAlunos:0,status:"",reservas:[]})}
    `}}var L=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};const H="http://localhost:3000/api";function U(e){return L(this,arguments,void 0,function*(e,t={}){return fetch(e,Object.assign(Object.assign({},t),{headers:Object.assign(Object.assign({},t.headers),{"Content-Type":"application/json"}),credentials:"include"}))})}function j(){return U(`${H}/professores/me`)}function B(e){return U(`${H}/aulas/${e}`)}var z=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};class F{static loadDashboardData(){return z(this,void 0,void 0,function*(){try{let[e,t]=yield Promise.all([U(`${H}/aulas/minhas-aulas`),j()]),n=e.ok?yield e.json():[];return{usuario:t.ok?yield t.json():{},aulas:n}}catch(e){return g("Erro ao carregar dados do dashboard.","danger"),{usuario:{},aulas:[]}}})}static criarAula(e){return z(this,void 0,void 0,function*(){try{let t=Object.assign(Object.assign({},e),{valor:parseFloat(e.valor.toString()),duracao:parseInt(e.duracao.toString(),10),maxAlunos:parseInt(e.maxAlunos.toString(),10)}),n=yield U(`${H}/aulas/criar`,{method:"POST",body:JSON.stringify(t)});if(n.ok)return g("Aula criada com sucesso!","success"),!0;{let e=yield n.json();return g("Erro ao criar aula: "+(e.error||"Erro desconhecido"),"danger"),!1}}catch(e){return g("Erro ao conectar com o servidor.","danger"),!1}})}static editarAula(e,t){return z(this,void 0,void 0,function*(){try{let n=Object.assign(Object.assign({},t),{valor:parseFloat(t.valor.toString()),duracao:parseInt(t.duracao.toString(),10),maxAlunos:parseInt(t.maxAlunos.toString(),10)}),r=yield U(`${H}/aulas/${e}`,{method:"PUT",body:JSON.stringify(n)});if(r.ok)return g("Aula editada com sucesso!","success"),!0;{let e=yield r.json();return g("Erro ao editar aula: "+(e.error||"Erro desconhecido"),"danger"),!1}}catch(e){return g("Erro ao conectar com o servidor.","danger"),!1}})}static excluirAula(e){return z(this,void 0,void 0,function*(){try{if((yield U(`${H}/aulas/${e}`,{method:"DELETE"})).ok)return g("Aula excluída com sucesso!","success"),!0;return g("Erro ao excluir aula.","danger"),!1}catch(e){return g("Erro ao conectar com o servidor.","danger"),!1}})}static copyToClipboard(e){return z(this,void 0,void 0,function*(){try{return yield navigator.clipboard.writeText(e),!0}catch(e){return!1}})}static validateAulaData(e){var t,n;let r=[];return(null==(t=e.titulo)?void 0:t.trim())||r.push("Título é obrigatório"),(null==(n=e.conteudo)?void 0:n.trim())||r.push("Conteúdo é obrigatório"),(!e.valor||e.valor<=0)&&r.push("Valor deve ser maior que zero"),(!e.duracao||e.duracao<=0)&&r.push("Duração deve ser maior que zero"),(!e.maxAlunos||e.maxAlunos<=0)&&r.push("Número de vagas deve ser maior que zero"),e.dataHora||r.push("Data e hora são obrigatórios"),e.status&&!["disponivel","lotada","cancelada","reagendada"].includes(e.status)&&r.push("Status inválido"),{isValid:0===r.length,errors:r}}}var $,V,W,G,q,Q,Y,Z,J={},X=[],K=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ee(e,t){for(var n in t)e[n]=t[n];return e}function et(e){var t=e.parentNode;t&&t.removeChild(e)}function en(e,t,n){var r,i,s,a={};for(s in t)"key"==s?r=t[s]:"ref"==s?i=t[s]:a[s]=t[s];if(arguments.length>2&&(a.children=arguments.length>3?$.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===a[s]&&(a[s]=e.defaultProps[s]);return er(e,a,r,i,null)}function er(e,t,n,r,i){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++W:i};return null==i&&null!=V.vnode&&V.vnode(s),s}function ei(){return{current:null}}function es(e){return e.children}function ea(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||K.test(t)?n:n+"px"}function eo(e,t,n,r,i){var s;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ea(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||ea(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])s=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r||e.addEventListener(t,s?ec:el,s):e.removeEventListener(t,s?ec:el,s);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,n))}}function el(e){G=!0;try{return this.l[e.type+!1](V.event?V.event(e):e)}finally{G=!1}}function ec(e){G=!0;try{return this.l[e.type+!0](V.event?V.event(e):e)}finally{G=!1}}function ed(e,t){this.props=e,this.context=t}function eu(e,t){if(null==t)return e.__?eu(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?eu(e):null}function eh(e){(!e.__d&&(e.__d=!0)&&q.push(e)&&!ef.__r++||Q!==V.debounceRendering)&&((Q=V.debounceRendering)||function(e){G?setTimeout(e):Y(e)})(ef)}function ef(){var e,t,n,r,i,s,a,o;for(q.sort(function(e,t){return e.__v.__b-t.__v.__b});e=q.shift();)e.__d&&(t=q.length,r=void 0,i=void 0,a=(s=(n=e).__v).__e,(o=n.__P)&&(r=[],(i=ee({},s)).__v=s.__v+1,ev(o,s,i,n.__n,void 0!==o.ownerSVGElement,null!=s.__h?[a]:null,r,null==a?eu(s):a,s.__h),eb(r,s),s.__e!=a&&function e(t){var n,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(r=t.__k[n])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return e(t)}}(s)),q.length>t&&q.sort(function(e,t){return e.__v.__b-t.__v.__b}));ef.__r=0}function ep(e,t,n,r,i,s,a,o,l,c){var d,u,h,f,p,g,m,v=r&&r.__k||X,b=v.length;for(n.__k=[],d=0;d<t.length;d++)if(null!=(f=n.__k[d]=null==(f=t[d])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?er(null,f,null,null,f):Array.isArray(f)?er(es,{children:f},null,null,null):f.__b>0?er(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)){if(f.__=n,f.__b=n.__b+1,null===(h=v[d])||h&&f.key==h.key&&f.type===h.type)v[d]=void 0;else for(u=0;u<b;u++){if((h=v[u])&&f.key==h.key&&f.type===h.type){v[u]=void 0;break}h=null}ev(e,f,h=h||J,i,s,a,o,l,c),p=f.__e,(u=f.ref)&&h.ref!=u&&(m||(m=[]),h.ref&&m.push(h.ref,null,f),m.push(u,f.__c||p,f)),null!=p?(null==g&&(g=p),"function"==typeof f.type&&f.__k===h.__k?f.__d=l=function e(t,n,r){for(var i,s=t.__k,a=0;s&&a<s.length;a++)(i=s[a])&&(i.__=t,n="function"==typeof i.type?e(i,n,r):em(r,i,i,s,i.__e,n));return n}(f,l,e):l=em(e,f,h,v,p,l),"function"==typeof n.type&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=e&&(l=eu(h))}for(n.__e=g,d=b;d--;)null!=v[d]&&("function"==typeof n.type&&null!=v[d].__e&&v[d].__e==n.__d&&(n.__d=function e(t){var n,r,i;if(null==t.type||"string"==typeof t.type)return t.__e;if(t.__k){for(n=t.__k.length-1;n>=0;n--)if((r=t.__k[n])&&(i=e(r)))return i}return null}(r).nextSibling),function e(t,n,r){var i,s;if(V.unmount&&V.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||ey(i,null,n)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){V.__e(e,n)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&e(i[s],n,r||"function"!=typeof t.type);r||null==t.__e||et(t.__e),t.__=t.__e=t.__d=void 0}(v[d],v[d]));if(m)for(d=0;d<m.length;d++)ey(m[d],m[++d],m[++d])}function eg(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some(function(e){eg(e,t)}):t.push(e)),t}function em(e,t,n,r,i,s){var a,o,l;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||i!=s||null==i.parentNode)e:if(null==s||s.parentNode!==e)e.appendChild(i),a=null;else{for(o=s,l=0;(o=o.nextSibling)&&l<r.length;l+=1)if(o==i)break e;e.insertBefore(i,s),a=s}return void 0!==a?a:i.nextSibling}function ev(e,t,n,r,i,s,a,o,l){var c,d,u,h,f,p,g,m,v,b,y,E,w,A,S,_=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,o=t.__e=n.__e,t.__h=null,s=[o]),(c=V.__b)&&c(t);try{e:if("function"==typeof _){if(m=t.props,v=(c=_.contextType)&&r[c.__c],b=c?v?v.props.value:c.__:r,n.__c?g=(d=t.__c=n.__c).__=d.__E:("prototype"in _&&_.prototype.render?t.__c=d=new _(m,b):(t.__c=d=new ed(m,b),d.constructor=_,d.render=eE),v&&v.sub(d),d.props=m,d.state||(d.state={}),d.context=b,d.__n=r,u=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=_.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=ee({},d.__s)),ee(d.__s,_.getDerivedStateFromProps(m,d.__s))),h=d.props,f=d.state,d.__v=t,u)null==_.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==_.getDerivedStateFromProps&&m!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(m,b),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(m,d.__s,b)||t.__v===n.__v){for(t.__v!==n.__v&&(d.props=m,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t)}),y=0;y<d._sb.length;y++)d.__h.push(d._sb[y]);d._sb=[],d.__h.length&&a.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(m,d.__s,b),null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(h,f,p)})}if(d.context=b,d.props=m,d.__P=e,E=V.__r,w=0,"prototype"in _&&_.prototype.render){for(d.state=d.__s,d.__d=!1,E&&E(t),c=d.render(d.props,d.state,d.context),A=0;A<d._sb.length;A++)d.__h.push(d._sb[A]);d._sb=[]}else do d.__d=!1,E&&E(t),c=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++w<25)d.state=d.__s,null!=d.getChildContext&&(r=ee(ee({},r),d.getChildContext())),u||null==d.getSnapshotBeforeUpdate||(p=d.getSnapshotBeforeUpdate(h,f)),S=null!=c&&c.type===es&&null==c.key?c.props.children:c,ep(e,Array.isArray(S)?S:[S],t,n,r,i,s,a,o,l),d.base=t.__e,t.__h=null,d.__h.length&&a.push(d),g&&(d.__E=d.__=null),d.__e=!1}else null==s&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,i,s,a,o){var l,c,d,u=n.props,h=t.props,f=t.type,p=0;if("svg"===f&&(i=!0),null!=s){for(;p<s.length;p++)if((l=s[p])&&"setAttribute"in l==!!f&&(f?l.localName===f:3===l.nodeType)){e=l,s[p]=null;break}}if(null==e){if(null===f)return document.createTextNode(h);e=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),s=null,o=!1}if(null===f)u===h||o&&e.data===h||(e.data=h);else{if(s=s&&$.call(e.childNodes),c=(u=n.props||J).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!o){if(null!=s)for(u={},p=0;p<e.attributes.length;p++)u[e.attributes[p].name]=e.attributes[p].value;(d||c)&&(d&&(c&&d.__html==c.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(function(e,t,n,r,i){var s;for(s in n)"children"===s||"key"===s||s in t||eo(e,s,null,n[s],r);for(s in t)i&&"function"!=typeof t[s]||"children"===s||"key"===s||"value"===s||"checked"===s||n[s]===t[s]||eo(e,s,t[s],n[s],r)}(e,h,u,i,o),d)t.__k=[];else if(ep(e,Array.isArray(p=t.props.children)?p:[p],t,n,r,i&&"foreignObject"!==f,s,a,s?s[0]:n.__k&&eu(n,0),o),null!=s)for(p=s.length;p--;)null!=s[p]&&et(s[p]);o||("value"in h&&void 0!==(p=h.value)&&(p!==e.value||"progress"===f&&!p||"option"===f&&p!==u.value)&&eo(e,"value",p,u.value,!1),"checked"in h&&void 0!==(p=h.checked)&&p!==e.checked&&eo(e,"checked",p,u.checked,!1))}return e}(n.__e,t,n,r,i,s,a,l);(c=V.diffed)&&c(t)}catch(e){t.__v=null,(l||null!=s)&&(t.__e=o,t.__h=!!l,s[s.indexOf(o)]=null),V.__e(e,t,n)}}function eb(e,t){V.__c&&V.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){V.__e(e,t.__v)}})}function ey(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){V.__e(e,n)}}function eE(e,t,n){return this.constructor(e,n)}function ew(e,t,n){var r,i,s;V.__&&V.__(e,t),i=(r="function"==typeof n)?null:n&&n.__k||t.__k,s=[],ev(t,e=(!r&&n||t).__k=en(es,null,[e]),i||J,J,void 0!==t.ownerSVGElement,!r&&n?[n]:i?null:t.firstChild?$.call(t.childNodes):null,s,!r&&n?n:i?i.__e:t.firstChild,r),eb(s,e)}$=X.slice,V={__e:function(e,t,n,r){for(var i,s,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&null!=s.getDerivedStateFromError&&(i.setState(s.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},W=0,G=!1,ed.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ee({},this.state),"function"==typeof e&&(e=e(ee({},n),this.props)),e&&ee(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),eh(this))},ed.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),eh(this))},ed.prototype.render=es,q=[],Y="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ef.__r=0,Z=0;var eA,eS,e_,eC=[],eD=[],eT=V.__b,ex=V.__r,eR=V.diffed,eI=V.__c,ek=V.unmount;function eM(){for(var e;e=eC.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(eN),e.__H.__h.forEach(eP),e.__H.__h=[]}catch(t){e.__H.__h=[],V.__e(t,e.__v)}}V.__b=function(e){eA=null,eT&&eT(e)},V.__r=function(e){ex&&ex(e);var t=(eA=e.__c).__H;t&&(eS===eA?(t.__h=[],eA.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=eD,e.__N=e.i=void 0})):(t.__h.forEach(eN),t.__h.forEach(eP),t.__h=[])),eS=eA},V.diffed=function(e){eR&&eR(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==eC.push(t)&&e_===V.requestAnimationFrame||((e_=V.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),eO&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);eO&&(t=requestAnimationFrame(n))})(eM)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==eD&&(e.__=e.__V),e.i=void 0,e.__V=eD})),eS=eA=null},V.__c=function(e,t){t.some(function(e){try{e.__h.forEach(eN),e.__h=e.__h.filter(function(e){return!e.__||eP(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],V.__e(n,e.__v)}}),eI&&eI(e,t)},V.unmount=function(e){ek&&ek(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{eN(e)}catch(e){t=e}}),n.__H=void 0,t&&V.__e(t,n.__v))};var eO="function"==typeof requestAnimationFrame;function eN(e){var t=eA,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),eA=t}function eP(e){var t=eA;e.__c=e.__(),eA=t}function eL(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function eH(e){this.props=e}(eH.prototype=new ed).isPureReactComponent=!0,eH.prototype.shouldComponentUpdate=function(e,t){return eL(this.props,e)||eL(this.state,t)};var eU=V.__b;V.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),eU&&eU(e)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var ej=V.__e;V.__e=function(e,t,n,r){if(e.then){for(var i,s=t;s=s.__;)if((i=s.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t)}ej(e,t,n,r)};var eB=V.unmount;function ez(){this.__u=0,this.t=null,this.__b=null}function eF(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function e$(){this.u=null,this.o=null}V.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),eB&&eB(e)},(ez.prototype=new ed).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=eF(r.__v),s=!1,a=function(){s||(s=!0,n.__R=null,i?i(o):o())};n.__R=a;var o=function(){if(!--r.__u){if(r.state.__a){var e,t=r.state.__a;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return e(t,n,r)}),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(t,t.__c.__P,t.__c.__O)}for(r.setState({__a:r.__b=null});e=r.t.pop();)e.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(a,a)},ez.prototype.componentWillUnmount=function(){this.t=[]},ez.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),t.__c.__H=null),null!=(t=function(e,t){for(var n in t)e[n]=t[n];return e}({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return e(t,n,r)})),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&en(es,null,e.fallback);return i&&(i.__h=null),[en(es,null,t.__a?null:e.children),i]};var eV=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function eW(e){return this.getChildContext=function(){return e.context},e.children}function eG(e){var t=this,n=e.i;t.componentWillUnmount=function(){ew(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),ew(en(eW,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(e$.prototype=new ed).__a=function(e){var t=this,n=eF(t.__v),r=t.o.get(e);return r[0]++,function(i){var s=function(){t.props.revealOrder?(r.push(i),eV(t,e,r)):i()};n?n(s):s()}},e$.prototype.render=function(e){this.u=null,this.o=new Map;var t=eg(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},e$.prototype.componentDidUpdate=e$.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){eV(e,n,t)})};var eq="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,eQ=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,eY="undefined"!=typeof document;ed.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(ed.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var eZ=V.event;function eJ(){}function eX(){return this.cancelBubble}function eK(){return this.defaultPrevented}V.event=function(e){return eZ&&(e=eZ(e)),e.persist=eJ,e.isPropagationStopped=eX,e.isDefaultPrevented=eK,e.nativeEvent=e};var e0={configurable:!0,get:function(){return this.class}},e1=V.vnode;V.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var i=-1===t.indexOf("-");for(var s in r={},n){var a,o=n[s];eY&&"children"===s&&"noscript"===t||"value"===s&&"defaultValue"in n&&null==o||("defaultValue"===s&&"value"in n&&null==n.value?s="value":"download"===s&&!0===o?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+t)&&(a=n.type,!("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(a))?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&eQ.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===o&&(o=void 0),/^oninput$/i.test(s)&&r[s=s.toLowerCase()]&&(s="oninputCapture"),r[s]=o)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=eg(n.children).forEach(function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)})),"select"==t&&null!=r.defaultValue&&(r.value=eg(n.children).forEach(function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value})),e.props=r,n.class!=n.className&&(e0.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",e0))}e.$$typeof=eq,e1&&e1(e)};var e3=V.__r;V.__r=function(e){e3&&e3(e),e.__c};const e2=[],e4=new Map;function e6(e){e2.push(e),e4.forEach(t=>{e8(t,e)})}function e5(e){let t=e4.get(e);if(!t||!t.isConnected){if(!(t=e.querySelector("style[data-fullcalendar]"))){(t=document.createElement("style")).setAttribute("data-fullcalendar","");let r=(void 0===n&&(n=function(){let e=document.querySelector('meta[name="csp-nonce"]');if(e&&e.hasAttribute("content"))return e.getAttribute("content");let t=document.querySelector("script[nonce]");return t&&t.nonce||""}()),n);r&&(t.nonce=r);let i=e===document?document.head:e,s=e===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(t,s)}e4.set(e,t),function(e){for(let t of e2)e8(e,t)}(t)}}function e8(e,t){let{sheet:n}=e,r=n.cssRules.length;t.split("}").forEach((e,t)=>{(e=e.trim())&&n.insertRule(e+"}",r+t)})}"undefined"!=typeof document&&e5(document),e6(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');class e7{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==e?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:n}=this;e in n&&(t?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function e9(e){e.parentNode&&e.parentNode.removeChild(e)}function te(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{var n,r;if(n=e,r=t,(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,r))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType)return null}const tt=/(top|left|right|bottom|width|height)$/i;function tn(e,t){for(let n in t)tr(e,n,t[n])}function tr(e,t,n){null==n?e.style[t]="":"number"==typeof n&&tt.test(t)?e.style[t]=`${n}px`:e.style[t]=n}function ti(e){var t,n;return null!=(n=null==(t=e.composedPath)?void 0:t.call(e)[0])?n:e.target}let ts=0;function ta(){return"fc-dom-"+(ts+=1)}function to(e){e.preventDefault()}function tl(e,t,n,r){let i=e=>{let t=te(e.target,n);t&&r.call(t,e,t)};return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}const tc=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function td(e){return Object.assign({onClick:e},tu(e))}function tu(e){return{tabIndex:0,onKeyDown(t){("Enter"===t.key||" "===t.key)&&(e(t),t.preventDefault())}}}let th=0;function tf(){return String(th+=1)}function tp(){document.body.classList.add("fc-not-allowed")}function tg(){document.body.classList.remove("fc-not-allowed")}function tm(e,t){let n=String(e);return"000".substr(0,t-n.length)+n}function tv(e,t,n){return"function"==typeof e?e(...t):"string"==typeof e?t.reduce((e,t,n)=>e.replace("$"+n,t||""),e):n}function tb(e,t){return e-t}const ty=["years","months","days","milliseconds"],tE=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function tw(e,t){return"string"==typeof e?function(e){let t=tE.exec(e);if(t){let e=t[1]?-1:1;return{years:0,months:0,days:e*(t[2]?parseInt(t[2],10):0),milliseconds:e*((t[3]?parseInt(t[3],10):0)*36e5+(t[4]?parseInt(t[4],10):0)*6e4+(t[5]?parseInt(t[5],10):0)*1e3+(t[6]?parseInt(t[6],10):0))}}return null}(e):"object"==typeof e&&e?tA(e):"number"==typeof e?tA({[t||"milliseconds"]:e}):null}function tA(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:36e5*(e.hours||e.hour||0)+6e4*(e.minutes||e.minute||0)+1e3*(e.seconds||e.second||0)+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=7*n,t.specifiedWeeks=!0),t}function tS(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function t_(e){return tC(e)/864e5}function tC(e){return e.years*(365*864e5)+e.months*(30*864e5)+864e5*e.days+e.milliseconds}function tD(e,t){let n=null;for(let r=0;r<ty.length;r+=1){let i=ty[r];if(t[i]){let r=e[i]/t[i];if(r%1!=0||null!==n&&n!==r)return null;n=r}else if(e[i])return null}return n}function tT(e){let t=e.milliseconds;if(t){if(t%1e3!=0)return{unit:"millisecond",value:t};if(t%6e4!=0)return{unit:"second",value:t/1e3};if(t%36e5!=0)return{unit:"minute",value:t/6e4};if(t)return{unit:"hour",value:t/36e5}}return e.days?e.specifiedWeeks&&e.days%7==0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function tx(e,t,n){let r;if(e===t)return!0;let i=e.length;if(i!==t.length)return!1;for(r=0;r<i;r+=1)if(!(n?n(e[r],t[r]):e[r]===t[r]))return!1;return!0}const tR=["sun","mon","tue","wed","thu","fri","sat"];function tI(e,t){let n=tj(e);return n[2]+=7*t,tB(n)}function tk(e,t){let n=tj(e);return n[2]+=t,tB(n)}function tM(e,t){let n=tj(e);return n[6]+=t,tB(n)}function tO(e,t){return(t.valueOf()-e.valueOf())/864e5}function tN(e,t){return tF(e)===tF(t)?Math.round(tO(e,t)):null}function tP(e){return tB([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function tL(e,t,n,r){var i;let s;return Math.floor(Math.round(tO(tB([t,0,1+(-((7+tB([t,0,s=7+(i=n)-r]).getUTCDay()-i)%7)+s-1)]),tP(e)))/7)+1}function tH(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function tU(e){return new Date(e[0],e[1]||0,null==e[2]?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function tj(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function tB(e){return 1===e.length&&(e=e.concat([0])),new Date(Date.UTC(...e))}function tz(e){return!isNaN(e.valueOf())}function tF(e){return 36e5*e.getUTCHours()+6e4*e.getUTCMinutes()+1e3*e.getUTCSeconds()+e.getUTCMilliseconds()}function t$(e,t,n=!1){let r=e.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(null==t?r=r.replace("Z",""):0!==t&&(r=r.replace("Z",tW(t,!0)))),r}function tV(e){return e.toISOString().replace(/T.*$/,"")}function tW(e,t=!1){let n=e<0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),s=Math.round(r%60);return t?`${n+tm(i,2)}:${tm(s,2)}`:`GMT${n}${i}${s?`:${tm(s,2)}`:""}`}function tG(e,t,n){let r,i;return function(...s){if(r){if(!tx(r,s)){n&&n(i);let r=e.apply(this,s);t&&t(r,i)||(i=r)}}else i=e.apply(this,s);return r=s,i}}function tq(e,t,n){let r,i;return s=>{if(r){if(!np(r,s)){n&&n(i);let r=e.call(this,s);t&&t(r,i)||(i=r)}}else i=e.call(this,s);return r=s,i}}const tQ={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},tY={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},tZ=/\s*([ap])\.?m\.?/i,tJ=/,/g,tX=/\s+/g,tK=/\u200e/g,t0=/UTC|GMT/;class t1{constructor(e){let t={},n={},r=9;for(let i in e)i in tQ?(n[i]=e[i],tQ[i]<9&&(r=Math.min(tQ[i],r))):(t[i]=e[i],i in tY&&(r=Math.min(tY[i],r)));this.standardDateProps=t,this.extendedSettings=n,this.smallestUnitNum=r,this.buildFormattingFunc=tG(t3)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,n,r){var i,s,a;let{standardDateProps:o,extendedSettings:l}=this,c=(i=e.marker,s=t.marker,(a=n.calendarSystem).getMarkerYear(i)!==a.getMarkerYear(s)?5:a.getMarkerMonth(i)!==a.getMarkerMonth(s)?4:a.getMarkerDay(i)!==a.getMarkerDay(s)?2:+(tF(i)!==tF(s)));if(!c)return this.format(e,n);let d=c;d>1&&("numeric"===o.year||"2-digit"===o.year)&&("numeric"===o.month||"2-digit"===o.month)&&("numeric"===o.day||"2-digit"===o.day)&&(d=1);let u=this.format(e,n),h=this.format(t,n);if(u===h)return u;let f=t3(function(e,t){let n={};for(let r in e)r in tY&&!(tY[r]<=t)||(n[r]=e[r]);return n}(o,d),l,n),p=f(e),g=f(t),m=function(e,t,n,r){let i=0;for(;i<e.length;){let s=e.indexOf(t,i);if(-1===s)break;let a=e.substr(0,s);i=s+t.length;let o=e.substr(i),l=0;for(;l<n.length;){let e=n.indexOf(r,l);if(-1===e)break;let t=n.substr(0,e);l=e+r.length;let i=n.substr(l);if(a===t&&o===i)return{before:a,after:o}}}return null}(u,p,h,g),v=l.separator||r||n.defaultSeparator||"";return m?m.before+p+v+g+m.after:u+v+h}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function t3(e,t,n){let r=Object.keys(e).length;return 1===r&&"short"===e.timeZoneName?e=>tW(e.timeZoneOffset):0===r&&t.week?e=>{var r,i,s,a,o;let l;return r=n.computeWeekNumber(e.marker),i=n.weekText,s=n.weekTextLong,a=n.locale,o=t.week,l=[],"long"===o?l.push(s):("short"===o||"narrow"===o)&&l.push(i),("long"===o||"short"===o)&&l.push(" "),l.push(a.simpleNumberFormat.format(r)),"rtl"===a.options.direction&&l.reverse(),l.join("")}:function(e,t,n){var r,i;let s;e=Object.assign({},e),t=Object.assign({},t),r=e,i=t,r.timeZoneName&&(r.hour||(r.hour="2-digit"),r.minute||(r.minute="2-digit")),"long"===r.timeZoneName&&(r.timeZoneName="short"),i.omitZeroMinute&&(r.second||r.millisecond)&&delete i.omitZeroMinute,e.timeZone="UTC";let a=new Intl.DateTimeFormat(n.locale.codes,e);if(t.omitZeroMinute){let t=Object.assign({},e);delete t.minute,s=new Intl.DateTimeFormat(n.locale.codes,t)}return r=>{var i,o,l,c,d,u,h;let f,{marker:p}=r;return i=(s&&!p.getUTCMinutes()?s:a).format(p),o=r,l=e,c=t,d=n,i=i.replace(tK,""),"short"===l.timeZoneName&&(u=i,h="UTC"===d.timeZone||null==o.timeZoneOffset?"UTC":tW(o.timeZoneOffset),f=!1,u=u.replace(t0,()=>(f=!0,h)),f||(u+=` ${h}`),i=u),c.omitCommas&&(i=i.replace(tJ,"").trim()),c.omitZeroMinute&&(i=i.replace(":00","")),!1===c.meridiem?i=i.replace(tZ,"").trim():"narrow"===c.meridiem?i=i.replace(tZ,(e,t)=>t.toLocaleLowerCase()):"short"===c.meridiem?i=i.replace(tZ,(e,t)=>`${t.toLocaleLowerCase()}m`):"lowercase"===c.meridiem&&(i=i.replace(tZ,e=>e.toLocaleLowerCase())),i=(i=i.replace(tX," ")).trim()}}(e,t,n)}function t2(e,t){let n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function t4(e,t,n,r){let i=t2(e,n.calendarSystem);return{date:i,start:i,end:t?t2(t,n.calendarSystem):null,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class t6{constructor(e){this.cmdStr=e}format(e,t,n){return t.cmdFormatter(this.cmdStr,t4(e,null,t,n))}formatRange(e,t,n,r){return n.cmdFormatter(this.cmdStr,t4(e,t,n,r))}}class t5{constructor(e){this.func=e}format(e,t,n){return this.func(t4(e,null,t,n))}formatRange(e,t,n,r){return this.func(t4(e,t,n,r))}}function t8(e){return"object"==typeof e&&e?new t1(e):"string"==typeof e?new t6(e):"function"==typeof e?new t5(e):null}const t7={navLinkDayClick:no,navLinkWeekClick:no,duration:tw,bootstrapFontAwesome:no,buttonIcons:no,customButtons:no,defaultAllDayEventDuration:tw,defaultTimedEventDuration:tw,nextDayThreshold:tw,scrollTime:tw,scrollTimeReset:Boolean,slotMinTime:tw,slotMaxTime:tw,dayPopoverFormat:t8,slotDuration:tw,snapDuration:tw,headerToolbar:no,footerToolbar:no,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:t8,dayHeaderClassNames:no,dayHeaderContent:no,dayHeaderDidMount:no,dayHeaderWillUnmount:no,dayCellClassNames:no,dayCellContent:no,dayCellDidMount:no,dayCellWillUnmount:no,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:no,weekNumbers:Boolean,weekNumberClassNames:no,weekNumberContent:no,weekNumberDidMount:no,weekNumberWillUnmount:no,editable:Boolean,viewClassNames:no,viewDidMount:no,viewWillUnmount:no,nowIndicator:Boolean,nowIndicatorClassNames:no,nowIndicatorContent:no,nowIndicatorDidMount:no,nowIndicatorWillUnmount:no,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:no,locale:no,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:no,eventOrder:function(e){let t,n,r=[],i=[];for("string"==typeof e?i=e.split(/\s*,\s*/):"function"==typeof e?i=[e]:Array.isArray(e)&&(i=e),t=0;t<i.length;t+=1)"string"==typeof(n=i[t])?r.push("-"===n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&r.push({func:n});return r},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:no,contentHeight:no,direction:String,weekNumberFormat:t8,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:no,initialDate:no,now:no,eventDataTransform:no,stickyHeaderDates:no,stickyFooterScrollbar:no,viewHeight:no,defaultAllDay:Boolean,eventSourceFailure:no,eventSourceSuccess:no,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:no,eventConstraint:no,eventAllow:no,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:no,eventContent:no,eventDidMount:no,eventWillUnmount:no,selectConstraint:no,selectOverlap:no,selectAllow:no,droppable:Boolean,unselectCancel:String,slotLabelFormat:no,slotLaneClassNames:no,slotLaneContent:no,slotLaneDidMount:no,slotLaneWillUnmount:no,slotLabelClassNames:no,slotLabelContent:no,slotLabelDidMount:no,slotLabelWillUnmount:no,dayMaxEvents:no,dayMaxEventRows:no,dayMinWidth:Number,slotLabelInterval:tw,allDayText:String,allDayClassNames:no,allDayContent:no,allDayDidMount:no,allDayWillUnmount:no,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:t8,rerenderDelay:Number,moreLinkText:no,moreLinkHint:no,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:no,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:tw,hiddenDays:no,fixedWeekCount:Boolean,validRange:no,visibleRange:no,titleFormat:no,eventInteractive:Boolean,noEventsText:String,viewHint:no,navLinkHint:no,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:no,moreLinkClassNames:no,moreLinkContent:no,moreLinkDidMount:no,moreLinkWillUnmount:no,monthStartFormat:t8,handleCustomRendering:no,customRenderingMetaMap:no,customRenderingReplaces:Boolean},t9={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},ne={datesSet:no,eventsSet:no,eventAdd:no,eventChange:no,eventRemove:no,windowResize:no,eventClick:no,eventMouseEnter:no,eventMouseLeave:no,select:no,unselect:no,loading:no,_unmount:no,_beforeprint:no,_afterprint:no,_noEventDrop:no,_noEventResize:no,_resize:no,_scrollRequest:no},nt={buttonText:no,buttonHints:no,views:no,plugins:no,initialEvents:no,events:no,eventSources:no},nn={headerToolbar:nr,footerToolbar:nr,buttonText:nr,buttonHints:nr,buttonIcons:nr,dateIncrement:nr,plugins:ni,events:ni,eventSources:ni,resources:ni};function nr(e,t){return"object"==typeof e&&"object"==typeof t&&e&&t?np(e,t):e===t}function ni(e,t){return Array.isArray(e)&&Array.isArray(t)?tx(e,t):e===t}const ns={type:String,component:no,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:no,usesMinMaxTime:Boolean,classNames:no,content:no,didMount:no,willUnmount:no};function na(e,t){let n={},r={};for(let r in t)r in e&&(n[r]=t[r](e[r]));for(let n in e)n in t||(r[n]=e[n]);return{refined:n,extra:r}}function no(e){return e}const{hasOwnProperty:nl}=Object.prototype;function nc(e,t){let n={};if(t){for(let r in t)if(t[r]===nr){let t=[];for(let i=e.length-1;i>=0;i-=1){let s=e[i][r];if("object"==typeof s&&s)t.unshift(s);else if(void 0!==s){n[r]=s;break}}t.length&&(n[r]=nc(t))}}for(let t=e.length-1;t>=0;t-=1){let r=e[t];for(let e in r)e in n||(n[e]=r[e])}return n}function nd(e,t){let n={};for(let r in e)t(e[r],r)&&(n[r]=e[r]);return n}function nu(e,t){let n={};for(let r in e)n[r]=t(e[r],r);return n}function nh(e){let t={};for(let n of e)t[n]=!0;return t}function nf(e){let t=[];for(let n in e)t.push(e[n]);return t}function np(e,t){if(e===t)return!0;for(let n in e)if(nl.call(e,n)&&!(n in t))return!1;for(let n in t)if(nl.call(t,n)&&e[n]!==t[n])return!1;return!0}const ng=/^on[A-Z]/;function nm(e,t,n={}){if(e===t)return!0;for(let a in t){var r,i,s;if(!(a in e&&(r=e[a],i=t[a],s=n[a],r===i||!0===s||s&&s(r,i))))return!1}for(let n in e)if(!(n in t))return!1;return!0}let nv={};nv.gregory=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return tB(e)}markerToArray(e){return tj(e)}};const nb=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class ny{constructor(e){let t=this.timeZone=e.timeZone,n="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=new nv[e.calendarSystem],this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof e.firstDay&&(this.weekDow=e.firstDay),"function"==typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=null!=e.weekText?e.weekText:e.locale.options.weekText,this.weekTextLong=(null!=e.weekTextLong?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return null===t?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):tB(tH(new Date))}createMarkerMeta(e){if("string"==typeof e)return this.parse(e);let t=null;return("number"==typeof e?t=this.timestampToMarker(e):e instanceof Date?isNaN(e=e.valueOf())||(t=this.timestampToMarker(e)):Array.isArray(e)&&(t=tB(e)),null!==t&&tz(t))?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(e){let t=function(e){let t=nb.exec(e);if(t){let e=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number(`0.${t[12]}`):0));if(tz(e)){let n=null;return t[13]&&(n=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:e,isTimeUnspecified:!t[6],timeZoneOffset:n}}}return null}(e);if(null===t)return null;let{marker:n}=t,r=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-6e4*t.timeZoneOffset):r=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)}addMonths(e,t){let n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,t){let{calendarSystem:n}=this;return tF(e)===tF(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:n}=this;return tF(e)===tF(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+(n.getMarkerYear(t)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let n,r=this.diffWholeYears(e,t);return null!==r?{unit:"year",value:r}:null!==(r=this.diffWholeMonths(e,t))?{unit:"month",value:r}:null!==(r=null!==(n=tN(e,t))&&n%7==0?n/7:null)?{unit:"week",value:r}:null!==(r=tN(e,t))?{unit:"day",value:r}:(r=(t.valueOf()-e.valueOf())/36e5)%1==0?{unit:"hour",value:r}:(r=(t.valueOf()-e.valueOf())/6e4)%1==0?{unit:"minute",value:r}:(r=(t.valueOf()-e.valueOf())/1e3)%1==0?{unit:"second",value:r}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}}countDurationsBetween(e,t,n){let r;return n.years&&null!==(r=this.diffWholeYears(e,t))?r/(t_(n)/365):n.months&&null!==(r=this.diffWholeMonths(e,t))?r/(t_(n)/30):n.days&&null!==(r=tN(e,t))?r/t_(n):(t.valueOf()-e.valueOf())/tC(n)}startOf(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?tP(e):"hour"===t?tB([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()]):"minute"===t?tB([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()]):"second"===t?tB([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()]):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):function(e,t,n){let r=e.getUTCFullYear(),i=tL(e,r,t,n);if(i<1)return tL(e,r-1,t,n);let s=tL(e,r+1,t,n);return s>=1?Math.min(i,s):i}(e,this.weekDow,this.weekDoy)}format(e,t,n={}){return t.format({marker:e,timeZoneOffset:null!=n.forcedTzo?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,n,r={}){return r.isEndExclusive&&(t=tM(t,-1)),n.formatRange({marker:e,timeZoneOffset:null!=r.forcedStartTzo?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=r.forcedEndTzo?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let n=null;return t.omitTimeZoneOffset||(n=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(e)),t$(e,n,t.omitTime)}timestampToMarker(e){return"local"===this.timeZone?tB(tH(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?tB(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)}offsetForMarker(e){return"local"===this.timeZone?-tU(tj(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(tj(e)):null}toDate(e,t){return"local"===this.timeZone?tU(tj(e)):new Date("UTC"===this.timeZone?e.valueOf():this.namedTimeZoneImpl?e.valueOf()-6e4*this.namedTimeZoneImpl.offsetForArray(tj(e)):e.valueOf()-(t||0))}}class nE{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,n;if("object"==typeof e&&e){for(n in t=Object.assign({},this.iconClasses),e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else!1===e&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&0!==e.indexOf(t)&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let n;return(n=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e])?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption])?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}function nw(e){e();let t=V.debounceRendering,n=[];for(V.debounceRendering=function(e){n.push(e)},ew(en(nA,{}),document.createElement("div"));n.length;)n.shift()();V.debounceRendering=t}nE.prototype.classes={},nE.prototype.iconClasses={},nE.prototype.baseIconClass="",nE.prototype.iconOverridePrefix="";class nA extends ed{render(){return en("div",{})}componentDidMount(){this.setState({})}}function nS(e){var t,n;let r=(n={__c:t="__cC"+Z++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(function(e){e.__e=!0,eh(e)})},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}}).Provider.__=n.Consumer.contextType=n,i=r.Provider;return r.Provider=function(){let e=!this.getChildContext,t=i.apply(this,arguments);if(e){let e=[];this.shouldComponentUpdate=t=>{this.props.value!==t.value&&e.forEach(e=>{e.context=t.value,e.forceUpdate()})},this.sub=t=>{e.push(t);let n=t.componentWillUnmount;t.componentWillUnmount=()=>{e.splice(e.indexOf(t),1),n&&n.call(t)}}}return t},r}class n_{constructor(e,t,n,r){this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=r,this.handleScrollRequest=e=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},e),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const nC=nS({});function nD(e,t,n,r,i,s,a,o,l,c,d,u,h,f){return{dateEnv:i,nowManager:s,options:n,pluginHooks:o,emitter:d,dispatch:l,getCurrentData:c,calendarApi:u,viewSpec:e,viewApi:t,dateProfileGenerator:r,theme:a,isRtl:"rtl"===n.direction,addResizeHandler(e){d.on("_resize",e)},removeResizeHandler(e){d.off("_resize",e)},createScrollResponder:e=>new n_(e,d,tw(n.scrollTime),n.scrollTimeReset),registerInteractiveComponent:h,unregisterInteractiveComponent:f}}class nT extends ed{shouldComponentUpdate(e,t){return!nm(this.props,e,this.propEquality)||!nm(this.state,t,this.stateEquality)}safeSetState(e){nm(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}nT.addPropsEquality=function(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t},nT.addStateEquality=function(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t},nT.contextType=nC,nT.prototype.propEquality={},nT.prototype.stateEquality={};class nx extends nT{}function nR(e,t){"function"==typeof e?e(t):e&&(e.current=t)}nx.contextType=nC;class nI extends nx{constructor(){super(...arguments),this.id=tf(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{let{options:t}=this.context,{generatorName:n}=this.props;t.customRenderingReplaces&&nk(n,t)||this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&nR(this.props.elRef,e)}}render(){let e,t,{props:n,context:r}=this,{options:i}=r,{customGenerator:s,defaultGenerator:a,renderProps:o}=n,l=nM(n,[],this.handleEl),c=!1,d=[];if(null!=s){let n="function"==typeof s?s(o,en):s;if(!0===n)c=!0;else{let r=n&&"object"==typeof n;if(r&&"html"in n)l.dangerouslySetInnerHTML={__html:n.html};else if(r&&"domNodes"in n)d=Array.prototype.slice.call(n.domNodes);else(r?null!=n&&void 0===n.constructor:"function"!=typeof n)?e=n:t=n}}else c=!nk(n.generatorName,i);return c&&a&&(e=a(o)),this.queuedDomNodes=d,this.currentGeneratorMeta=t,en(n.elTag,l,e)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;let{props:n,context:r}=this,{handleCustomRendering:i,customRenderingMetaMap:s}=r.options;if(i){let r=null!=(t=this.currentGeneratorMeta)?t:null==s?void 0:s[n.generatorName];r&&i(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:r},n),{elClasses:(n.elClasses||[]).filter(nO)}))}}applyQueueudDomNodes(){let{queuedDomNodes:e,currentDomNodes:t}=this,n=this.base;if(!tx(e,t)){for(let r of(t.forEach(e9),e))n.appendChild(r);this.currentDomNodes=e}}}function nk(e,t){var n;return!!(t.handleCustomRendering&&e&&(null==(n=t.customRenderingMetaMap)?void 0:n[e]))}function nM(e,t,n){let r=Object.assign(Object.assign({},e.elAttrs),{ref:n});return(e.elClasses||t)&&(r.className=(e.elClasses||[]).concat(t||[]).concat(r.className||[]).filter(Boolean).join(" ")),e.elStyle&&(r.style=e.elStyle),r}function nO(e){return!!e}nI.addPropsEquality({elClasses:tx,elStyle:np,elAttrs:function(e,t){for(let n of function(e,t){let n=[];for(let r in e)!nl.call(e,r)||r in t||n.push(r);for(let r in t)nl.call(t,r)&&e[r]!==t[r]&&n.push(r);return n}(e,t))if(!ng.test(n))return!1;return!0},renderProps:np});const nN=nS(0);class nP extends ed{constructor(){super(...arguments),this.InnerContent=nL.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(nR(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){let{props:e}=this,t=function(e,t){let n="function"==typeof e?e(t):e||[];return"string"==typeof n?[n]:n}(e.classNameGenerator,e.renderProps);if(!e.children)return en(nI,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}));{let n=nM(e,t,this.handleEl),r=e.children(this.InnerContent,e.renderProps,n);return e.elTag?en(e.elTag,n,r):r}}componentDidMount(){var e,t;this.el?null==(t=(e=this.props).didMount)||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;null==(t=(e=this.props).willUnmount)||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}function nL(e,t){let n=e.props;return en(nI,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:e.context},t))}nP.contextType=nN;class nH extends nx{render(){let{props:e,context:t}=this,{options:n}=t,r={view:t.viewApi};return en(nP,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...nU(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount},()=>e.children)}}function nU(e){return[`fc-${e.type}-view`,"fc-view"]}function nj(e,t){let n,r,i=[],{start:s}=t;for(e.sort(nB),n=0;n<e.length;n+=1)(r=e[n]).start>s&&i.push({start:s,end:r.start}),r.end>s&&(s=r.end);return s<t.end&&i.push({start:s,end:t.end}),i}function nB(e,t){return e.start.valueOf()-t.start.valueOf()}function nz(e,t){let{start:n,end:r}=e,i=null;return null!==t.start&&(n=null===n?t.start:new Date(Math.max(n.valueOf(),t.start.valueOf()))),null!=t.end&&(r=null===r?t.end:new Date(Math.min(r.valueOf(),t.end.valueOf()))),(null===n||null===r||n<r)&&(i={start:n,end:r}),i}function nF(e,t){return(null===e.end||null===t.start||e.end>t.start)&&(null===e.start||null===t.end||e.start<t.end)}function n$(e,t){return(null===e.start||null!==t.start&&t.start>=e.start)&&(null===e.end||null!==t.end&&t.end<=e.end)}function nV(e,t){return(null===e.start||t>=e.start)&&(null===e.end||t<e.end)}function nW(e){let t=Math.floor(tO(e.start,e.end))||1,n=tP(e.start),r=tk(n,t);return{start:n,end:r}}function nG(e,t=tw(0)){let n=null,r=null;if(e.end){r=tP(e.end);let n=e.end.valueOf()-r.valueOf();n&&n>=tC(t)&&(r=tk(r,1))}return e.start&&(n=tP(e.start),r&&r<=n&&(r=tk(n,1))),{start:n,end:r}}function nq(e,t,n,r){let i,s;return"year"===r?tw(n.diffWholeYears(e,t),"year"):"month"===r?tw(n.diffWholeMonths(e,t),"month"):{years:0,months:0,days:Math.round(tO(i=tP(e),s=tP(t))),milliseconds:t.valueOf()-s.valueOf()-(e.valueOf()-i.valueOf())}}class nQ{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,n){let{dateEnv:r}=this.props,i=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,-1,n)}buildNext(e,t,n){let{dateEnv:r}=this.props,i=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,1,n)}build(e,t,n=!0){var r,i;let s,a,o,l,c,d,{props:u}=this;return s=this.buildValidRange(),s=this.trimHiddenDays(s),n&&(r=e,e=null!=(i=s).start&&r<i.start?i.start:null!=i.end&&r>=i.end?new Date(i.end.valueOf()-1):r),a=this.buildCurrentRangeInfo(e,t),o=/^(year|month|week|day)$/.test(a.unit),l=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,o),c=l=this.trimHiddenDays(l),u.showNonCurrentDates||(c=nz(c,a.range)),c=nz(c=this.adjustActiveRange(c),s),d=nF(a.range,s),nV(l,e)||(e=l.start),{currentDate:e,validRange:s,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:o,activeRange:c,renderRange:l,slotMinTime:u.slotMinTime,slotMaxTime:u.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(a.duration)}}buildValidRange(){let e=this.props.validRangeInput,t="function"==typeof e?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let n,{props:r}=this,i=null,s=null,a=null;return r.duration?(i=r.duration,s=r.durationUnit,a=this.buildRangeFromDuration(e,t,i,s)):(n=this.props.dayCount)?(s="day",a=this.buildRangeFromDayCount(e,t,n)):(a=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(a.start,a.end).unit:(s=tT(i=this.getFallbackDuration()).unit,a=this.buildRangeFromDuration(e,t,i,s)),{duration:i,unit:s,range:a}}getFallbackDuration(){return tw({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:r,slotMaxTime:i}=this.props,{start:s,end:a}=e;return n&&(0>t_(r)&&(s=tP(s),s=t.add(s,r)),t_(i)>1&&(a=tk(a=tP(a),-1),a=t.add(a,i))),{start:s,end:a}}buildRangeFromDuration(e,t,n,r){let i,s,a,{dateEnv:o,dateAlignment:l}=this.props;if(!l){let{dateIncrement:e}=this.props;l=e&&tC(e)<tC(n)?tT(e).unit:r}function c(){i=o.startOf(e,l),s=o.add(i,n),a={start:i,end:s}}return 1>=t_(n)&&this.isHiddenDay(i)&&(i=tP(i=this.skipHiddenDays(i,t))),c(),this.trimHiddenDays(a)||(e=this.skipHiddenDays(e,t),c()),a}buildRangeFromDayCount(e,t,n){let r,{dateEnv:i,dateAlignment:s}=this.props,a=0,o=e;s&&(o=i.startOf(o,s)),o=tP(o),r=o=this.skipHiddenDays(o,t);do r=tk(r,1),this.isHiddenDay(r)||(a+=1);while(a<n)return{start:o,end:r}}buildCustomVisibleRange(e){let{props:t}=this,n=t.visibleRangeInput,r="function"==typeof n?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,i=this.refineRange(r);return i&&(null==i.start||null==i.end)?null:i}buildRenderRange(e,t,n){return e}buildDateIncrement(e){let t,{dateIncrement:n}=this.props;return n||((t=this.props.dateAlignment)?tw(1,t):e||tw({days:1}))}refineRange(e){if(e){var t;let n,r,i=(t=this.props.dateEnv,n=null,r=null,(e.start&&(n=t.createMarker(e.start)),e.end&&(r=t.createMarker(e.end)),!n&&!r||n&&r&&r<n)?null:{start:n,end:r});return i&&(i=nG(i)),i}return null}initHiddenDays(){let e,t=this.props.hiddenDays||[],n=[],r=0;for(!1===this.props.weekends&&t.push(0,6),e=0;e<7;e+=1)(n[e]=-1!==t.indexOf(e))||(r+=1);if(!r)throw Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:t,end:n}=e;return(t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),null==t||null==n||t<n)?{start:t,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=tk(e,t);return e}}function nY(e,t,n,r){return{instanceId:tf(),defId:e,range:t,forcedStartTzo:null==n?null:n,forcedEndTzo:null==r?null:r}}function nZ(e,t,n){let{dateEnv:r,pluginHooks:i,options:s}=n,{defs:a,instances:o}=e;for(let e in o=nd(o,e=>!a[e.defId].recurringDef),a){let n=a[e];if(n.recurringDef){let{duration:a}=n.recurringDef;for(let l of(a||(a=n.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration),function(e,t,n,r,i){let s=i[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:r.subtract(n.start,t),end:n.end},r);return e.allDay&&(s=s.map(tP)),s}(n,a,t,r,i.recurringTypes))){let t=nY(e,{start:l,end:r.add(l,a)});o[t.instanceId]=t}}}return{defs:a,instances:o}}const nJ={id:String,groupId:String,title:String,url:String,interactive:Boolean},nX={start:no,end:no,date:no,allDay:Boolean},nK=Object.assign(Object.assign(Object.assign({},nJ),nX),{extendedProps:no});function n0(e,t,n,r,i=n3(n),s,a){var o,l;let c,{refined:d,extra:u}=n1(e,n,i),h=(o=t,l=n,c=null,o&&(c=o.defaultAllDay),null==c&&(c=l.options.defaultAllDay),c),f=function(e,t,n,r){for(let i=0;i<r.length;i+=1){let s=r[i].parse(e,n);if(s){let{allDay:n}=e;return null==n&&null==(n=t)&&null==(n=s.allDayGuess)&&(n=!1),{allDay:n,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}(d,h,n.dateEnv,n.pluginHooks.recurringTypes);if(f){let e=n2(d,u,t?t.sourceId:"",f.allDay,!!f.duration,n,s);return e.recurringDef={typeId:f.typeId,typeData:f.typeData,duration:f.duration},{def:e,instance:null}}let p=function(e,t,n,r){let i,s,{allDay:a}=e,o=null,l=!1,c=null,d=null!=e.start?e.start:e.date;if(i=n.dateEnv.createMarkerMeta(d))o=i.marker;else if(!r)return null;return null!=e.end&&(s=n.dateEnv.createMarkerMeta(e.end)),null==a&&(a=null!=t?t:(!i||i.isTimeUnspecified)&&(!s||s.isTimeUnspecified)),a&&o&&(o=tP(o)),s&&(c=s.marker,a&&(c=tP(c)),o&&c<=o&&(c=null)),c?l=!0:r||(l=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,a?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:a,hasEnd:l,range:{start:o,end:c},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:s?s.forcedTzo:null}}(d,h,n,r);if(p){let e=n2(d,u,t?t.sourceId:"",p.allDay,p.hasEnd,n,s),r=nY(e.defId,p.range,p.forcedStartTzo,p.forcedEndTzo);return a&&e.publicId&&a[e.publicId]&&(r.instanceId=a[e.publicId]),{def:e,instance:r}}return null}function n1(e,t,n=n3(t)){return na(e,n)}function n3(e){return Object.assign(Object.assign(Object.assign({},rt),nK),e.pluginHooks.eventRefiners)}function n2(e,t,n,r,i,s,a){let o={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(a&&e.id?a[e.id]:"")||tf(),sourceId:n,allDay:r,hasEnd:i,interactive:e.interactive,ui:rr(e,s),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let t of s.pluginHooks.eventDefMemberAdders)Object.assign(o,t(e));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function n4(e,t,n,r,i,s){let a=n8(),o=n3(n);for(let l of e){let e=n0(l,t,n,r,o,i,s);e&&n6(e,a)}return a}function n6(e,t=n8()){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function n5(e,t){let n=e.instances[t];if(n){let t=e.defs[n.defId],r=n9(e,e=>{var n,r;return n=t,r=e,!!(n.groupId&&n.groupId===r.groupId)});return r.defs[t.defId]=t,r.instances[n.instanceId]=n,r}return n8()}function n8(){return{defs:{},instances:{}}}function n7(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function n9(e,t){let n=nd(e.defs,t),r=nd(e.instances,e=>n[e.defId]);return{defs:n,instances:r}}function re(e){return Array.isArray(e)?e:"string"==typeof e?e.split(/\s+/):[]}const rt={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:no,overlap:no,allow:no,className:re,classNames:re,color:String,backgroundColor:String,borderColor:String,textColor:String},rn={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function rr(e,t){var n;let r=(n=e.constraint,Array.isArray(n)?n4(n,null,t,!0):"object"==typeof n&&n?n4([n],null,t,!0):null!=n?String(n):null);return{display:e.display||null,startEditable:null!=e.startEditable?e.startEditable:e.editable,durationEditable:null!=e.durationEditable?e.durationEditable:e.editable,constraints:null!=r?[r]:[],overlap:null!=e.overlap?e.overlap:null,allows:null!=e.allow?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function ri(e){return e.reduce(rs,rn)}function rs(e,t){return{display:null!=t.display?t.display:e.display,startEditable:null!=t.startEditable?t.startEditable:e.startEditable,durationEditable:null!=t.durationEditable?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:"boolean"==typeof t.overlap?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}const ra={id:String,defaultAllDay:Boolean,url:String,format:String,events:no,eventDataTransform:no,success:no,failure:no};function ro(e,t,n=rl(t)){let r;if("string"==typeof e?r={url:e}:"function"==typeof e||Array.isArray(e)?r={events:e}:"object"==typeof e&&e&&(r=e),r){let{refined:i,extra:s}=na(r,n),a=function(e,t){let n=t.pluginHooks.eventSourceDefs;for(let t=n.length-1;t>=0;t-=1){let r=n[t].parseMeta(e);if(r)return{sourceDefId:t,meta:r}}return null}(i,t);if(a)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:tf(),sourceDefId:a.sourceDefId,meta:a.meta,ui:rr(i,t),extendedProps:s}}return null}function rl(e){return Object.assign(Object.assign(Object.assign({},rt),ra),e.pluginHooks.eventSourceRefiners)}function rc(e,t,n){let r=n.options.eventDataTransform,i=t?t.eventDataTransform:null;return i&&(e=rd(e,i)),r&&(e=rd(e,r)),e}function rd(e,t){let n;if(t)for(let r of(n=[],e)){let e=t(r);e?n.push(e):null==e&&n.push(r)}else n=e;return n}function ru(e,t,n){let{defs:r}=e,i=nu(e.instances,e=>r[e.defId].allDay?e:Object.assign(Object.assign({},e),{range:{start:n.createMarker(t.toDate(e.range.start,e.forcedStartTzo)),end:n.createMarker(t.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:e.forcedEndTzo}));return{defs:r,instances:i}}function rh(e,t){return n9(e,e=>e.sourceId!==t)}class rf{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){var n,r,i;n=this.handlers,r=e,i=t,(n[r]||(n[r]=[])).push(i)}off(e,t){var n,r,i;n=this.handlers,r=e,(i=t)?n[r]&&(n[r]=n[r].filter(e=>e!==i)):delete n[r]}trigger(e,...t){let n=this.handlers[e]||[];for(let r of[].concat(this.options&&this.options[e]||[],n))r.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}const rp={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function rg(e,t,n){n.emitter.trigger("select",Object.assign(Object.assign({},rm(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function rm(e,t){var n,r;let i={};for(let n of t.pluginHooks.dateSpanTransforms)Object.assign(i,n(e,t));return Object.assign(i,(n=e,r=t.dateEnv,Object.assign(Object.assign({},rP(n.range,r,n.allDay)),{allDay:n.allDay}))),i}function rv(e,t,n){let{dateEnv:r,options:i}=n,s=t;return e?(s=tP(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}function rb(e,t,n,r){let i=rC(e.defs,t),s=n8();for(let t in e.defs){let a=e.defs[t];s.defs[t]=function(e,t,n,r){let i=n.standardProps||{};null==i.hasEnd&&t.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},e),i),{ui:Object.assign(Object.assign({},e.ui),i.ui)});for(let e of(n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps)),r.pluginHooks.eventDefMutationAppliers))e(s,n,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}(a,i[t],n,r)}for(let t in e.instances){let a=e.instances[t],o=s.defs[a.defId];s.instances[t]=function(e,t,n,r,i){let{dateEnv:s}=i,a=r.standardProps&&!0===r.standardProps.allDay,o=r.standardProps&&!1===r.standardProps.hasEnd,l=Object.assign({},e);return a&&(l.range=nW(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:s.add(l.range.start,r.datesDelta),end:s.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:s.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:s.add(l.range.end,r.endDelta)}),o&&(l.range={start:l.range.start,end:rv(t.allDay,l.range.start,i)}),t.allDay&&(l.range={start:tP(l.range.start),end:tP(l.range.end)}),l.range.end<l.range.start&&(l.range.end=rv(t.allDay,l.range.start,i)),l}(a,o,i[a.defId],n,r)}return s}class ry{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class rE{constructor(e,t,n){this._context=e,this._def=t,this._instance=n||null}setProp(e,t){if(e in nX)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===e)t=nJ[e](t),this.mutate({standardProps:{publicId:t}});else if(e in nJ)t=nJ[e](t),this.mutate({standardProps:{[e]:t}});else if(e in rt){let n=rt[e](t);n="color"===e?{backgroundColor:t,borderColor:t}:"editable"===e?{startEditable:t,durationEditable:t}:{[e]:t},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:n}=this._context,r=n.createMarker(e);if(r&&this._instance){let e=nq(this._instance.range.start,r,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:e}):this.mutate({startDelta:e})}}setEnd(e,t={}){let n,{dateEnv:r}=this._context;if((null==e||(n=r.createMarker(e)))&&this._instance)if(n){let e=nq(this._instance.range.end,n,r,t.granularity);this.mutate({endDelta:e})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,n={}){let r,{dateEnv:i}=this._context,s={allDay:n.allDay},a=i.createMarker(e);if(a){if(null!=t&&!(r=i.createMarker(t)))return;if(this._instance){let e=this._instance.range;!0===n.allDay&&(e=nW(e));let t=nq(e.start,a,i,n.granularity);if(r){let a=nq(e.end,r,i,n.granularity);t.years===a.years&&t.months===a.months&&t.days===a.days&&t.milliseconds===a.milliseconds?this.mutate({datesDelta:t,standardProps:s}):this.mutate({startDelta:t,endDelta:a,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:t,standardProps:s})}}}moveStart(e){let t=tw(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=tw(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=tw(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let n={allDay:e},{maintainDuration:r}=t;null==r&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=r),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:t}=this._context,n=this._instance,r=t8(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,r,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,r,{forcedTzo:n.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let n=this._def,r=this._context,{eventStore:i}=r.getCurrentData(),s=n5(i,t.instanceId);s=rb(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let a=new rE(r,n,t);this._def=s.defs[n.defId],this._instance=s.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:s}),r.emitter.trigger("eventChange",{oldEvent:a,event:this,relatedEvents:rA(s,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:i})}})}}remove(){let e=this._context,t=rw(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new ry(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:n}=t,{startStr:r,endStr:i}=this,s={allDay:t.allDay};return t.title&&(s.title=t.title),r&&(s.start=r),i&&(s.end=i),t.publicId&&(s.id=t.publicId),t.groupId&&(s.groupId=t.groupId),t.url&&(s.url=t.url),n.display&&"auto"!==n.display&&(s.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?s.color=n.backgroundColor:(n.backgroundColor&&(s.backgroundColor=n.backgroundColor),n.borderColor&&(s.borderColor=n.borderColor)),n.textColor&&(s.textColor=n.textColor),n.classNames.length&&(s.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,t.extendedProps):s.extendedProps=t.extendedProps),s}toJSON(){return this.toPlainObject()}}function rw(e){let t=e._def,n=e._instance;return{defs:{[t.defId]:t},instances:n?{[n.instanceId]:n}:{}}}function rA(e,t,n){let{defs:r,instances:i}=e,s=[],a=n?n.instanceId:"";for(let e in i){let n=i[e],o=r[n.defId];n.instanceId!==a&&s.push(new rE(t,o,n))}return s}function rS(e,t,n,r){let i={},s={},a={},o=[],l=[],c=rC(e.defs,t);for(let t in e.defs){let n=e.defs[t];"inverse-background"===c[n.defId].display&&(n.groupId?(i[n.groupId]=[],a[n.groupId]||(a[n.groupId]=n)):s[t]=[])}for(let t in e.instances){let a=e.instances[t],d=e.defs[a.defId],u=c[d.defId],h=a.range,f=!d.allDay&&r?nG(h,r):h,p=nz(f,n);p&&("inverse-background"===u.display?d.groupId?i[d.groupId].push(p):s[a.defId].push(p):"none"!==u.display&&("background"===u.display?o:l).push({def:d,ui:u,instance:a,range:p,isStart:f.start&&f.start.valueOf()===p.start.valueOf(),isEnd:f.end&&f.end.valueOf()===p.end.valueOf()}))}for(let e in i)for(let t of nj(i[e],n)){let n=a[e],r=c[n.defId];o.push({def:n,ui:r,instance:null,range:t,isStart:!1,isEnd:!1})}for(let t in s)for(let r of nj(s[t],n))o.push({def:e.defs[t],ui:c[t],instance:null,range:r,isStart:!1,isEnd:!1});return{bg:o,fg:l}}function r_(e){return e.fcSeg||e.parentNode.fcSeg||null}function rC(e,t){return nu(e,e=>rD(e,t))}function rD(e,t){let n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),ri(n)}function rT(e,t){let n=e.map(rx);return n.sort((e,n)=>(function(e,t,n){let r,i;for(r=0;r<n.length;r+=1)if(i=function(e,t,n){var r,i;return n.func?n.func(e,t):(r=e[n.field],i=t[n.field],(r||i?null==i?-1:null==r?1:"string"==typeof r||"string"==typeof i?String(r).localeCompare(String(i)):r-i:0)*(n.order||1))}(e,t,n[r]))return i;return 0})(e,n,t)),n.map(e=>e._seg)}function rx(e){let{eventRange:t}=e,n=t.def,r=t.instance?t.instance.range:t.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:s,duration:s-i,allDay:Number(n.allDay),_seg:e})}function rR(e,t,n,r,i,s,a){let{dateEnv:o,options:l}=n,{displayEventTime:c,displayEventEnd:d}=l,u=e.eventRange.def,h=e.eventRange.instance;null==c&&(c=!1!==r),null==d&&(d=!1!==i);let f=h.range.start,p=h.range.end,g=s||e.start||e.eventRange.range.start,m=a||e.end||e.eventRange.range.end,v=tP(f).valueOf()===tP(g).valueOf(),b=tP(tM(p,-1)).valueOf()===tP(tM(m,-1)).valueOf();return c&&!u.allDay&&(v||b)?(g=v?f:g,m=b?p:m,d&&u.hasEnd)?o.formatRange(g,m,t,{forcedStartTzo:s?null:h.forcedStartTzo,forcedEndTzo:a?null:h.forcedEndTzo}):o.format(g,t,{forcedTzo:s?null:h.forcedStartTzo}):""}function rI(e,t,n){let r=e.eventRange.range;return{isPast:r.end<=(n||t.start),isFuture:r.start>=(n||t.end),isToday:t&&nV(t,r.start)}}function rk(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function rM(e,t){let{def:n,instance:r}=e.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:s,options:a}=t,{eventInteractive:o}=a;return(null==o&&null==(o=n.interactive)&&(o=!!s.hasHandlers("eventClick")),o)?tu(e=>{s.trigger("eventClick",{el:e.target,event:new rE(t,n,r),jsEvent:e,view:t.viewApi})}):{}}const rO={start:no,end:no,allDay:Boolean};function rN(e,t,n){return Object.assign(Object.assign({},rP(e,t,n)),{timeZone:t.timeZone})}function rP(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}class rL extends Error{constructor(e,t){super(e),this.response=t}}function rH(){return null==r&&(r=function(){if("undefined"==typeof document)return!0;let e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);let t=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),t}()),r}class rU extends nx{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{nw(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{nw(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:n}=this.state,r=n||"auto"===t.height||"auto"===t.contentHeight,i=r||null==t.height?"":t.height,s=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return rH()||s.push("fc-liquid-hack"),e.children(s,i,r,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class rj{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function rB(e){return{[e.component.uid]:e}}const rz={};class rF extends ed{constructor(e,t){super(e,t),this.handleRefresh=()=>{let e=this.computeTiming();e.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(e.state),this.clearTimeout(),this.setTimeout(e.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let e,t,{props:n,context:r}=this,i=r.nowManager.getDateMarker(),s=r.dateEnv.startOf(i,n.unit),a=r.dateEnv.add(s,tw(1,n.unit)).valueOf()-i.valueOf();return a=Math.min(864e5,a),{state:{nowDate:s,todayRange:(t=tk(e=tP(s),1),{start:e,end:t})},waitMs:a}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{let e=this.computeTiming();this.setState(e.state,()=>{this.setTimeout(e.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}rF.contextType=nC;class r${getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let n,r=this.getCurrentData();t=t||"day",n=r.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),n?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:n.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let t,n,{viewSpecs:r,toolbarConfig:i}=this.getCurrentData(),s=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]);for(let e in r)s.push(e);for(t=0;t<s.length;t+=1)if((n=r[s[t]])&&n.singleUnit===e)return n;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),n=tw(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),t8(t))}formatRange(e,t,n){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),t8(n),n)}formatIso(e,t){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:t})}select(e,t){let n;n=null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t};let r=this.getCurrentData(),i=function(e,t,n){let r=function(e,t){let{refined:n,extra:r}=na(e,rO),i=n.start?t.createMarkerMeta(n.start):null,s=n.end?t.createMarkerMeta(n.end):null,{allDay:a}=n;return null==a&&(a=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:a},r)}(e,t),{range:i}=r;if(!i.start)return null;if(!i.end){if(null==n)return null;i.end=t.add(i.start,n)}return r}(n,r.dateEnv,tw({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),rg(i,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}addEvent(e,t){let n;if(e instanceof rE){let t=e._def,n=e._instance;return this.getCurrentData().eventStore.defs[t.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:n6({def:t,instance:n})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData();if(t instanceof ry)n=t.internalEventSource;else if("boolean"==typeof t)t&&([n]=nf(r.eventSources));else if(null!=t){let e=this.getEventSourceById(t);if(!e)return console.warn(`Could not find an event source with ID "${t}"`),null;n=e.internalEventSource}let i=n0(e,n,r,!1);if(i){let e=new rE(r,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:n6(i)}),this.triggerEventAdd(e),e}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:rw(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:n,instances:r}=t.eventStore;for(let i in e=String(e),n){let s=n[i];if(s.publicId===e){if(s.recurringDef)return new rE(t,s,null);for(let e in r){let n=r[e];if(n.defId===s.defId)return new rE(t,s,n)}}}return null}getEvents(){let e=this.getCurrentData();return rA(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,n=[];for(let r in t)n.push(new ry(e,t[r]));return n}getEventSourceById(e){let t=this.getCurrentData(),n=t.eventSources;for(let r in e=String(e),n)if(n[r].publicId===e)return new ry(t,n[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof ry)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=ro(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new ry(t,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=tw(e);t&&this.trigger("_scrollRequest",{time:t})}}function rV(e,t){let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}const rW=n8();class rG{constructor(){this.getKeysForEventDefs=tG(this._getKeysForEventDefs),this.splitDateSelection=tG(this._splitDateSpan),this.splitEventStore=tG(this._splitEventStore),this.splitIndividualUi=tG(this._splitIndividualUi),this.splitEventDrag=tG(this._splitInteraction),this.splitEventResize=tG(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),i=this.splitIndividualUi(e.eventUiBases,n),s=this.splitEventStore(e.eventStore,n),a=this.splitEventDrag(e.eventDrag),o=this.splitEventResize(e.eventResize),l={};for(let n in this.eventUiBuilders=nu(t,(e,t)=>this.eventUiBuilders[t]||tG(rq)),t){let c=t[n],d=s[n]||rW,u=this.eventUiBuilders[n];l[n]={businessHours:c.businessHours||e.businessHours,dateSelection:r[n]||null,eventStore:d,eventUiBases:u(e.eventUiBases[""],c.ui,i[n]),eventSelection:d.instances[e.eventSelection]?e.eventSelection:"",eventDrag:a[n]||null,eventResize:o[n]||null}}return l}_splitDateSpan(e){let t={};if(e)for(let n of this.getKeysForDateSpan(e))t[n]=e;return t}_getKeysForEventDefs(e){return nu(e.defs,e=>this.getKeysForEventDef(e))}_splitEventStore(e,t){let{defs:n,instances:r}=e,i={};for(let e in n)for(let r of t[e])i[r]||(i[r]=n8()),i[r].defs[e]=n[e];for(let e in r){let n=r[e];for(let r of t[n.defId])i[r]&&(i[r].instances[e]=n)}return i}_splitIndividualUi(e,t){let n={};for(let r in e)if(r)for(let i of t[r])n[i]||(n[i]={}),n[i][r]=e[r];return n}_splitInteraction(e){let t={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),i=this._splitEventStore(e.mutatedEvents,r),s=r=>{t[r]||(t[r]={affectedEvents:n[r]||rW,mutatedEvents:i[r]||rW,isEvent:e.isEvent})};for(let e in n)s(e);for(let e in i)s(e)}return t}}function rq(e,t,n){let r=[];e&&r.push(e),t&&r.push(t);let i={"":ri(r)};return n&&Object.assign(i,n),i}function rQ(e,t,n,r){return{dow:e.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!nV(r.activeRange,e))),isOther:!!(r&&!nV(r.currentRange,e)),isToday:!!(t&&nV(t,e)),isPast:!!(n?e<n:!!t&&e<t.start),isFuture:!!(n?e>n:!!t&&e>=t.end)}}function rY(e,t){let n=["fc-day",`fc-day-${tR[e.dow]}`];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}const rZ=t8({year:"numeric",month:"long",day:"numeric"}),rJ=t8({week:"long"});function rX(e,t,n="day",r=!0){let{dateEnv:i,options:s,calendarApi:a}=e,o=i.format(t,"week"===n?rJ:rZ);if(s.navLinks){let e=i.toDate(t),l=e=>{let r="day"===n?s.navLinkDayClick:"week"===n?s.navLinkWeekClick:null;"function"==typeof r?r.call(a,i.toDate(t),e):("string"==typeof r&&(n=r),a.zoomTo(t,n))};return Object.assign({title:tv(s.navLinkHint,[o,e],o),"data-navlink":""},r?td(l):{onClick:l})}return{"aria-label":o}}let rK=null;function r0(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function r1(e){let t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function r3(e){let t=[];for(;e instanceof HTMLElement;){let n=window.getComputedStyle(e);if("fixed"===n.position)break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}class r2{constructor(e,t,n,r){this.els=t;let i=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(i.left),r&&this.buildElVerticals(i.top)}buildElHorizontals(e){let t=[],n=[];for(let r of this.els){let i=r.getBoundingClientRect();t.push(i.left-e),n.push(i.right-e)}this.lefts=t,this.rights=n}buildElVerticals(e){let t=[],n=[];for(let r of this.els){let i=r.getBoundingClientRect();t.push(i.top-e),n.push(i.bottom-e)}this.tops=t,this.bottoms=n}leftToIndex(e){let t,{lefts:n,rights:r}=this,i=n.length;for(t=0;t<i;t+=1)if(e>=n[t]&&e<r[t])return t}topToIndex(e){let t,{tops:n,bottoms:r}=this,i=n.length;for(t=0;t<i;t+=1)if(e>=n[t]&&e<r[t])return t}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return r4(this.tops||[],e.tops||[])&&r4(this.bottoms||[],e.bottoms||[])&&r4(this.lefts||[],e.lefts||[])&&r4(this.rights||[],e.rights||[])}}function r4(e,t){let n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(Math.round(e[r])!==Math.round(t[r]))return!1;return!0}class r6{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class r5 extends r6{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class r8 extends r6{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class r7 extends nx{constructor(){super(...arguments),this.uid=tf()}prepareHits(){}queryHit(e,t,n,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!te(e,".fc-event-mirror")}isValidDateDownEl(e){return!te(e,".fc-event:not(.fc-bg-event)")&&!te(e,".fc-more-link")&&!te(e,"a[data-navlink]")&&!te(e,".fc-popover")}}class r9{constructor(e=e=>e.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let n of e)this.insertEntry(n,t);return t}insertEntry(e,t){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,t)}isInsertionValid(e,t){return(-1===this.maxCoord||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(-1===this.maxStackCnt||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,n){if(this.allowReslicing&&e.touchingEntry){let r=Object.assign(Object.assign({},t),{span:ir(t.span,e.touchingEntry.span)});n.push(r),this.splitEntry(t,e.touchingEntry,n)}else n.push(t)}splitEntry(e,t,n){let r=e.span,i=t.span;r.start<i.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:i.start}},n),r.end>i.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.end,end:r.end}},n)}insertEntryAt(e,t){let{entriesByLevel:n,levelCoords:r}=this;-1===t.lateral?(ii(r,t.level,t.levelCoord),ii(n,t.level,[e])):ii(n[t.level],t.lateral,e),this.stackCnts[it(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:n,strictOrder:r,stackCnts:i}=this,s=t.length,a=0,o=-1,l=-1,c=null,d=0;for(let u=0;u<s;u+=1){let s,h=t[u];if(!r&&h>=a+this.getEntryThickness(e))break;let f=n[u],p=is(f,e.span.start,ie),g=p[0]+p[1];for(;(s=f[g])&&s.span.start<e.span.end;){let e=h+this.getEntryThickness(s);e>a&&(a=e,c=s,o=u,l=g),e===a&&(d=Math.max(d,i[it(s)]+1)),g+=1}}let u=0;if(c)for(u=o+1;u<s&&t[u]<a;)u+=1;let h=-1;return u<s&&t[u]===a&&(h=is(n[u],e.span.end,ie)[0]),{touchingLevel:o,touchingLateral:l,touchingEntry:c,stackCnt:d,levelCoord:a,level:u,lateral:h}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,n=e.length,r=[];for(let i=0;i<n;i+=1){let n=e[i],s=t[i];for(let e of n)r.push(Object.assign(Object.assign({},e),{thickness:this.getEntryThickness(e),levelCoord:s}))}return r}}function ie(e){return e.span.end}function it(e){return e.index+":"+e.span.start}function ir(e,t){let n=Math.max(e.start,t.start),r=Math.min(e.end,t.end);return n<r?{start:n,end:r}:null}function ii(e,t,n){e.splice(t,0,n)}function is(e,t,n){let r=0,i=e.length;if(!i||t<n(e[r]))return[0,0];if(t>n(e[i-1]))return[i,0];for(;r<i;){let s=Math.floor(r+(i-r)/2),a=n(e[s]);if(t<a)i=s;else{if(!(t>a))return[s,1];r=s+1}}return[r,0]}class ia{constructor(e,t){this.emitter=new rf}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const io={},il="fc-col-header-cell";function ic(e){return e.text}class id extends nx{render(){let{dateEnv:e,options:t,theme:n,viewApi:r}=this.context,{props:i}=this,{date:s,dateProfile:a}=i,o=rQ(s,i.todayRange,null,a),l=[il].concat(rY(o,n)),c=e.format(s,i.dayHeaderFormat),d=!o.isDisabled&&i.colCnt>1?rX(this.context,s):{},u=e.toDate(s);e.namedTimeZoneImpl&&(u=tM(u,36e5));let h=Object.assign(Object.assign(Object.assign({date:u,view:r},i.extraRenderProps),{text:c}),o);return en(nP,{elTag:"th",elClasses:l,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":o.isDisabled?void 0:tV(s)},i.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:ic,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},e=>en("div",{className:"fc-scrollgrid-sync-inner"},!o.isDisabled&&en(e,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]})))}}const iu=t8({weekday:"long"});class ih extends nx{render(){let{props:e}=this,{dateEnv:t,theme:n,viewApi:r,options:i}=this.context,s=tk(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},o=t.format(s,e.dayHeaderFormat),l=Object.assign(Object.assign(Object.assign(Object.assign({date:s},a),{view:r}),e.extraRenderProps),{text:o});return en(nP,{elTag:"th",elClasses:[il,...rY(a,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:l,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:ic,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},n=>en("div",{className:"fc-scrollgrid-sync-inner"},en(n,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(s,iu)}})))}}class ip extends nx{constructor(){super(...arguments),this.createDayHeaderFormatter=tG(ig)}render(){let{context:e}=this,{dates:t,dateProfile:n,datesRepDistinctDays:r,renderIntro:i}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return en(rF,{unit:"day"},(e,a)=>en("tr",{role:"row"},i&&i("day"),t.map(e=>r?en(id,{key:e.toISOString(),date:e,dateProfile:n,todayRange:a,colCnt:t.length,dayHeaderFormat:s}):en(ih,{key:e.getUTCDay(),dow:e.getUTCDay(),dayHeaderFormat:s}))))}}function ig(e,t,n){return e||(!t||n>10?t8({weekday:"short"}):n>1?t8({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):t8({weekday:"long"}))}class im{constructor(e,t){let n=e.start,{end:r}=e,i=[],s=[],a=-1;for(;n<r;)t.isHiddenDay(n)?i.push(a+.5):(i.push(a+=1),s.push(n)),n=tk(n,1);this.dates=s,this.indices=i,this.cnt=s.length}sliceRange(e){let t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(tk(e.end,-1)),r=Math.max(0,t),i=Math.min(this.cnt-1,n);return(r=Math.ceil(r))<=(i=Math.floor(i))?{firstIndex:r,lastIndex:i,isStart:t===r,isEnd:n===i}:null}getDateDayIndex(e){let{indices:t}=this,n=Math.floor(tO(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]}}class iv{constructor(e,t){let n,r,i,{dates:s}=e;if(t){for(n=1,r=s[0].getUTCDay();n<s.length&&s[n].getUTCDay()!==r;n+=1);i=Math.ceil(s.length/n)}else i=1,n=s.length;this.rowCnt=i,this.colCnt=n,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let n=[];for(let e=0;e<this.colCnt;e+=1)n.push(this.buildCell(t,e));e.push(n)}return e}buildCell(e,t){let n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,n=this.daySeries.sliceRange(e),r=[];if(n){let{firstIndex:e,lastIndex:i}=n,s=e;for(;s<=i;){let a=Math.floor(s/t),o=Math.min((a+1)*t,i+1);r.push({row:a,firstCol:s%t,lastCol:(o-1)%t,isStart:n.isStart&&s===e,isEnd:n.isEnd&&o-1===i}),s=o}}return r}}class ib{constructor(){this.sliceBusinessHours=tG(this._sliceBusinessHours),this.sliceDateSelection=tG(this._sliceDateSpan),this.sliceEventStore=tG(this._sliceEventStore),this.sliceEventDrag=tG(this._sliceInteraction),this.sliceEventResize=tG(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,n,r,...i){let{eventUiBases:s}=e,a=this.sliceEventStore(e.eventStore,s,t,n,...i);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,n,s,r,...i),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,n,r,...i),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,t,n,...i),eventResize:this.sliceEventResize(e.eventResize,s,t,n,...i),eventSelection:e.eventSelection}}sliceNowDate(e,t,n,r,...i){return this._sliceDateSpan({range:{start:e,end:tM(e,1)},allDay:!1},t,n,{},r,...i)}_sliceBusinessHours(e,t,n,r,...i){return e?this._sliceEventStore(nZ(e,iy(t,!!n),r),{},t,n,...i).bg:[]}_sliceEventStore(e,t,n,r,...i){if(e){let s=rS(e,t,iy(n,!!r),r);return{bg:this.sliceEventRanges(s.bg,i),fg:this.sliceEventRanges(s.fg,i)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,n,r,...i){if(!e)return null;let s=rS(e.mutatedEvents,t,iy(n,!!r),r);return{segs:this.sliceEventRanges(s.fg,i),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,n,r,i,...s){if(!e)return[];let a=iy(t,!!n),o=nz(e.range,a);if(o){var l;let t,n,a=(l=e=Object.assign(Object.assign({},e),{range:o}),{def:n=n2((t=n1({editable:!1},i)).refined,t.extra,"",l.allDay,!0,i),ui:rD(n,r),instance:nY(n.defId,l.range),range:l.range,isStart:!0,isEnd:!0}),c=this.sliceRange(e.range,...s);for(let e of c)e.eventRange=a;return c}return[]}sliceEventRanges(e,t){let n=[];for(let r of e)n.push(...this.sliceEventRange(r,t));return n}sliceEventRange(e,t){let n=e.range;this.forceDayIfListItem&&"list-item"===e.ui.display&&(n={start:n.start,end:tk(n.start,1)});let r=this.sliceRange(n,...t);for(let t of r)t.eventRange=e,t.isStart=e.isStart&&t.isStart,t.isEnd=e.isEnd&&t.isEnd;return r}}function iy(e,t){let n=e.activeRange;return t?n:{start:tM(n.start,e.slotMinTime.milliseconds),end:tM(n.end,e.slotMaxTime.milliseconds-864e5)}}function iE(e,t,n){let{instances:r}=e.mutatedEvents;for(let e in r)if(!n$(t.validRange,r[e].range))return!1;return iw({eventDrag:e},n)}function iw(e,t){let n=t.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||function(e,t,n={},r){return(!e.eventDrag||!!function(e,t,n,r){var i,s;let a=t.getCurrentData(),o=e.eventDrag,l=o.mutatedEvents,c=l.defs,d=l.instances,u=rC(c,o.isEvent?e.eventUiBases:{"":a.selectionConfig});r&&(u=nu(u,r));let h=(i=e.eventStore,s=o.affectedEvents.instances,{defs:i.defs,instances:nd(i.instances,e=>!s[e.instanceId])}),f=h.defs,p=h.instances,g=rC(f,e.eventUiBases);for(let r in d){let i=d[r],s=i.range,l=u[i.defId],m=c[i.defId];if(!iA(l.constraints,s,h,e.businessHours,t))return!1;let{eventOverlap:v}=t.options,b="function"==typeof v?v:null;for(let e in p){let n=p[e];if(nF(s,n.range)&&(!1===g[n.defId].overlap&&o.isEvent||!1===l.overlap||b&&!b(new rE(t,f[n.defId],n),new rE(t,m,i))))return!1}let y=a.eventStore;for(let e of l.allows){let s,a=Object.assign(Object.assign({},n),{range:i.range,allDay:m.allDay}),o=y.defs[m.defId],l=y.instances[r];if(s=o?new rE(t,o,l):new rE(t,m),!e(rm(a,t),s))return!1}}return!0}(e,t,n,r))&&(!e.dateSelection||!!function(e,t,n,r){let i=e.eventStore,s=i.defs,a=i.instances,o=e.dateSelection,l=o.range,{selectionConfig:c}=t.getCurrentData();if(r&&(c=r(c)),!iA(c.constraints,l,i,e.businessHours,t))return!1;let{selectOverlap:d}=t.options,u="function"==typeof d?d:null;for(let e in a){let n=a[e];if(nF(l,n.range)&&(!1===c.overlap||u&&!u(new rE(t,s[n.defId],n),null)))return!1}for(let e of c.allows)if(!e(rm(Object.assign(Object.assign({},n),o),t),null))return!1;return!0}(e,t,n,r))})(r,t)}function iA(e,t,n,r,i){for(let s of e)if(!function(e,t){for(let n of e)if(n$(n,t))return!0;return!1}(function(e,t,n,r,i){return"businessHours"===e?iS(nZ(r,t,i)):"string"==typeof e?iS(n9(n,t=>t.groupId===e)):"object"==typeof e&&e?iS(nZ(e,t,i)):[]}(s,t,n,r,i),t))return!1;return!0}function iS(e){let{instances:t}=e,n=[];for(let e in t)n.push(t[e].range);return n}const i_=/^(visible|hidden)$/;class iC extends nx{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,nR(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:n}=e,r=t&&n,i=["fc-scroller"];return t&&(n?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),en("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(i_.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let e=0;e<n.length;e+=1)if(n[e].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(i_.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let e=0;e<n.length;e+=1)if(n[e].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return i_.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return i_.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class iD{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(e,t)=>{let{depths:n,currentMap:r}=this,i=!1,s=!1;null!==e?(i=t in r,r[t]=e,n[t]=(n[t]||0)+1,s=!0):(n[t]-=1,n[t]||(delete r[t],delete this.callbackMap[t],i=!0)),this.masterCallback&&(i&&this.masterCallback(null,String(t)),s&&this.masterCallback(e,String(t)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=t=>{this.handleValue(t,String(e))}),t}collect(e,t,n){return function(e,t=0,n,r=1){let i=[];null==n&&(n=Object.keys(e).length);for(let s=t;s<n;s+=r){let t=e[s];void 0!==t&&i.push(t)}return i}(this.currentMap,e,t,n)}getAll(){return nf(this.currentMap)}}function iT(e,t){return e.liquid&&t.liquid}function ix(e,t){return tx(e,t,np)}function iR(e,t){let n=[];for(let i of e){let e=i.span||1;for(let s=0;s<e;s+=1){var r;n.push(en("col",{style:{width:"shrink"===i.width?null==(r=t)?4:r:i.width||"",minWidth:i.minWidth||""}}))}}return en("colgroup",{},...n)}function iI(e){return en("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function ik(e){let{stickyHeaderDates:t}=e;return(null==t||"auto"===t)&&(t="auto"===e.height||"auto"===e.viewHeight),t}function iM(e){let{stickyFooterScrollbar:t}=e;return(null==t||"auto"===t)&&(t="auto"===e.height||"auto"===e.viewHeight),t}class iO extends nx{constructor(){super(...arguments),this.processCols=tG(e=>e,ix),this.renderMicroColGroup=tG(iR),this.scrollerRefs=new iD,this.scrollerElRefs=new iD(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){var e;let t,n,{props:r,state:i,context:s}=this,a=r.sections||[],o=this.processCols(r.cols),l=this.renderMicroColGroup(o,i.shrinkWidth),c=(e=r.liquid,t=["fc-scrollgrid",s.theme.getClass("table")],e&&t.push("fc-scrollgrid-liquid"),t);r.collapsibleWidth&&c.push("fc-scrollgrid-collapsible");let d=a.length,u=0,h=[],f=[],p=[];for(;u<d&&"header"===(n=a[u]).type;)h.push(this.renderSection(n,l,!0)),u+=1;for(;u<d&&"body"===(n=a[u]).type;)f.push(this.renderSection(n,l,!1)),u+=1;for(;u<d&&"footer"===(n=a[u]).type;)p.push(this.renderSection(n,l,!0)),u+=1;let g=!rH(),m={role:"rowgroup"};return en("table",{role:"grid",className:c.join(" "),style:{height:r.height}},!!(!g&&h.length)&&en("thead",m,...h),!!(!g&&f.length)&&en("tbody",m,...f),!!(!g&&p.length)&&en("tfoot",m,...p),g&&en("tbody",m,...h,...f,...p))}renderSection(e,t,n){var r;let i;return"outerContent"in e?en(es,{key:e.key},e.outerContent):en("tr",{key:e.key,role:"presentation",className:(r=this.props.liquid,i=["fc-scrollgrid-section",`fc-scrollgrid-section-${e.type}`,e.className],r&&e.liquid&&null==e.maxHeight&&i.push("fc-scrollgrid-section-liquid"),e.isSticky&&i.push("fc-scrollgrid-section-sticky"),i).join(" ")},this.renderChunkTd(e,t,e.chunk,n))}renderChunkTd(e,t,n,r){if("outerContent"in n)return n.outerContent;let{props:i}=this,{forceYScrollbars:s,scrollerClientWidths:a,scrollerClientHeights:o}=this.state,l=null!=e.maxHeight||iT(i,e),c=iT(i,e),d=i.liquid?s?"scroll":l?"auto":"hidden":"visible",u=e.key,h=function(e,t,n,r){let{expandRows:i}=n;return"function"==typeof t.content?t.content(n):en("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,en(r?"thead":"tbody",{role:"presentation"},"function"==typeof t.rowContent?t.rowContent(n):t.rowContent))}(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:i.collapsibleWidth||void 0===a[u]?null:a[u],clientHeight:void 0!==o[u]?o[u]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return en(r?"th":"td",{ref:n.elRef,role:"presentation"},en("div",{className:`fc-scroller-harness${c?" fc-scroller-harness-liquid":""}`},en(iC,{ref:this.scrollerRefs.createRef(u),elRef:this.scrollerElRefs.createRef(u),overflowY:d,overflowX:i.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:c,liquidIsAbsolute:!0},h)))}_handleScrollerEl(e,t){let n=function(e,t){for(let n of e)if(n.key===t)return n;return null}(this.props.sections,t);n&&nR(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return!function(e){for(let t of e)if("shrink"===t.width)return!0;return!1}(this.props.cols)?0:function(e){let t=function(e,t){let n=e instanceof HTMLElement?[e]:e,r=[];for(let e=0;e<n.length;e+=1){let i=n[e].querySelectorAll(t);for(let e=0;e<i.length;e+=1)r.push(i[e])}return r}(e,".fc-scrollgrid-shrink"),n=0;for(let e of t)n=Math.max(n,function(e){let t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}(e));return Math.ceil(n)}(this.scrollerElRefs.getAll())}computeScrollerDims(){let e,t,n=(i||((e=document.createElement("div")).style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e),t=r0(e),document.body.removeChild(e),i=t),i),{scrollerRefs:r,scrollerElRefs:s}=this,a=!1,o={},l={};for(let e in r.currentMap){let t=r.currentMap[e];if(t&&t.needsYScrolling()){a=!0;break}}for(let e of this.props.sections){let t=e.key,r=s.currentMap[t];if(r){let e=r.parentNode;o[t]=Math.floor(e.getBoundingClientRect().width-(a?n.y:0)),l[t]=Math.floor(e.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:o,scrollerClientHeights:l}}}iO.addStateEquality({scrollerClientWidths:np,scrollerClientHeights:np});class iN extends nx{constructor(){super(...arguments),this.buildPublicEvent=tG((e,t,n)=>new rE(e,t,n)),this.handleEl=e=>{this.el=e,nR(this.props.elRef,e),e&&(e.fcSeg=this.props.seg)}}render(){var e;let t,{props:n,context:r}=this,{options:i}=r,{seg:s}=n,{eventRange:a}=s,{ui:o}=a,l={event:this.buildPublicEvent(r,a.def,a.instance),view:r.viewApi,timeText:n.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!n.disableDragging&&function(e,t){let{pluginHooks:n}=t,r=n.isDraggableTransformers,{def:i,ui:s}=e.eventRange,a=s.startEditable;for(let e of r)a=e(a,i,s,t);return a}(s,r),isStartResizable:!n.disableResizing&&s.isStart&&s.eventRange.ui.durationEditable&&r.options.eventResizableFromStart,isEndResizable:!n.disableResizing&&(e=s).isEnd&&e.eventRange.ui.durationEditable,isMirror:!!(n.isDragging||n.isResizing||n.isDateSelecting),isStart:!!s.isStart,isEnd:!!s.isEnd,isPast:!!n.isPast,isFuture:!!n.isFuture,isToday:!!n.isToday,isSelected:!!n.isSelected,isDragging:!!n.isDragging,isResizing:!!n.isResizing};return en(nP,{elRef:this.handleEl,elTag:n.elTag,elAttrs:n.elAttrs,elClasses:[...(t=["fc-event"],l.isMirror&&t.push("fc-event-mirror"),l.isDraggable&&t.push("fc-event-draggable"),(l.isStartResizable||l.isEndResizable)&&t.push("fc-event-resizable"),l.isDragging&&t.push("fc-event-dragging"),l.isResizing&&t.push("fc-event-resizing"),l.isSelected&&t.push("fc-event-selected"),l.isStart&&t.push("fc-event-start"),l.isEnd&&t.push("fc-event-end"),l.isPast&&t.push("fc-event-past"),l.isToday&&t.push("fc-event-today"),l.isFuture&&t.push("fc-event-future"),t),...s.eventRange.ui.classNames,...n.elClasses||[]],elStyle:n.elStyle,renderProps:l,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:n.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount},n.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&(this.el.fcSeg=this.props.seg)}}class iP extends nx{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{ui:i}=r.eventRange,s=rR(r,n.eventTimeFormat||e.defaultTimeFormat,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return en(iN,Object.assign({},e,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:rM(r,t),defaultGenerator:iL,timeText:s}),(e,t)=>en(es,null,en(e,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:t.textColor}}),!!t.isStartResizable&&en("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!t.isEndResizable&&en("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function iL(e){return en("div",{className:"fc-event-main-frame"},e.timeText&&en("div",{className:"fc-event-time"},e.timeText),en("div",{className:"fc-event-title-container"},en("div",{className:"fc-event-title fc-sticky"},e.event.title||en(es,null," "))))}iP.addPropsEquality({seg:np});const iH=e=>en(nC.Consumer,null,t=>{let{options:n}=t,r={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return en(nP,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},e.children)}),iU=t8({day:"numeric"});class ij extends nx{constructor(){super(...arguments),this.refineRenderProps=tq(iz)}render(){let{props:e,context:t}=this,{options:n}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return en(nP,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":tV(e.date)}),elClasses:[...rY(r,t.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount},e.children)}}function iB(e){return!!(e.dayCellContent||nk("dayCellContent",e))}function iz(e){let{date:t,dateEnv:n,dateProfile:r,isMonthStart:i}=e,s=rQ(t,e.todayRange,null,r),a=e.showDayNumber?n.format(t,i?e.monthStartFormat:iU):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(t),view:e.viewApi},s),{isMonthStart:i,dayNumberText:a}),e.extraRenderProps)}class iF extends nx{render(){let{props:e}=this,{seg:t}=e;return en(iN,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:i$,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function i$(e){let{title:t}=e.event;return t&&en("div",{className:"fc-event-title"},e.event.title)}function iV(e){return en("div",{className:`fc-${e}`})}const iW=e=>en(nC.Consumer,null,t=>{let{dateEnv:n,options:r}=t,{date:i}=e,s=r.weekNumberFormat||e.defaultFormat,a=n.computeWeekNumber(i),o=n.format(i,s);return en(nP,{elRef:e.elRef,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:{num:a,text:o,date:i},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:iG,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},e.children)});function iG(e){return e.text}class iq extends nx{constructor(){super(...arguments),this.state={titleId:ta()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&nR(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{let t=ti(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{"Escape"===e.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){var e,t,n;let{theme:r,options:i}=this.context,{props:s,state:a}=this,o=["fc-popover",r.getClass("popover")].concat(s.extraClassNames||[]);return e=en("div",Object.assign({},s.extraAttrs,{id:s.id,className:o.join(" "),"aria-labelledby":a.titleId,ref:this.handleRootEl}),en("div",{className:"fc-popover-header "+r.getClass("popoverHeader")},en("span",{className:"fc-popover-title",id:a.titleId},s.title),en("span",{className:"fc-popover-close "+r.getIconClass("close"),title:i.closeHint,onClick:this.handleCloseClick})),en("div",{className:"fc-popover-body "+r.getClass("popoverContent")},s.children)),(n=en(eG,{__v:e,i:t=s.parentEl})).containerInfo=t,n}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:n}=this.props,{rootEl:r}=this,i=function(e){let t=r3(e),n=e.getBoundingClientRect();for(let e of t){let t=rV(n,e.getBoundingClientRect());if(!t)return null;n=t}return n}(t);if(i){let s=r.getBoundingClientRect(),a=n?te(t,".fc-scrollgrid").getBoundingClientRect().top:i.top,o=e?i.right-s.width:i.left;a=Math.max(a,10),o=Math.max(o=Math.min(o,document.documentElement.clientWidth-10-s.width),10);let l=r.offsetParent.getBoundingClientRect();tn(r,{top:a-l.top,left:o-l.left})}}}class iQ extends r7{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:n}=this,{startDate:r,todayRange:i,dateProfile:s}=n,a=t.format(r,e.dayPopoverFormat);return en(ij,{elRef:this.handleRootEl,date:r,dateProfile:s,todayRange:i},(t,r,i)=>en(iq,{elRef:i.ref,id:n.id,title:a,extraClassNames:["fc-more-popover"].concat(i.className||[]),extraAttrs:i,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},iB(e)&&en(t,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,t,n,r){let{rootEl:i,props:s}=this;return e>=0&&e<n&&t>=0&&t<r?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:n,bottom:r},layer:1}:null}}class iY extends nx{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:ta()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&nR(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:n}=this,{moreLinkClick:r}=n.options,i=iJ(t).start;function s(e){let{def:t,instance:r,range:i}=e.eventRange;return{event:new rE(n,t,r),start:n.dateEnv.toDate(i.start),end:n.dateEnv.toDate(i.end),isStart:e.isStart,isEnd:e.isEnd}}"function"==typeof r&&(r=r({date:i,allDay:!!t.allDayDate,allSegs:t.allSegs.map(s),hiddenSegs:t.hiddenSegs.map(s),jsEvent:e,view:n.viewApi})),r&&"popover"!==r?"string"==typeof r&&n.calendarApi.zoomTo(i,r):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return en(nC.Consumer,null,n=>{let{viewApi:r,options:i,calendarApi:s}=n,{moreLinkText:a}=i,{moreCnt:o}=e,l=iJ(e),c="function"==typeof a?a.call(s,o):`+${o} ${a}`,d=tv(i.moreLinkHint,[o],c),u={num:o,shortText:`+${o}`,text:c,view:r};return en(es,null,!!e.moreCnt&&en(nP,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),td(this.handleClick)),{title:d,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:u,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:e.defaultGenerator||iZ,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},e.children),t.isPopoverOpen&&en(iQ,{id:t.popoverId,startDate:l.start,endDate:l.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=te(this.linkEl,".fc-view-harness"))}}function iZ(e){return e.text}function iJ(e){if(e.allDayDate)return{start:e.allDayDate,end:tk(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:iX(t),end:t.reduce(i0).eventRange.range.end}}function iX(e){return e.reduce(iK).eventRange.range.start}function iK(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function i0(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}const i1=[],i3={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},i2=Object.assign(Object.assign({},i3),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(e,t)=>"day"===t?"Today":`This ${e}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:e=>`Show ${e} more event${1===e?"":"s"}`});function i4(e){let t=e.length>0?e[0].code:"en",n=i1.concat(e),r={en:i2};for(let e of n)r[e.code]=e;return{map:r,defaultCode:t}}function i6(e,t){var n,r;let i,s;return"object"!=typeof e||Array.isArray(e)?(n=e,r=t,s=function(e,t){for(let n=0;n<e.length;n+=1){let r=e[n].toLocaleLowerCase().split("-");for(let e=r.length;e>0;e-=1){let n=r.slice(0,e).join("-");if(t[n])return t[n]}}return null}(i=[].concat(n||[]),r)||i2,i5(n,i,s)):i5(e.code,[e.code],e)}function i5(e,t,n){let r=nc([i3,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:e,codes:t,week:i,simpleNumberFormat:new Intl.NumberFormat(e),options:r}}function i8(e){return{id:tf(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}class i7 extends nE{}function i9(e,t,n,r){if(t[e])return t[e];let i=function(e,t,n,r){let i=n[e],s=r[e],a=e=>i&&null!==i[e]?i[e]:s&&null!==s[e]?s[e]:null,o=a("component"),l=a("superType"),c=null;if(l){if(l===e)throw Error("Can't have a custom view type that references itself");c=i9(l,t,n,r)}return(!o&&c&&(o=c.component),o)?{type:e,component:o,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),s?s.rawOptions:{})}:null}(e,t,n,r);return i&&(t[e]=i),i}i7.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},i7.prototype.baseIconClass="fc-icon",i7.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},i7.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},i7.prototype.iconOverrideOption="buttonIcons",i7.prototype.iconOverrideCustomButtonOption="icon",i7.prototype.iconOverridePrefix="fc-icon-";function se(e){let t="function"==typeof e?{component:e}:e,{component:n}=t;return t.content?n=st(t):!n||n.prototype instanceof nx||(n=st(Object.assign(Object.assign({},t),{content:n}))),{superType:t.type,component:n,rawOptions:t}}function st(e){return t=>en(nC.Consumer,null,n=>en(nP,{elTag:"div",elClasses:nU(n.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:e.content,classNameGenerator:e.classNames,didMount:e.didMount,willUnmount:e.willUnmount}))}function sn(e,t,n,r){let i=nu(e,se),s=nu(t.views,se);return nu(function(e,t){let n,r={};for(n in e)i9(n,r,e,t);for(n in t)i9(n,r,e,t);return r}(i,s),e=>(function(e,t,n,r,i){var s;let a,o,l=e.overrides.duration||e.defaults.duration||r.duration||n.duration,c=null,d="",u="",h={};if(l&&(void 0===(o=sr[a=JSON.stringify(s=l)])&&(o=tw(s),sr[a]=o),c=o)){let e=tT(c);d=e.unit,1===e.value&&(u=d,h=t[d]?t[d].rawOptions:{})}let f=t=>{let n=t.buttonText||{},r=e.defaults.buttonTextKey;return null!=r&&null!=n[r]?n[r]:null!=n[e.type]?n[e.type]:null!=n[u]?n[u]:null},p=t=>{let n=t.buttonHints||{},r=e.defaults.buttonTextKey;return null!=r&&null!=n[r]?n[r]:null!=n[e.type]?n[e.type]:null!=n[u]?n[u]:null};return{type:e.type,component:e.component,duration:c,durationUnit:d,singleUnit:u,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},h),e.overrides),buttonTextOverride:f(r)||f(n)||e.overrides.buttonText,buttonTextDefault:f(i)||e.defaults.buttonText||f(t9)||e.type,buttonTitleOverride:p(r)||p(n)||e.overrides.buttonHint,buttonTitleDefault:p(i)||e.defaults.buttonHint||p(t9)}})(e,s,t,n,r))}let sr={};function si(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function ss(e,t,n,r){let i={};for(let e of t)i[e.sourceId]=e;return n&&(i=sa(i,n,r)),Object.assign(Object.assign({},e),i)}function sa(e,t,n){return so(e,nd(e,e=>{var r,i,s;return r=e,i=t,sc(r,s=n)?!s.options.lazyFetching||!r.fetchRange||r.isFetching||i.start<r.fetchRange.start||i.end>r.fetchRange.end:!r.latestFetchId}),t,!1,n)}function so(e,t,n,r,i){let s={};for(let a in e){let o=e[a];t[a]?s[a]=function(e,t,n,r){let{options:i,calendarApi:s}=r,a=r.pluginHooks.eventSourceDefs[e.sourceDefId],o=tf();return a.fetch({eventSource:e,range:t,isRefetch:n,context:r},n=>{let{rawEvents:a}=n;i.eventSourceSuccess&&(a=i.eventSourceSuccess.call(s,a,n.response)||a),e.success&&(a=e.success.call(s,a,n.response)||a),r.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:o,fetchRange:t,rawEvents:a})},n=>{let a=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,n),a=!0),e.failure&&(e.failure(n),a=!0),a||console.warn(n.message,n),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:o,fetchRange:t,error:n})}),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:o})}(o,n,r,i):s[a]=o}return s}function sl(e,t){return nd(e,e=>sc(e,t))}function sc(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function sd(e,t,n,r,i){return{header:e.headerToolbar?su(e.headerToolbar,e,t,n,r,i):null,footer:e.footerToolbar?su(e.footerToolbar,e,t,n,r,i):null}}function su(e,t,n,r,i,s){let a={},o=[],l=!1;for(let c in e){let d=function(e,t,n,r,i,s){let a="rtl"===t.direction,o=t.customButtons||{},l=n.buttonText||{},c=t.buttonText||{},d=n.buttonHints||{},u=t.buttonHints||{},h=e?e.split(" "):[],f=[],p=!1;return{widgets:h.map(e=>e.split(",").map(e=>{let n,h,g,m,v,b;if("title"===e)return p=!0,{buttonName:e};if(n=o[e])g=e=>{n.click&&n.click.call(e.target,e,e.target)},(m=r.getCustomButtonIconClass(n))||(m=r.getIconClass(e,a))||(v=n.text),b=n.hint||n.text;else if(h=i[e]){f.push(e),g=()=>{s.changeView(e)},(v=h.buttonTextOverride)||(m=r.getIconClass(e,a))||(v=h.buttonTextDefault);let n=h.buttonTextOverride||h.buttonTextDefault;b=tv(h.buttonTitleOverride||h.buttonTitleDefault||t.viewHint,[n,e],n)}else if(s[e])if(g=()=>{s[e]()},(v=l[e])||(m=r.getIconClass(e,a))||(v=c[e]),"prevYear"===e||"nextYear"===e){let t="prevYear"===e?"prev":"next";b=tv(d[t]||u[t],[c.year||"year","year"],c[e])}else b=t=>tv(d[e]||u[e],[c[t]||t,t],c[e]);return{buttonName:e,buttonClick:g,buttonIcon:m,buttonText:v,buttonHint:b}})),viewsWithButtons:f,hasTitle:p}}(e[c],t,n,r,i,s);a[c]=d.widgets,o.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:a,viewsWithButtons:o,hasTitle:l}}class sh{constructor(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}const sf=i8({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:e=>Array.isArray(e.events)?e.events:null,fetch(e,t){t({rawEvents:e.eventSource.meta})}}]}),sp=i8({name:"func-event-source",eventSourceDefs:[{parseMeta:e=>"function"==typeof e.events?e.events:null,fetch(e,t,n){var r;let i,s,a,o,{dateEnv:l}=e.context;r=e.eventSource.meta.bind(null,rN(e.range,l)),i=!1,(o=r(s=function(e){i||(i=!0,(e=>t({rawEvents:e}))(e))},a=function(e){i||(i=!0,n(e))}))&&"function"==typeof o.then&&o.then(s,a)}}]}),sg=i8({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:no,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:e=>e.url&&("json"===e.format||!e.format)?{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}:null,fetch(e,t,n){let{meta:r}=e.eventSource,i=function(e,t,n){let r,i,s,{dateEnv:a,options:o}=n,l={};return null==(r=e.startParam)&&(r=o.startParam),null==(i=e.endParam)&&(i=o.endParam),null==(s=e.timeZoneParam)&&(s=o.timeZoneParam),Object.assign(l,"function"==typeof e.extraParams?e.extraParams():e.extraParams||{}),l[r]=a.formatIso(t.start),l[i]=a.formatIso(t.end),"local"!==a.timeZone&&(l[s]=a.timeZone),l}(r,e.range,e.context);(function(e,t,n){let r={method:e=e.toUpperCase()};return"GET"===e?t+=(-1===t.indexOf("?")?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,r).then(e=>{if(e.ok)return e.json().then(t=>[t,e],()=>{throw new rL("Failure parsing JSON",e)});throw new rL("Request failed",e)})})(r.method,r.url,i).then(([e,n])=>{t({rawEvents:e,response:n})},n)}}]}),sm=i8({name:"simple-recurring-event",recurringTypes:[{parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){var n,r;let i,s={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null,dateEnv:t};return e.duration&&(i=e.duration),!i&&e.startTime&&e.endTime&&(n=e.endTime,r=e.startTime,i={years:n.years-r.years,months:n.months-r.months,days:n.days-r.days,milliseconds:n.milliseconds-r.milliseconds}),{allDayGuess:!!(!e.startTime&&!e.endTime),duration:i,typeData:s}}return null},expand(e,t,n){let r=nz(t,{start:e.startRecur,end:e.endRecur});return r?function(e,t,n,r,i){let s=e?nh(e):null,a=tP(i.start),o=i.end,l=[];for(;a<o;){let e;(!s||s[a.getUTCDay()])&&(e=t?r.add(a,t):a,l.push(r.createMarker(n.toDate(e)))),a=tk(a,1)}return l}(e.daysOfWeek,e.startTime,e.dateEnv,n,r):[]}}],eventRefiners:{daysOfWeek:no,startTime:tw,endTime:tw,duration:tw,startRecur:no,endRecur:no}});function sv(e,t){let n=nf(t.getCurrentData().eventSources);if(1===n.length&&1===e.length&&Array.isArray(n[0]._raw)&&Array.isArray(e[0]))return void t.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:e[0]});let r=[];for(let t of e){let e=!1;for(let r=0;r<n.length;r+=1)if(n[r]._raw===t){n.splice(r,1),e=!0;break}e||r.push(t)}for(let e of n)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:e.sourceId});for(let e of r)t.calendarApi.addEventSource(e)}const sb=[sf,sp,sg,sm,i8({name:"change-handler",optionChangeHandlers:{events(e,t){sv([e],t)},eventSources:sv}}),i8({name:"misc",isLoadingFuncs:[e=>si(e.eventSources)],propSetHandlers:{dateProfile:function(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},rN(e.activeRange,t.dateEnv)),{view:t.viewApi}))},eventStore:function(e,t){let{emitter:n}=t;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",rA(e,t))}}})];class sy{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new e7(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t,n=[];for(;t=e.shift();)this.runTask(t),n.push(t);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function sE(e,t,n){let r;return r=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange,n.formatRange(r.start,r.end,t8(t.titleFormat||function(e){let{currentRangeUnit:t}=e;if("year"===t)return{year:"numeric"};if("month"===t)return{year:"numeric",month:"long"};let n=tN(e.currentRange.start,e.currentRange.end);return null!==n&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}class sw{constructor(){this.resetListeners=new Set}handleInput(e,t){let n=this.dateEnv;if(e!==n&&("function"==typeof t?this.nowFn=t:n||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(let e of this.resetListeners.values())e()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class sA{constructor(e){var t,n,r,i;let s,a,o,l,c;this.computeCurrentViewData=tG(this._computeCurrentViewData),this.organizeRawLocales=tG(i4),this.buildLocale=tG(i6),this.buildPluginHooks=(a=[],o=[],(e,t)=>(s&&tx(e,a)&&tx(t,o)||(s=function(e,t){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(e){for(let t of e){let e=t.name,s=n[e];void 0===s?(n[e]=t.id,i(t.deps),r=function(e,t){var n,r;return{premiumReleaseDate:(n=e.premiumReleaseDate,r=t.premiumReleaseDate,void 0===n?r:void 0===r?n:new Date(Math.max(n.valueOf(),r.valueOf()))),reducers:e.reducers.concat(t.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:e.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},e.eventRefiners),t.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},e.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},e.views),t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},e.themeClasses),t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||t.initialView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},e.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||e.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},e.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},e.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},e.propSetHandlers),t.propSetHandlers)}}(r,t)):s!==t.id&&console.warn(`Duplicate plugin '${e}'`)}}return e&&i(e),i(t),r}(e,t)),a=e,o=t,s)),this.buildDateEnv=tG(sS),this.buildTheme=tG(s_),this.parseToolbars=tG(sd),this.buildViewSpecs=tG(sn),this.buildDateProfileGenerator=tq(sC),this.buildViewApi=tG(sD),this.buildViewUiProps=tq(sR),this.buildEventUiBySource=tG(sT,np),this.buildEventUiBases=tG(sx),this.parseContextBusinessHours=tq(sk),this.buildTitle=tG(sE),this.nowManager=new sw,this.emitter=new rf,this.actionRunner=new sy(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=e=>{this.actionRunner.request(e)},this.props=e,this.actionRunner.pause(),this.nowManager=new sw;let d={},u=this.computeOptionsData(e.optionOverrides,d,e.calendarApi),h=u.calendarOptions.initialView||u.pluginHooks.initialView,f=this.computeCurrentViewData(h,u,e.optionOverrides,d);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(f.options);let p={nowManager:this.nowManager,dateEnv:u.dateEnv,options:u.calendarOptions,pluginHooks:u.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},g=(t=u.calendarOptions,n=u.dateEnv,r=this.nowManager,null!=(l=t.initialDate)?n.createMarker(l):r.getDateMarker()),m=f.dateProfileGenerator.build(g);for(let e of(nV(m.activeRange,g)||(g=m.currentRange.start),u.pluginHooks.contextInit))e(p);let v=(i=u.calendarOptions,c=m?m.activeRange:null,ss({},function(e,t){let n=rl(t),r=[].concat(e.eventSources||[]),i=[];for(let s of(e.initialEvents&&r.unshift(e.initialEvents),e.events&&r.unshift(e.events),r)){let e=ro(s,t,n);e&&i.push(e)}return i}(i,p),c,p)),b={dynamicOptionOverrides:d,currentViewType:h,currentDate:g,dateProfile:m,businessHours:this.parseContextBusinessHours(p),eventSources:v,eventUiBases:{},eventStore:n8(),renderableEventStore:n8(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(p).selectionConfig},y=Object.assign(Object.assign({},p),b);for(let e of u.pluginHooks.reducers)Object.assign(b,e(null,null,y));sI(b,p)&&this.emitter.trigger("loading",!0),this.state=b,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:n}=this;void 0===t?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(void 0===t||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){var t,n,r;let{props:i,state:s,emitter:a}=this,o=(t=s.dynamicOptionOverrides,"SET_OPTION"===e.type?Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue}):t),l=this.computeOptionsData(i.optionOverrides,o,i.calendarApi),c=(n=s.currentViewType,"CHANGE_VIEW_TYPE"===e.type&&(n=e.viewType),n),d=this.computeCurrentViewData(c,l,i.optionOverrides,o);i.calendarApi.currentDataManager=this,a.setThisContext(i.calendarApi),a.setOptions(d.options);let u={nowManager:this.nowManager,dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:i.calendarApi,dispatch:this.dispatch,emitter:a,getCurrentData:this.getCurrentData},{currentDate:h,dateProfile:f}=s;this.data&&this.data.dateProfileGenerator!==d.dateProfileGenerator&&(f=d.dateProfileGenerator.build(h)),r=h,h="CHANGE_DATE"===e.type?e.dateMarker:r,f=function(e,t,n,r){let i;switch(t.type){case"CHANGE_VIEW_TYPE":return r.build(t.dateMarker||n);case"CHANGE_DATE":return r.build(t.dateMarker);case"PREV":if((i=r.buildPrev(e,n)).isValid)return i;break;case"NEXT":if((i=r.buildNext(e,n)).isValid)return i}return e}(f,e,h,d.dateProfileGenerator),"PREV"!==e.type&&"NEXT"!==e.type&&nV(f.currentRange,h)||(h=f.currentRange.start);let p=function(e,t,n,r){var i,s,a,o,l,c;let d=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return ss(e,t.sources,d,r);case"REMOVE_EVENT_SOURCE":return i=e,s=t.sourceId,nd(i,e=>e.sourceId!==s);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":if(n)return sa(e,d,r);return e;case"FETCH_EVENT_SOURCES":return so(e,t.sourceIds?nh(t.sourceIds):sl(e,r),d,t.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":let u;return a=e,o=t.sourceId,l=t.fetchId,c=t.fetchRange,(u=a[o])&&l===u.latestFetchId?Object.assign(Object.assign({},a),{[o]:Object.assign(Object.assign({},u),{isFetching:!1,fetchRange:c})}):a;case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}(s.eventSources,e,f,u),g=function(e,t,n,r,i){switch(t.type){case"RECEIVE_EVENTS":return function(e,t,n,r,i,s){if(t&&n===t.latestFetchId){let n=n4(rc(i,t,s),t,s);return r&&(n=nZ(n,r,s)),n7(rh(e,t.sourceId),n)}return e}(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,i);case"RESET_RAW_EVENTS":return function(e,t,n,r,i){let{defIdMap:s,instanceIdMap:a}=function(e){let{defs:t,instances:n}=e,r={},i={};for(let e in t){let{publicId:n}=t[e];n&&(r[n]=e)}for(let e in n){let{publicId:r}=t[n[e].defId];r&&(i[r]=e)}return{defIdMap:r,instanceIdMap:i}}(e);return nZ(n4(rc(n,t,i),t,i,!1,s,a),r,i)}(e,n[t.sourceId],t.rawEvents,r.activeRange,i);case"ADD_EVENTS":var s,a,o,l;return s=e,a=t.eventStore,o=r?r.activeRange:null,l=i,o&&(a=nZ(a,o,l)),n7(s,a);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return n7(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":if(r)return nZ(e,r.activeRange,i);return e;case"REMOVE_EVENTS":return function(e,t){let{defs:n,instances:r}=e,i={},s={};for(let e in n)t.defs[e]||(i[e]=n[e]);for(let e in r)!t.instances[e]&&i[r[e].defId]&&(s[e]=r[e]);return{defs:i,instances:s}}(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return rh(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return n9(e,e=>!e.sourceId);case"REMOVE_ALL_EVENTS":return n8();default:return e}}(s.eventStore,e,p,f,u),m=si(p)&&!d.options.progressiveEventRendering&&s.renderableEventStore||g,{eventUiSingleBase:v,selectionConfig:b}=this.buildViewUiProps(u),y=this.buildEventUiBySource(p),E=this.buildEventUiBases(m.defs,v,y),w={dynamicOptionOverrides:o,currentViewType:c,currentDate:h,dateProfile:f,eventSources:p,eventStore:g,renderableEventStore:m,selectionConfig:b,eventUiBases:E,businessHours:this.parseContextBusinessHours(u),dateSelection:function(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}(s.dateSelection,e),eventSelection:function(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}(s.eventSelection,e),eventDrag:function(e,t){let n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}(s.eventDrag,e),eventResize:function(e,t){let n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}(s.eventResize,e)},A=Object.assign(Object.assign({},u),w);for(let t of l.pluginHooks.reducers)Object.assign(w,t(s,e,A));let S=sI(s,u),_=sI(w,u);!S&&_?a.trigger("loading",!0):S&&!_&&a.trigger("loading",!1),this.state=w,i.onAction&&i.onAction(e)}updateData(){let{props:e,state:t}=this,n=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),i=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,i.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),i),t),a=r.pluginHooks.optionChangeHandlers,o=n&&n.calendarOptions,l=r.calendarOptions;if(o&&o!==l){if(o.timeZone!==l.timeZone){var c,d;let e;c=s.eventSources,d=t.dateProfile,e=d?d.activeRange:null,t.eventSources=s.eventSources=so(c,sl(c,s),e,!0,s),t.eventStore=s.eventStore=ru(s.eventStore,n.dateEnv,s.dateEnv),t.renderableEventStore=s.renderableEventStore=ru(s.renderableEventStore,n.dateEnv,s.dateEnv)}for(let e in a)(-1!==this.optionsForHandling.indexOf(e)||o[e]!==l[e])&&a[e](l[e],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,t,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:i,localeDefaults:s,availableLocaleData:a,extra:o}=this.processRawCalendarOptions(e,t);sM(o);let l=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,i,a,r.defaultRangeSeparator),c=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),d=this.buildTheme(r,i),u=this.parseToolbars(r,this.stableOptionOverrides,d,c,n);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:i,dateEnv:l,viewSpecs:c,theme:d,toolbarConfig:u,localeDefaults:s,availableRawLocales:a.map}}processRawCalendarOptions(e,t){let{locales:n,locale:r}=nc([t9,e,t],nn),i=this.organizeRawLocales(n),s=i.map,a=this.buildLocale(r||i.defaultCode,s).options,o=this.buildPluginHooks(e.plugins||[],sb),l=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t7),ne),nt),o.listenerRefiners),o.optionRefiners),c={},d=nc([t9,a,e,t],nn),u={},h=this.currentCalendarOptionsInput,f=this.currentCalendarOptionsRefined,p=!1;for(let e in d)-1===this.optionsForRefining.indexOf(e)&&(d[e]===h[e]||nn[e]&&e in h&&nn[e](h[e],d[e]))?u[e]=f[e]:l[e]?(u[e]=l[e](d[e]),p=!0):c[e]=h[e];return p&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=u,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:o,availableLocaleData:i,localeDefaults:a,extra:c}}_computeCurrentViewData(e,t,n,r){let i=t.viewSpecs[e];if(!i)throw Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:a}=this.processRawViewOptions(i,t.pluginHooks,t.localeDefaults,n,r);sM(a),this.nowManager.handleInput(t.dateEnv,s.now);let o=this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount});return{viewSpec:i,options:s,dateProfileGenerator:o,viewApi:this.buildViewApi(e,this.getCurrentData,t.dateEnv)}}processRawViewOptions(e,t,n,r,i){let s=nc([t9,e.optionDefaults,n,r,e.optionOverrides,i],nn),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t7),ne),nt),ns),t.listenerRefiners),t.optionRefiners),o={},l=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,d=!1,u={};for(let e in s)s[e]===l[e]||nn[e]&&nn[e](s[e],l[e])?o[e]=c[e]:(s[e]===this.currentCalendarOptionsInput[e]||nn[e]&&nn[e](s[e],this.currentCalendarOptionsInput[e])?e in this.currentCalendarOptionsRefined&&(o[e]=this.currentCalendarOptionsRefined[e]):a[e]?o[e]=a[e](s[e]):u[e]=s[e],d=!0);return d&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=o),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:u}}}function sS(e,t,n,r,i,s,a,o){let l=i6(t||a.defaultCode,a.map);return new ny({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:o})}function s_(e,t){return new(t.themeClasses[e.themeSystem]||i7)(e)}function sC(e){return new(e.dateProfileGeneratorClass||nQ)(e)}function sD(e,t,n){return new sh(e,t,n)}function sT(e){return nu(e,e=>e.ui)}function sx(e,t,n){let r={"":t};for(let t in e){let i=e[t];i.sourceId&&n[i.sourceId]&&(r[t]=n[i.sourceId])}return r}function sR(e){let{options:t}=e;return{eventUiSingleBase:rr({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:"boolean"==typeof t.eventOverlap?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:rr({constraint:t.selectConstraint,overlap:"boolean"==typeof t.selectOverlap?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function sI(e,t){for(let n of t.pluginHooks.isLoadingFuncs)if(n(e))return!0;return!1}function sk(e){var t,n;return t=e.options.businessHours,n4((!0===(n=t)?[{}]:Array.isArray(n)?n.filter(e=>e.daysOfWeek):"object"==typeof n&&n?[n]:[]).map(e=>Object.assign(Object.assign({},rp),e)),null,e)}function sM(e,t){for(let n in e)console.warn(`Unknown option '${n}'`+(t?` for view '${t}'`:""))}class sO extends nx{render(){return en("div",{className:"fc-toolbar-chunk"},...this.props.widgetGroups.map(e=>this.renderWidgetGroup(e)))}renderWidgetGroup(e){let{props:t}=this,{theme:n}=this.context,r=[],i=!0;for(let s of e){let{buttonName:e,buttonClick:a,buttonText:o,buttonIcon:l,buttonHint:c}=s;if("title"===e)i=!1,r.push(en("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let i=e===t.activeButton,s=!t.isTodayEnabled&&"today"===e||!t.isPrevEnabled&&"prev"===e||!t.isNextEnabled&&"next"===e,d=[`fc-${e}-button`,n.getClass("button")];i&&d.push(n.getClass("buttonActive")),r.push(en("button",{type:"button",title:"function"==typeof c?c(t.navUnit):c,disabled:s,"aria-pressed":i,className:d.join(" "),onClick:a},o||(l?en("span",{className:l,role:"img"}):"")))}}return r.length>1?en("div",{className:i&&n.getClass("buttonGroup")||""},...r):r[0]}}class sN extends nx{render(){let e,t,{model:n,extraClassName:r}=this.props,i=!1,s=n.sectionWidgets,a=s.center;return s.left?(i=!0,e=s.left):e=s.start,s.right?(i=!0,t=s.right):t=s.end,en("div",{className:[r||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",e||[]),this.renderSection("center",a||[]),this.renderSection("end",t||[]))}renderSection(e,t){let{props:n}=this;return en(sO,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class sP extends nx{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,nR(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:n}=e,r=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",s="";return n?null!==t.availableWidth?i=t.availableWidth/n:s=`${1/n*100}%`:i=e.height||"",en("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:i,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class sL extends rj{constructor(e){super(e),this.handleSegClick=(e,t)=>{let{component:n}=this,{context:r}=n,i=r_(t);if(i&&n.isValidSegDownEl(e.target)){let s=te(e.target,".fc-event-forced-url"),a=s?s.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:t,event:new rE(n.context,i.eventRange.def,i.eventRange.instance),jsEvent:e,view:r.viewApi}),a&&!e.defaultPrevented&&(window.location.href=a)}},this.destroy=tl(e.el,"click",".fc-event",this.handleSegClick)}}class sH extends rj{constructor(e){var t,n,r,i;let s;super(e),this.handleEventElRemove=e=>{e===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(e,t)=>{r_(t)&&(this.currentSegEl=t,this.triggerEvent("eventMouseEnter",e,t))},this.handleSegLeave=(e,t)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",e,t))},this.removeHoverListeners=(t=e.el,n=".fc-event",r=this.handleSegEnter,i=this.handleSegLeave,tl(t,"mouseover",n,(e,t)=>{if(t!==s){s=t,r(e,t);let n=e=>{s=null,i(e,t),t.removeEventListener("mouseleave",n)};t.addEventListener("mouseleave",n)}}))}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){let{component:r}=this,{context:i}=r,s=r_(n);(!t||r.isValidSegDownEl(t.target))&&i.emitter.trigger(e,{el:n,event:new rE(i,s.eventRange.def,s.eventRange.instance),jsEvent:t,view:i.viewApi})}}class sU extends nT{constructor(){super(...arguments),this.buildViewContext=tG(nD),this.buildViewPropTransformers=tG(sB),this.buildToolbarProps=tG(sj),this.headerRef=ei(),this.footerRef=ei(),this.interactionsStore={},this.state={viewLabelId:ta()},this.registerInteractiveComponent=(e,t)=>{let n={component:e,el:t.el,useEventCenter:null==t.useEventCenter||t.useEventCenter,isHitComboAllowed:t.isHitComboAllowed||null},r=[sL,sH].concat(this.props.pluginHooks.componentInteractions).map(e=>new e(n));this.interactionsStore[e.uid]=r,rz[e.uid]=n},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let e of t)e.destroy();delete this.interactionsStore[e.uid]}delete(0,rz)[e.uid]},this.resizeRunner=new e7(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let e,{props:t}=this,{toolbarConfig:n,options:r}=t,i=!1,s="";t.isHeightAuto||t.forPrint?s="":null!=r.height?i=!0:null!=r.contentHeight?s=r.contentHeight:e=Math.max(r.aspectRatio,.5);let a=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.nowManager,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),o=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return en(nC.Provider,{value:a},en(rF,{unit:"day"},r=>{let a=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,r,t.viewTitle);return en(es,null,n.header&&en(sN,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:o},a)),en(sP,{liquid:i,height:s,aspectRatio:e,labeledById:o},this.renderView(t),this.buildAppendContent()),n.footer&&en(sN,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},a)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(t=>new t(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let n in t)t[n](e[n],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:n}=t.pluginHooks;for(let r in n)t[r]!==e[r]&&n[r](t[r],t)}componentWillUnmount(){for(let e of(window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear(),this.calendarInteractions))e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this;return en(es,{},...e.pluginHooks.viewContainerAppends.map(t=>t(e)))}renderView(e){let{pluginHooks:t}=e,{viewSpec:n}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint};for(let n of this.buildViewPropTransformers(t.viewPropsTransformers))Object.assign(r,n.transform(r,e));return en(n.component,Object.assign({},r))}}function sj(e,t,n,r,i,s){let a=n.build(i,void 0,!1),o=n.buildPrev(t,r,!1),l=n.buildNext(t,r,!1);return{title:s,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:a.isValid&&!nV(t.currentRange,i),isPrevEnabled:o.isValid,isNextEnabled:l.isValid}}function sB(e){return e.map(e=>new e)}class sz extends r${constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=e=>{switch(e.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=e=>{this.currentData=e,this.renderRunner.request(e.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:e}=this;nw(()=>{ew(en(rU,{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},(t,n,r,i)=>(this.setClassNames(t),this.setHeight(n),en(nN.Provider,{value:this.customContentRenderId},en(sU,Object.assign({isHeightAuto:r,forPrint:i},e))))),this.el)})}else this.isRendered&&(this.isRendered=!1,ew(null,this.el),this.setClassNames([]),this.setHeight(""))},e.isConnected&&e.getRootNode&&e5(e.getRootNode()),this.el=e,this.renderRunner=new e7(this.handleRenderRequest),new sA({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){nw(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!tx(e,this.currentClassNames)){let{classList:t}=this.el;for(let e of this.currentClassNames)t.remove(e);for(let n of e)t.add(n);this.currentClassNames=e}}setHeight(e){tr(this.el,"height",e)}}class sF extends r7{constructor(){super(...arguments),this.headerElRef=ei()}renderSimpleLayout(e,t){let{props:n,context:r}=this,i=[],s=ik(r.options);return e&&i.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),i.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),en(nH,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},en(iO,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:i}))}renderHScrollLayout(e,t,n,r){let i=this.context.pluginHooks.scrollGridImpl;if(!i)throw Error("No ScrollGrid implementation");let{props:s,context:a}=this,o=!s.forPrint&&ik(a.options),l=!s.forPrint&&iM(a.options),c=[];return e&&c.push({type:"header",key:"header",isSticky:o,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),c.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),l&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:iI}]}),en(nH,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},en(i,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:n,minWidth:r}]}],sections:c}))}}function s$(e,t){let n=[];for(let e=0;e<t;e+=1)n[e]=[];for(let t of e)n[t.row].push(t);return n}function sV(e,t){let n=[];for(let e=0;e<t;e+=1)n[e]=[];for(let t of e)n[t.firstCol].push(t);return n}function sW(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)n[t.row].segs.push(t)}else for(let e=0;e<t;e+=1)n[e]=null;return n}const sG=t8({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function sq(e){let{display:t}=e.eventRange.ui;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class sQ extends nx{render(){let{props:e}=this;return en(iP,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:sG,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class sY extends nx{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,i=rR(r,n.eventTimeFormat||sG,t,!0,e.defaultDisplayEventEnd);return en(iN,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:rM(e.seg,t),defaultGenerator:sZ,timeText:i,isResizing:!1,isDateSelecting:!1}))}}function sZ(e){return en(es,null,en("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&en("div",{className:"fc-event-time"},e.timeText),en("div",{className:"fc-event-title"},e.event.title||en(es,null," ")))}class sJ extends nx{constructor(){super(...arguments),this.compileSegs=tG(sX)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return en(iY,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let n=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return en(es,null,t.map(t=>{let r=t.eventRange.instance.instanceId;return en("div",{className:"fc-daygrid-event-harness",key:r,style:{visibility:n[r]?"hidden":""}},sq(t)?en(sY,Object.assign({seg:t,isDragging:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},rI(t,e.todayRange))):en(sQ,Object.assign({seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},rI(t,e.todayRange))))}))}})}}function sX(e){let t=[],n=[];for(let r of e)t.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:t,invisibleSegs:n}}const sK=t8({week:"narrow"});class s0 extends r7{constructor(){super(...arguments),this.rootElRef=ei(),this.state={dayNumberId:ta()},this.handleRootEl=e=>{nR(this.rootElRef,e),nR(this.props.elRef,e)}}render(){let{context:e,props:t,state:n,rootElRef:r}=this,{options:i,dateEnv:s}=e,{date:a,dateProfile:o}=t,l=t.showDayNumber&&function(e,t,n){let{start:r,end:i}=t,s=tM(i,-1),a=n.getYear(r),o=n.getMonth(r),l=n.getYear(s),c=n.getMonth(s);return(a!==l||o!==c)&&!!(e.valueOf()===r.valueOf()||1===n.getDay(e)&&e.valueOf()<i.valueOf())}(a,o.currentRange,s);return en(ij,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:s1,date:a,dateProfile:o,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:l,extraRenderProps:t.extraRenderProps},(s,o)=>en("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&en(iW,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:rX(e,a,"week"),date:a,defaultFormat:sK}),!o.isDisabled&&(t.showDayNumber||iB(i)||t.forceDayTop)?en("div",{className:"fc-daygrid-day-top"},en(s,{elTag:"a",elClasses:["fc-daygrid-day-number",l&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},rX(e,a)),{id:n.dayNumberId})})):t.showDayNumber?en("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},en("a",{className:"fc-daygrid-day-number"}," ")):void 0,en("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,en("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},en(sJ,{allDayDate:a,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),en("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function s1(e){return e.dayNumberText||en(es,null," ")}function s3(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function s2(e){return s3(e)+":"+e.lastCol}function s4(e,t,n,r){if(e.firstCol===t&&e.lastCol===n-1)return e;let i=e.eventRange,s=i.range,a=nz(s,{start:r[t].date,end:tk(r[n-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:a},isStart:e.isStart&&a.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&a.end.valueOf()===s.end.valueOf()})}class s6 extends r9{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let t=super.addSegs(e),{entriesByLevel:n}=this,r=e=>!this.forceHidden[it(e)];for(let e=0;e<n.length;e+=1)n[e]=n[e].filter(r);return t}handleInvalidInsertion(e,t,n){let{entriesByLevel:r,forceHidden:i}=this,{touchingEntry:s,touchingLevel:a,touchingLateral:o}=e;if(this.hiddenConsumes&&s){let e=it(s);if(!i[e])if(this.allowReslicing){let e=Object.assign(Object.assign({},s),{span:ir(s.span,t.span)});i[it(e)]=!0,r[a][o]=e,n.push(e),this.splitEntry(s,t,n)}else i[e]=!0,n.push(s)}super.handleInvalidInsertion(e,t,n)}}class s5 extends r7{constructor(){super(...arguments),this.cellElRefs=new iD,this.frameElRefs=new iD,this.fgElRefs=new iD,this.segHarnessRefs=new iD,this.rootElRef=ei(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:n}=this,{options:r}=n,i=e.cells.length,s=sV(e.businessHourSegs,i),a=sV(e.bgEventSegs,i),o=sV(this.getHighlightSegs(),i),l=sV(this.getMirrorSegs(),i),{singleColPlacements:c,multiColPlacements:d,moreCnts:u,moreMarginTops:h}=function(e,t,n,r,i,s,a){let o=new s6(t=>i[e[t.index].eventRange.instance.instanceId+":"+t.span.start+":"+(t.span.end-1)]||1);o.allowReslicing=!0,o.strictOrder=r,!0===t||!0===n?(o.maxCoord=s,o.hiddenConsumes=!0):"number"==typeof t?o.maxStackCnt=t:"number"==typeof n&&(o.maxStackCnt=n,o.hiddenConsumes=!0);let l=[],c=[];for(let t=0;t<e.length;t+=1){let n=e[t];null!=i[s2(n)]?l.push({index:t,span:{start:n.firstCol,end:n.lastCol+1}}):c.push(n)}let d=o.addSegs(l),{singleColPlacements:u,multiColPlacements:h,leftoverMargins:f}=function(e,t,n){let r=function(e,t){let n=[];for(let e=0;e<t;e+=1)n.push([]);for(let t of e)for(let e=t.span.start;e<t.span.end;e+=1)n[e].push(t);return n}(e,n.length),i=[],s=[],a=[];for(let e=0;e<n.length;e+=1){let o=r[e],l=[],c=0,d=0;for(let r of o){let i=t[r.index];l.push({seg:s4(i,e,e+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:r.levelCoord-c}),c=r.levelCoord+r.thickness}let u=[];for(let r of(c=0,d=0,o)){let i=t[r.index],s=r.span.end-r.span.start>1,a=r.span.start===e;d+=r.levelCoord-c,c=r.levelCoord+r.thickness,s?(d+=r.thickness,a&&u.push({seg:s4(i,r.span.start,r.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:r.levelCoord,marginTop:0})):a&&(u.push({seg:s4(i,r.span.start,r.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:d}),d=0)}i.push(l),s.push(u),a.push(d)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:a}}(o.toRects(),e,a),p=[],g=[];for(let e of c){h[e.firstCol].push({seg:e,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let t=e.firstCol;t<=e.lastCol;t+=1)u[t].push({seg:s4(e,t,t+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<a.length;e+=1)p.push(0);for(let t of d){let n=e[t.index],r=t.span;h[r.start].push({seg:s4(n,r.start,r.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=r.start;e<r.end;e+=1)p[e]+=1,u[e].push({seg:s4(n,e,e+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<a.length;e+=1)g.push(f[e]);return{singleColPlacements:u,multiColPlacements:h,moreCnts:p,moreMarginTops:g}}(rT(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),f=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return en("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((t,n)=>{let r=this.renderFgSegs(n,e.forPrint?c[n]:d[n],e.todayRange,f),i=this.renderFgSegs(n,function(e,t){if(!e.length)return[];let n=function(e){let t={};for(let n of e)for(let e of n)t[e.seg.eventRange.instance.instanceId]=e.absoluteTop;return t}(t);return e.map(e=>({seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:n[e.eventRange.instance.instanceId],marginTop:0}))}(l[n],d),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return en(s0,{key:t.key,elRef:this.cellElRefs.createRef(t.key),innerElRef:this.frameElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&0===n,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:u[n],moreMarginTop:h[n],singlePlacements:c[n],fgContentElRef:this.fgElRefs.createRef(t.key),fgContent:en(es,null,en(es,null,r),en(es,null,i)),bgContent:en(es,null,this.renderFillSegs(o[n],"highlight"),this.renderFillSegs(s[n],"non-business"),this.renderFillSegs(a[n],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let n=this.props;this.updateSizing(!np(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,n,r,i,s,a){let{context:o}=this,{eventSelection:l}=this.props,{framePositions:c}=this.state,d=1===this.props.cells.length,u=i||s||a,h=[];if(c)for(let e of t){let{seg:t}=e,{instanceId:f}=t.eventRange.instance,p=e.isVisible&&!r[f],g=e.isAbsolute,m="",v="";g&&(o.isRtl?(v=0,m=c.lefts[t.lastCol]-c.lefts[t.firstCol]):(m=0,v=c.rights[t.firstCol]-c.rights[t.lastCol])),h.push(en("div",{className:"fc-daygrid-event-harness"+(g?" fc-daygrid-event-harness-abs":""),key:s3(t),ref:u?null:this.segHarnessRefs.createRef(s2(t)),style:{visibility:p?"":"hidden",marginTop:g?"":e.marginTop,top:g?e.absoluteTop:"",left:m,right:v}},sq(t)?en(sY,Object.assign({seg:t,isDragging:i,isSelected:f===l,defaultDisplayEventEnd:d},rI(t,n))):en(sQ,Object.assign({seg:t,isDragging:i,isResizing:s,isDateSelecting:a,isSelected:f===l,defaultDisplayEventEnd:d},rI(t,n)))))}return h}renderFillSegs(e,t){let{isRtl:n}=this.context,{todayRange:r}=this.props,{framePositions:i}=this.state,s=[];if(i)for(let a of e){let e=n?{right:0,left:i.lefts[a.lastCol]-i.lefts[a.firstCol]}:{left:0,right:i.rights[a.firstCol]-i.rights[a.lastCol]};s.push(en("div",{key:rk(a.eventRange),className:"fc-daygrid-bg-harness",style:e},"bg-event"===t?en(iF,Object.assign({seg:a},rI(a,r))):iV(t)))}return en(es,{},...s)}updateSizing(e){let{props:t,state:n,frameElRefs:r}=this;if(!t.forPrint&&null!==t.clientWidth){if(e){let e=t.cells.map(e=>r.currentMap[e.key]);if(e.length){let t=this.rootElRef.current,r=new r2(t,e,!0,!1);n.framePositions&&n.framePositions.similarTo(r)||this.setState({framePositions:new r2(t,e,!0,!1)})}}let i=this.state.segHeights,s=this.querySegHeights(),a=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({segHeights:Object.assign(Object.assign({},i),s),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let n in e){let r=Math.round(e[n].getBoundingClientRect().height);t[n]=Math.max(t[n]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}s5.addStateEquality({segHeights:np});class s8 extends r7{constructor(){super(...arguments),this.splitBusinessHourSegs=tG(s$),this.splitBgEventSegs=tG(s7),this.splitFgEventSegs=tG(s$),this.splitDateSelectionSegs=tG(s$),this.splitEventDrag=tG(sW),this.splitEventResize=tG(sW),this.rowRefs=new iD}render(){let{props:e,context:t}=this,n=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,n),i=this.splitBgEventSegs(e.bgEventSegs,n),s=this.splitFgEventSegs(e.fgEventSegs,n),a=this.splitDateSelectionSegs(e.dateSelectionSegs,n),o=this.splitEventDrag(e.eventDrag,n),l=this.splitEventResize(e.eventResize,n),c=n>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return en(rF,{unit:"day"},(t,d)=>en(es,null,e.cells.map((t,u)=>en(s5,{ref:this.rowRefs.createRef(u),key:t.length?t[0].date.toISOString():u,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:d,dateProfile:e.dateProfile,cells:t,renderIntro:e.renderRowIntro,businessHourSegs:r[u],eventSelection:e.eventSelection,bgEventSegs:i[u],fgEventSegs:s[u],dateSelectionSegs:a[u],eventDrag:o[u],eventResize:l[u],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:c,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new r2(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new r2(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:n,rowPositions:r}=this,i=n.leftToIndex(e),s=r.topToIndex(t);if(null!=s&&null!=i){let e=this.props.cells[s][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,i),allDay:!0},e.extraDateSpan),dayEl:this.getCellEl(s,i),rect:{left:n.lefts[i],right:n.rights[i],top:r.tops[s],bottom:r.bottoms[s]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let n=this.props.cells[e][t].date,r=tk(n,1);return{start:n,end:r}}}function s7(e,t){return s$(e.filter(s9),t)}function s9(e){return e.eventRange.def.allDay}class ae extends r7{constructor(){super(...arguments),this.elRef=ei(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:r}=e,i=!0===n||!0===t;i&&!r&&(i=!1,t=null,n=null);let s=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return en("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},en("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,en("tbody",{role:"presentation"},en(s8,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){var e,t;let n,r=(e=this.elRef.current,(t=this.props.dateProfile).currentRangeUnit.match(/year|month/)&&(n=e.querySelector(`[data-date="${t.currentDate.toISOString().match(/^\d{4}-\d{2}/)[0]}-01"]`)),n||(n=e.querySelector(`[data-date="${tV(t.currentDate)}"]`)),n);if(r){let e=r.closest(".fc-daygrid-body"),t=e.closest(".fc-scroller"),n=r.getBoundingClientRect().top-e.getBoundingClientRect().top;t.scrollTop=n?n+1:0}this.needsScrollReset=!1}}}class at extends ib{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class an extends r7{constructor(){super(...arguments),this.slicer=new at,this.tableRef=ei()}render(){let{props:e,context:t}=this;return en(ae,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}function ar(e,t){return new iv(new im(e.renderRange,t),/year|month|week/.test(e.currentRangeUnit))}e6(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');var ai=i8({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class extends sF{constructor(){super(...arguments),this.buildDayTableModel=tG(ar),this.headerRef=ei(),this.tableRef=ei()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:n}=this,r=this.buildDayTableModel(n.dateProfile,t),i=e.dayHeaders&&en(ip,{ref:this.headerRef,dateProfile:n.dateProfile,dates:r.headerDates,datesRepDistinctDays:1===r.rowCnt}),s=t=>en(an,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:r,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(i,s,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(i,s)}},dateProfileGeneratorClass:class extends nQ{buildRenderRange(e,t,n){let r=super.buildRenderRange(e,t,n),{props:i}=this;return function(e){let t,{dateEnv:n,currentRange:r}=e,{start:i,end:s}=r;if(e.snapToWeek&&(i=n.startOfWeek(i),(t=n.startOfWeek(s)).valueOf()!==s.valueOf()&&(s=tI(t,1))),e.fixedWeekCount){let e=Math.ceil(tO(n.startOfWeek(n.startOfMonth(tk(r.end,-1))),s)/7);s=tI(s,6-e)}return{start:i,end:s}}({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class as extends rG{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?"background"===e.ui.display||"inverse-background"===e.ui.display?["timed","allDay"]:["allDay"]:["timed"]}}const aa=t8({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function ao(e){let t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return en(nC.Consumer,null,n=>{if(!e.isLabeled)return en("td",{className:t.join(" "),"data-time":e.isoTimeStr});let{dateEnv:r,options:i,viewApi:s}=n,a=null==i.slotLabelFormat?aa:Array.isArray(i.slotLabelFormat)?t8(i.slotLabelFormat[0]):t8(i.slotLabelFormat),o={level:0,time:e.time,date:r.toDate(e.date),view:s,text:r.format(e.date,a)};return en(nP,{elTag:"td",elClasses:t,elAttrs:{"data-time":e.isoTimeStr},renderProps:o,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:al,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},e=>en("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},en(e,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function al(e){return e.text}class ac extends nx{render(){return this.props.slatMetas.map(e=>en("tr",{key:e.key},en(ao,Object.assign({},e))))}}const ad=t8({week:"short"});class au extends r7{constructor(){super(...arguments),this.allDaySplitter=new as,this.headerElRef=ei(),this.rootElRef=ei(),this.scrollerElRef=ei(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:n}=this.context,{dateProfile:r}=this.props,i=r.renderRange,s=1===tO(i.start,i.end)?rX(this.context,i.start,"week"):{};return n.weekNumbers&&"day"===e?en(iW,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:i.start,defaultFormat:ad},e=>en("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:t}},en(e,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:s}))):en("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},en("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:n}=this.context;return en(nP,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:{text:t.allDayText,view:n},generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:ah,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},t=>en("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==e?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},en(t,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,n){let{context:r,props:i}=this,s=[],a=ik(r.options);return e&&s.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(s.push({type:"body",key:"all-day",chunk:{content:t}}),s.push({type:"body",key:"all-day-divider",outerContent:en("tr",{role:"presentation",className:"fc-scrollgrid-section"},en("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),s.push({type:"body",key:"body",liquid:!0,expandRows:!!r.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),en(nH,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},en(iO,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[{width:"shrink"}],sections:s}))}renderHScrollLayout(e,t,n,r,i,s,a){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw Error("No ScrollGrid implementation");let{context:l,props:c}=this,d=!c.forPrint&&ik(l.options),u=!c.forPrint&&iM(l.options),h=[];e&&h.push({type:"header",key:"header",isSticky:d,syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>en("tr",{role:"presentation"},this.renderHeadAxis("day",e.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(h.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>en("tr",{role:"presentation"},this.renderTableRowAxis(e.rowSyncHeights[0]))},{key:"cols",content:t}]}),h.push({key:"all-day-divider",type:"body",outerContent:en("tr",{role:"presentation",className:"fc-scrollgrid-section"},en("td",{colSpan:2,className:"fc-timegrid-divider "+l.theme.getClass("tableCellShaded")}))}));let f=l.options.nowIndicator;return h.push({type:"body",key:"body",liquid:!0,expandRows:!!l.options.expandRows,chunks:[{key:"axis",content:e=>en("div",{className:"fc-timegrid-axis-chunk"},en("table",{"aria-hidden":!0,style:{height:e.expandRows?e.clientHeight:""}},e.tableColGroupNode,en("tbody",null,en(ac,{slatMetas:s}))),en("div",{className:"fc-timegrid-now-indicator-container"},en(rF,{unit:f?"minute":"day"},e=>{let t=f&&a&&a.safeComputeTop(e);return"number"==typeof t?en(iH,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:t},isAxis:!0,date:e}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),u&&h.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:iI},{key:"cols",content:iI}]}),en(nH,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:l.viewSpec},en(o,{liquid:!c.isHeightAuto&&!c.forPrint,forPrint:c.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:i}]}],sections:h}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(!0===e||!0===t)&&(e=void 0,t=5),{dayMaxEvents:e,dayMaxEventRows:t}}}function ah(e){return e.text}class af{constructor(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}safeComputeTop(e){let{dateProfile:t}=this;if(nV(t.currentRange,e)){let n=tP(e),r=e.valueOf()-n.valueOf();if(r>=tC(t.slotMinTime)&&r<tC(t.slotMaxTime))return this.computeTimeTop(tw(r))}return null}computeDateTop(e,t){return t||(t=tP(e)),this.computeTimeTop(tw(e.valueOf()-t.valueOf()))}computeTimeTop(e){let t,n,{positions:r,dateProfile:i}=this,s=r.els.length,a=(e.milliseconds-tC(i.slotMinTime))/tC(this.slotDuration);return t=Math.min(t=Math.floor(a=Math.min(s,a=Math.max(0,a))),s-1),n=a-t,r.tops[t]+r.getHeight(t)*n}}class ap extends nx{render(){let{props:e,context:t}=this,{options:n}=t,{slatElRefs:r}=e;return en("tbody",null,e.slatMetas.map((i,s)=>{let a={time:i.time,date:t.dateEnv.toDate(i.date),view:t.viewApi};return en("tr",{key:i.key,ref:r.createRef(i.key)},e.axis&&en(ao,Object.assign({},i)),en(nP,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!i.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":i.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}}class ag extends nx{constructor(){super(...arguments),this.rootElRef=ei(),this.slatElRefs=new iD}render(){let{props:e,context:t}=this;return en("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},en("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,en(ap,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){var e;let{context:t,props:n}=this;n.onCoords&&null!==n.clientWidth&&this.rootElRef.current.offsetHeight&&n.onCoords(new af(new r2(this.rootElRef.current,(e=this.slatElRefs.currentMap,n.slatMetas.map(t=>e[t.key])),!1,!0),this.props.dateProfile,t.options.slotDuration))}}function am(e,t){let n,r=[];for(n=0;n<t;n+=1)r.push([]);if(e)for(n=0;n<e.length;n+=1)r[e[n].col].push(e[n]);return r}function av(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)n[t.col].segs.push(t)}else for(let e=0;e<t;e+=1)n[e]=null;return n}class ab extends nx{render(){let{props:e}=this;return en(iY,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>ax(e.hiddenSegs,e),defaultGenerator:ay,forceTimed:!0},e=>en(e,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function ay(e){return e.shortText}function aE(e,t){if(!e)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=e,s=r,a=[];for(;s<i;)a.push(t(n,s)),s+=1;return a.sort(aw),[a.map(aA),a[0][1]]}function aw(e,t){return t[1]-e[1]}function aA(e){return e[0]}function aS(e,t){let n={};return(...r)=>{let i=e(...r);return i in n?n[i]:n[i]=t(...r)}}function a_(e,t,n=null,r=0){let i=[];if(n)for(let s=0;s<e.length;s+=1){let a=e[s],o=n.computeDateTop(a.start,t),l=Math.max(o+(r||0),n.computeDateTop(a.end,t));i.push({start:Math.round(o),end:Math.round(l)})}return i}const aC=t8({hour:"numeric",minute:"2-digit",meridiem:!1});class aD extends nx{render(){return en(iP,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:aC}))}}class aT extends nx{constructor(){super(...arguments),this.sortEventSegs=tG(rT)}render(){let{props:e,context:t}=this,{options:n}=t,r=n.selectMirror,i=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||r&&e.dateSelectionSegs||[],s=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return en(ij,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},t=>en("div",{className:"fc-timegrid-col-frame"},en("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),en("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,s,!1,!1,!1)),en("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(i,{},!!e.eventDrag,!!e.eventResize,!!r,"mirror")),en("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),iB(n)&&en(t,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,n,r,i,s){let{props:a}=this;return a.forPrint?ax(e,a):this.renderPositionedFgSegs(e,t,n,r,i,s)}renderPositionedFgSegs(e,t,n,r,i,s){let{eventMaxStack:a,eventShortHeight:o,eventOrderStrict:l,eventMinHeight:c}=this.context.options,{date:d,slatCoords:u,eventSelection:h,todayRange:f,nowDate:p}=this.props,g=n||r||i,m=a_(e,d,u,c),{segPlacements:v,hiddenGroups:b}=function(e,t,n,r){let i,s,a=[],o=[];for(let n=0;n<e.length;n+=1){let r=t[n];r?a.push({index:n,thickness:1,span:r}):o.push(e[n])}let{segRects:l,hiddenGroups:c}=(i=new r9,null!=n&&(i.strictOrder=n),null!=r&&(i.maxStackCnt=r),s=function(e){let t=[];for(let i of e){let e=[],s={span:i.span,entries:[i]};for(let i of t){var n,r;ir(i.span,s.span)?s={entries:i.entries.concat(s.entries),span:(n=i.span,r=s.span,{start:Math.min(n.start,r.start),end:Math.max(n.end,r.end)})}:e.push(i)}e.push(s),t=e}return t}(i.addSegs(a)),{segRects:function(e){let t=[],n=aS((e,t,n)=>it(e),(e,n,i)=>{let s=Object.assign(Object.assign({},e),{levelCoord:n,stackDepth:i,stackForward:0});return t.push(s),s.stackForward=r(e.nextLevelNodes,n+e.thickness,i+1)+1});function r(e,t,r){let i=0;for(let s of e)i=Math.max(n(s,t,r),i);return i}return r(e,0,0),t}(function(e,t){let n=aS((e,t,n)=>it(e),(e,t,r)=>{let i,{nextLevelNodes:s,thickness:a}=e,o=a+r,l=a/o,c=[];if(s.length)for(let e of s)if(void 0===i){let r=n(e,t,o);i=r[0],c.push(r[1])}else{let t=n(e,i,0);c.push(t[1])}else i=1;let d=(i-t)*l;return[i-d,Object.assign(Object.assign({},e),{thickness:d,nextLevelNodes:c})]});return e.map(e=>n(e,0,0)[1])}(function(e){let{entriesByLevel:t}=e,n=aS((e,t)=>e+":"+t,(r,i)=>{let s=aE(function(e,t,n){let{levelCoords:r,entriesByLevel:i}=e,s=i[t][n],a=r[t]+s.thickness,o=r.length,l=t;for(;l<o&&r[l]<a;l+=1);for(;l<o;l+=1){let e,t=i[l],n=is(t,s.span.start,ie),r=n[0]+n[1],a=r;for(;(e=t[a])&&e.span.start<s.span.end;)a+=1;if(r<a)return{level:l,lateralStart:r,lateralEnd:a}}return null}(e,r,i),n),a=t[r][i];return[Object.assign(Object.assign({},a),{nextLevelNodes:s[0]}),a.thickness+s[1]]});return aE(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,n)[0]}(i),1)),hiddenGroups:s}),d=[];for(let t of l)d.push({seg:e[t.index],rect:t});for(let e of o)d.push({seg:e,rect:null});return{segPlacements:d,hiddenGroups:c}}(e,m,l,a);return en(es,null,this.renderHiddenGroups(b,e),v.map(e=>{let{seg:a,rect:l}=e,c=a.eventRange.instance.instanceId,d=g||!!(!t[c]&&l),u=aR(l&&l.span),m=!g&&l?this.computeSegHStyle(l):{left:0,right:0},v=!!l&&l.stackForward>0,b=!!l&&l.span.end-l.span.start<o;return en("div",{className:"fc-timegrid-event-harness"+(v?" fc-timegrid-event-harness-inset":""),key:s||c,style:Object.assign(Object.assign({visibility:d?"":"hidden"},u),m)},en(aD,Object.assign({seg:a,isDragging:n,isResizing:r,isDateSelecting:i,isSelected:c===h,isShort:b},rI(a,f,p))))}))}renderHiddenGroups(e,t){let{extraDateSpan:n,dateProfile:r,todayRange:i,nowDate:s,eventSelection:a,eventDrag:o,eventResize:l}=this.props;return en(es,null,e.map(e=>{var c,d;let u=aR(e.span),h=(c=e.entries,d=t,c.map(e=>d[e.index]));return en(ab,{key:t$(iX(h)),hiddenSegs:h,top:u.top,bottom:u.bottom,extraDateSpan:n,dateProfile:r,todayRange:i,nowDate:s,eventSelection:a,eventDrag:o,eventResize:l})}))}renderFillSegs(e,t){let{props:n,context:r}=this,i=a_(e,n.date,n.slatCoords,r.options.eventMinHeight).map((r,i)=>{let s=e[i];return en("div",{key:rk(s.eventRange),className:"fc-timegrid-bg-harness",style:aR(r)},"bg-event"===t?en(iF,Object.assign({seg:s},rI(s,n.todayRange,n.nowDate))):iV(t))});return en(es,null,i)}renderNowIndicator(e){let{slatCoords:t,date:n}=this.props;return t?e.map((e,r)=>en(iH,{key:r,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(e.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let t,n,{isRtl:r,options:i}=this.context,s=i.slotEventOverlap,a=e.levelCoord,o=e.levelCoord+e.thickness;s&&(o=Math.min(1,a+(o-a)*2)),r?(t=1-o,n=a):(t=a,n=1-o);let l={zIndex:e.stackDepth+1,left:100*t+"%",right:100*n+"%"};return s&&!e.stackForward&&(l[r?"marginLeft":"marginRight"]=20),l}}function ax(e,{todayRange:t,nowDate:n,eventSelection:r,eventDrag:i,eventResize:s}){let a=(i?i.affectedInstances:null)||(s?s.affectedInstances:null)||{};return en(es,null,e.map(e=>{let i=e.eventRange.instance.instanceId;return en("div",{key:i,style:{visibility:a[i]?"hidden":""}},en(aD,Object.assign({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:i===r,isShort:!1},rI(e,t,n))))}))}function aR(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}class aI extends nx{constructor(){super(...arguments),this.splitFgEventSegs=tG(am),this.splitBgEventSegs=tG(am),this.splitBusinessHourSegs=tG(am),this.splitNowIndicatorSegs=tG(am),this.splitDateSelectionSegs=tG(am),this.splitEventDrag=tG(av),this.splitEventResize=tG(av),this.rootElRef=ei(),this.cellElRefs=new iD}render(){let{props:e,context:t}=this,n=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),r=e.cells.length,i=this.splitFgEventSegs(e.fgEventSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),a=this.splitBusinessHourSegs(e.businessHourSegs,r),o=this.splitNowIndicatorSegs(e.nowIndicatorSegs,r),l=this.splitDateSelectionSegs(e.dateSelectionSegs,r),c=this.splitEventDrag(e.eventDrag,r),d=this.splitEventResize(e.eventResize,r);return en("div",{className:"fc-timegrid-cols",ref:this.rootElRef},en("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,en("tbody",{role:"presentation"},en("tr",{role:"row"},e.axis&&en("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},en("div",{className:"fc-timegrid-col-frame"},en("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof n&&en(iH,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((t,n)=>en(aT,{key:t.key,elRef:this.cellElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,fgEventSegs:i[n],bgEventSegs:s[n],businessHourSegs:a[n],nowIndicatorSegs:o[n],dateSelectionSegs:l[n],eventDrag:c[n],eventResize:d[n],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){var e;let{props:t}=this;t.onColCoords&&null!==t.clientWidth&&t.onColCoords(new r2(this.rootElRef.current,(e=this.cellElRefs.currentMap,t.cells.map(t=>e[t.key])),!0,!1))}}class ak extends r7{constructor(){super(...arguments),this.processSlotOptions=tG(aM),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:n}=this.state;if(t&&n){if(e.time){let r=n.computeTimeTop(e.time);(r=Math.ceil(r))&&(r+=1),t(r)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return en("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},en(ag,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),en(aI,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:n,options:r}=this.context,{colCoords:i}=this,{dateProfile:s}=this.props,{slatCoords:a}=this.state,{snapDuration:o,snapsPerSlot:l}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),c=i.leftToIndex(e),d=a.positions.topToIndex(t);if(null!=c&&null!=d){var u;let e=this.props.cells[c],r=a.positions.tops[d],h=a.positions.getHeight(d),f=Math.floor((t-r)/h*l),p=this.props.cells[c].date,g=tS(s.slotMinTime,(u=d*l+f,{years:o.years*u,months:o.months*u,days:o.days*u,milliseconds:o.milliseconds*u})),m=n.add(p,g),v=n.add(m,o);return{dateProfile:s,dateSpan:Object.assign({range:{start:m,end:v},allDay:!1},e.extraDateSpan),dayEl:i.els[c],rect:{left:i.lefts[c],right:i.rights[c],top:r,bottom:r+h},layer:0}}return null}}function aM(e,t){let n=t||e,r=tD(e,n);return null===r&&(n=e,r=1),{snapDuration:n,snapsPerSlot:r}}class aO extends ib{sliceRange(e,t){let n=[];for(let r=0;r<t.length;r+=1){let i=nz(e,t[r]);i&&n.push({start:i.start,end:i.end,isStart:i.start.valueOf()===e.start.valueOf(),isEnd:i.end.valueOf()===e.end.valueOf(),col:r})}return n}}class aN extends r7{constructor(){super(...arguments),this.buildDayRanges=tG(aP),this.slicer=new aO,this.timeColsRef=ei()}render(){let{props:e,context:t}=this,{dateProfile:n,dayTableModel:r}=e,{nowIndicator:i,nextDayThreshold:s}=t.options,a=this.buildDayRanges(r,n,t.dateEnv);return en(rF,{unit:i?"minute":"day"},(o,l)=>en(ak,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,t,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:r.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:o,nowIndicatorSegs:i&&this.slicer.sliceNowDate(o,n,s,t,a),todayRange:l,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function aP(e,t,n){let r=[];for(let i of e.headerDates)r.push({start:n.add(i,t.slotMinTime),end:n.add(i,t.slotMaxTime)});return r}const aL=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function aH(e,t,n,r,i){let s=new Date(0),a=e,o=tw(0),l=n||function(e){let t,n,r;for(t=aL.length-1;t>=0;t-=1)if(null!==(r=tD(n=tw(aL[t]),e))&&r>1)return n;return e}(r),c=[];for(;tC(a)<tC(t);){let e=i.add(s,a),t=null!==tD(o,l);c.push({date:e,time:a,key:e.toISOString(),isoTimeStr:tm(e.getUTCHours(),2)+":"+tm(e.getUTCMinutes(),2)+":"+tm(e.getUTCSeconds(),2),isLabeled:t}),a=tS(a,r),o=tS(o,r)}return c}function aU(e,t){return new iv(new im(e.renderRange,t),!1)}e6('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');var aj=i8({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:class extends au{constructor(){super(...arguments),this.buildTimeColsModel=tG(aU),this.buildSlatMetas=tG(aH)}render(){let{options:e,dateEnv:t,dateProfileGenerator:n}=this.context,{props:r}=this,{dateProfile:i}=r,s=this.buildTimeColsModel(i,n),a=this.allDaySplitter.splitProps(r),o=this.buildSlatMetas(i.slotMinTime,i.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:l}=e,c=!l,d=e.dayHeaders&&en(ip,{dates:s.headerDates,dateProfile:i,datesRepDistinctDays:!0,renderIntro:c?this.renderHeadAxis:null}),u=!1!==e.allDaySlot&&(t=>en(an,Object.assign({},a.allDay,{dateProfile:i,dayTableModel:s,nextDayThreshold:e.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:c?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),h=t=>en(aN,Object.assign({},a.timed,{dayTableModel:s,dateProfile:i,axis:c,slotDuration:e.slotDuration,slatMetas:o,forPrint:r.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return l?this.renderHScrollLayout(d,u,h,s.colCnt,l,o,this.state.slatCoords):this.renderSimpleLayout(d,u,h)}},usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});io.touchMouseIgnoreWait=500;let aB=0,az=0,aF=!1;class a${constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=e=>{var t;if(!this.shouldIgnoreMouse()&&0===(t=e).button&&!t.ctrlKey&&this.tryStart(e)){let t=this.createEventFromMouse(e,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=e=>{let t=this.createEventFromMouse(e);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleMouseUp=e=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(e)),this.cleanup()},this.handleTouchStart=e=>{if(this.tryStart(e)){this.isTouchDragging=!0;let t=this.createEventFromTouch(e,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t);let n=e.target;this.shouldIgnoreMove||n.addEventListener("touchmove",this.handleTouchMove),n.addEventListener("touchend",this.handleTouchEnd),n.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=e=>{let t=this.createEventFromTouch(e);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleTouchEnd=e=>{if(this.isDragging){let t=e.target;t.removeEventListener("touchmove",this.handleTouchMove),t.removeEventListener("touchend",this.handleTouchEnd),t.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(e)),this.cleanup(),this.isTouchDragging=!1,aB+=1,setTimeout(()=>{aB-=1},io.touchMouseIgnoreWait)}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=e=>{if(!this.shouldIgnoreMove){let t=window.scrollX-this.prevScrollX+this.prevPageX,n=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:e,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:t,pageY:n,deltaX:t-this.origPageX,deltaY:n-this.origPageY})}},this.containerEl=e,this.emitter=new rf,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),1===(az+=1)&&window.addEventListener("touchmove",aV,{passive:!1})}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),(az-=1)||window.removeEventListener("touchmove",aV,{passive:!1})}tryStart(e){let t=this.querySubjectEl(e),n=e.target;return!!(t&&(!this.handleSelector||te(n,this.handleSelector)))&&(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0)}cleanup(){aF=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?te(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return aB||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(aF=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let n=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:r}}createEventFromTouch(e,t){let n,r,i=e.touches,s=0,a=0;return i&&i.length?(n=i[0].pageX,r=i[0].pageY):(n=e.pageX,r=e.pageY),t?(this.origPageX=n,this.origPageY=r):(s=n-this.origPageX,a=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:r,deltaX:s,deltaY:a}}}function aV(e){aF&&e.preventDefault()}class aW{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let n=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,t){let n,r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+t+"ms,left "+t+"ms",tn(r,{left:i.left,top:i.top}),n=t=>{(()=>{r.style.transition="",e()})(t),tc.forEach(e=>{r.removeEventListener(e,n)})},tc.forEach(e=>{r.addEventListener(e,n)})}cleanup(){this.mirrorEl&&(e9(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&tn(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),tn(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class aG extends r6{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class aq extends aG{constructor(e,t){super(new r5(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return function(e,t=!1,n){let r=r1(e),i=function(e,t=!1){let n,r,i=window.getComputedStyle(e),s=parseInt(i.borderLeftWidth,10)||0,a=parseInt(i.borderRightWidth,10)||0,o=parseInt(i.borderTopWidth,10)||0,l=parseInt(i.borderBottomWidth,10)||0,c=r0(e),d=c.y-s-a,u=c.x-o-l,h={borderLeft:s,borderRight:a,borderTop:o,borderBottom:l,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return(null===rK&&(tn(n=document.createElement("div"),{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n),r=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left,e9(n),rK=r),rK&&"rtl"===i.direction)?h.scrollbarLeft=d:h.scrollbarRight=d,t&&(h.paddingLeft=parseInt(i.paddingLeft,10)||0,h.paddingRight=parseInt(i.paddingRight,10)||0,h.paddingTop=parseInt(i.paddingTop,10)||0,h.paddingBottom=parseInt(i.paddingBottom,10)||0),h}(e,t),s={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return t&&(s.left+=i.paddingLeft,s.right-=i.paddingRight,s.top+=i.paddingTop,s.bottom-=i.paddingBottom),s}(this.scrollController.el)}}class aQ extends aG{constructor(e){super(new r8,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const aY="function"==typeof performance?performance.now:Date.now;class aZ{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=aY();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let n=e-window.scrollX,r=t-window.scrollY,i=null===this.pointerScreenY?0:r-this.pointerScreenY,s=null===this.pointerScreenX?0:n-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(aY()))}}stop(){if(this.isEnabled){for(let e of(this.isAnimating=!1,this.scrollCaches))e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:n}=e,{edgeThreshold:r}=this,i=r-e.distance,s=i*i/(r*r)*this.maxVelocity*t,a=1;switch(e.name){case"left":a=-1;case"right":n.setScrollLeft(n.getScrollLeft()+s*a);break;case"top":a=-1;case"bottom":n.setScrollTop(n.getScrollTop()+s*a)}}computeBestEdge(e,t){let{edgeThreshold:n}=this,r=null;for(let i of this.scrollCaches||[]){let s=i.clientRect,a=e-s.left,o=s.right-e,l=t-s.top,c=s.bottom-t;a>=0&&o>=0&&l>=0&&c>=0&&(l<=n&&this.everMovedUp&&i.canScrollUp()&&(!r||r.distance>l)&&(r={scrollCache:i,name:"top",distance:l}),c<=n&&this.everMovedDown&&i.canScrollDown()&&(!r||r.distance>c)&&(r={scrollCache:i,name:"bottom",distance:c}),a<=n&&this.everMovedLeft&&i.canScrollLeft()&&(!r||r.distance>a)&&(r={scrollCache:i,name:"left",distance:a}),o<=n&&this.everMovedRight&&i.canScrollRight()&&(!r||r.distance>o)&&(r={scrollCache:i,name:"right",distance:o}))}return r}buildCaches(e){return this.queryScrollEls(e).map(e=>e===window?new aQ(!1):new aq(e,!1))}queryScrollEls(e){let t=[];for(let n of this.scrollQuery)"object"==typeof n?t.push(n):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return t}}class aJ extends ia{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=e=>{if(!this.isDragging){var t;this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,(t=document.body).style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",to),document.body.addEventListener("contextmenu",to),e.isTouch||e.origEvent.preventDefault(),this.emitter.trigger("pointerdown",e),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(e.subjectEl,e.pageX,e.pageY),this.startDelay(e),this.minDistance||this.handleDistanceSurpassed(e))}},this.onPointerMove=e=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",e),!this.isDistanceSurpassed){let t=this.minDistance,{deltaX:n,deltaY:r}=e;n*n+r*r>=t*t&&this.handleDistanceSurpassed(e)}this.isDragging&&("scroll"!==e.origEvent.type&&(this.mirror.handleMove(e.pageX,e.pageY),this.autoScroller.handleMove(e.pageX,e.pageY)),this.emitter.trigger("dragmove",e))}},this.onPointerUp=e=>{if(this.isInteracting){var t;this.isInteracting=!1,(t=document.body).style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",to),document.body.removeEventListener("contextmenu",to),this.emitter.trigger("pointerup",e),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(e)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null)}};let n=this.pointer=new a$(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),t&&(n.selector=t),this.mirror=new aW,this.autoScroller=new aZ}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class aX{constructor(e){this.el=e,this.origRect=r1(e),this.scrollCaches=r3(e).map(e=>new aq(e,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let n={left:e,top:t};for(let e of this.scrollCaches){var r;if(!function(e){let t=e.tagName;return"HTML"===t||"BODY"===t}(e.getEventTarget())&&(r=e.clientRect,!(n.left>=r.left)||!(n.left<r.right)||!(n.top>=r.top)||!(n.top<r.bottom)))return!1}return!0}}class aK{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=e=>{let{dragging:t}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(e),this.initialHit||!this.requireInitial?(t.setIgnoreMove(!1),this.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=e=>{this.emitter.trigger("dragstart",e),this.handleMove(e,!0)},this.handleDragMove=e=>{this.emitter.trigger("dragmove",e),this.handleMove(e)},this.handlePointerUp=e=>{this.releaseHits(),this.emitter.trigger("pointerup",e)},this.handleDragEnd=e=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,e),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",e)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new rf}processFirstCoord(e){var t,n,r;let i,s={left:e.pageX,top:e.pageY},a=s,o=e.subjectEl;o instanceof HTMLElement&&(i=r1(o),t=a,n=i,a={left:Math.min(Math.max(t.left,n.left),n.right),top:Math.min(Math.max(t.top,n.top),n.bottom)});let l=this.initialHit=this.queryHitForOffset(a.left,a.top);if(l){if(this.useSubjectCenter&&i){let e=rV(i,l.rect);e&&(a={left:(e.left+e.right)/2,top:(e.top+e.bottom)/2})}this.coordAdjust={left:(r=a).left-s.left,top:r.top-s.top}}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!a0(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=nu(this.droppableStore,e=>(e.component.prepareHits(),new aX(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:n,offsetTrackers:r}=this,i=null;for(let s in n){let a=n[s].component,o=r[s];if(o&&o.isWithinClipping(e,t)){let n=o.computeLeft(),r=o.computeTop(),l=e-n,c=t-r,{origRect:d}=o,u=d.right-d.left,h=d.bottom-d.top;if(l>=0&&l<u&&c>=0&&c<h){let e=a.queryHit(l,c,u,h);e&&n$(e.dateProfile.activeRange,e.dateSpan.range)&&(this.disablePointCheck||o.el.contains(o.el.getRootNode().elementFromPoint(l+n-window.scrollX,c+r-window.scrollY)))&&(!i||e.layer>i.layer)&&(e.componentId=s,e.context=a.context,e.rect.left+=n,e.rect.right+=n,e.rect.top+=r,e.rect.bottom+=r,i=e)}}}return i}}function a0(e,t){var n,r,i,s;return!e&&!t||!!e==!!t&&(n=e.dateSpan,r=t.dateSpan,i=n.range,s=r.range,(null===i.start?null:i.start.valueOf())===(null===s.start?null:s.start.valueOf())&&(null===i.end?null:i.end.valueOf())===(null===s.end?null:s.end.valueOf())&&n.allDay===r.allDay&&function(e,t){for(let n in t)if("range"!==n&&"allDay"!==n&&e[n]!==t[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}(n,r))}function a1(e,t){var n,r;let i={};for(let n of t.pluginHooks.datePointTransforms)Object.assign(i,n(e,t));return Object.assign(i,(n=e,{date:(r=t.dateEnv).toDate(n.range.start),dateStr:r.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay})),i}class a3 extends rj{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let t=e.origEvent.target,{component:n,dragging:r}=this,{mirror:i}=r,{options:s}=n.context,a=n.context;this.subjectEl=e.subjectEl;let o=this.subjectSeg=r_(e.subjectEl),l=(this.eventRange=o.eventRange).instance.instanceId;this.relevantEvents=n5(a.getCurrentData().eventStore,l),r.minDistance=e.isTouch?0:s.eventDragMinDistance,r.delay=e.isTouch&&l!==n.props.eventSelection?function(e){let{options:t}=e.context,n=t.eventLongPressDelay;return null==n&&(n=t.longPressDelay),n}(n):null,s.fixedMirrorParent?i.parentNode=s.fixedMirrorParent:i.parentNode=te(t,".fc"),i.revertDuration=s.dragRevertDuration;let c=n.isValidSegDownEl(t)&&!te(t,".fc-event-resizer");r.setIgnoreMove(!c),this.isDragging=c&&e.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=e=>{let t=this.component.context,n=this.eventRange,r=n.instance.instanceId;e.isTouch?r!==this.component.props.eventSelection&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:r}):t.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(t.calendarApi.unselect(e),t.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new rE(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi}))},this.handleHitUpdate=(e,t)=>{if(!this.isDragging)return;let n=this.relevantEvents,r=this.hitDragging.initialHit,i=this.component.context,s=null,a=null,o=null,l=!1,c={affectedEvents:n,mutatedEvents:n8(),isEvent:!0};if(e){let t=(s=e.context).options;i===s||t.editable&&t.droppable?(a=function(e,t,n,r){let i=e.dateSpan,s=t.dateSpan,a=i.range.start,o=s.range.start,l={};i.allDay!==s.allDay&&(l.allDay=s.allDay,l.hasEnd=t.context.options.allDayMaintainDuration,a=s.allDay?tP(n):n);let c=nq(a,o,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);c.milliseconds&&(l.allDay=!1);let d={datesDelta:c,standardProps:l};for(let n of r)n(d,e,t);return d}(r,e,this.eventRange.instance.range.start,s.getCurrentData().pluginHooks.eventDragMutationMassagers))&&(c.mutatedEvents=o=rb(n,s.getCurrentData().eventUiBases,a,s),iE(c,e.dateProfile,s)||(l=!0,a=null,o=null,c.mutatedEvents=n8())):s=null}this.displayDrag(s,c),l?tp():tg(),t||(i===s&&a0(r,e)&&(a=null),this.dragging.setMirrorNeedsRevert(!a),this.dragging.setMirrorIsVisible(!e||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=s,this.validMutation=a,this.mutatedRelevantEvents=o)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=e=>{if(this.isDragging){let t=this.component.context,n=t.viewApi,{receivingContext:r,validMutation:i}=this,s=this.eventRange.def,a=this.eventRange.instance,o=new rE(t,s,a),l=this.relevantEvents,c=this.mutatedRelevantEvents,{finalHit:d}=this.hitDragging;if(this.clearDrag(),t.emitter.trigger("eventDragStop",{el:this.subjectEl,event:o,jsEvent:e.origEvent,view:n}),i){if(r===t){let r=new rE(t,c.defs[s.defId],a?c.instances[a.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:c});let d={oldEvent:o,event:r,relatedEvents:rA(c,t,a),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:l})}},u={};for(let e of t.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(u,e(i,t));t.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},d),u),{el:e.subjectEl,delta:i.datesDelta,jsEvent:e.origEvent,view:n})),t.emitter.trigger("eventChange",d)}else if(r){let i={event:o,relatedEvents:rA(l,t,a),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:l})}};t.emitter.trigger("eventLeave",Object.assign(Object.assign({},i),{draggedEl:e.subjectEl,view:n})),t.dispatch({type:"REMOVE_EVENTS",eventStore:l}),t.emitter.trigger("eventRemove",i);let u=c.defs[s.defId],h=c.instances[a.instanceId],f=new rE(r,u,h);r.dispatch({type:"MERGE_EVENTS",eventStore:c});let p={event:f,relatedEvents:rA(c,r,h),revert(){r.dispatch({type:"REMOVE_EVENTS",eventStore:c})}};r.emitter.trigger("eventAdd",p),e.isTouch&&r.dispatch({type:"SELECT_EVENT",eventInstanceId:a.instanceId}),r.emitter.trigger("drop",Object.assign(Object.assign({},a1(d.dateSpan,r)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:d.context.viewApi})),r.emitter.trigger("eventReceive",Object.assign(Object.assign({},p),{draggedEl:e.subjectEl,view:d.context.viewApi}))}}else t.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:n}=t.context,r=this.dragging=new aJ(e.el);r.pointer.selector=a3.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.dragScroll;let i=this.hitDragging=new aK(this.dragging,rz);i.useSubjectCenter=e.useEventCenter,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let n=this.component.context,r=this.receivingContext;r&&r!==e&&(r===n?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:n8(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}a3.SELECTOR=".fc-event-draggable, .fc-event-resizable",io.dataAttrPrefix="";var a2=i8({name:"@fullcalendar/interaction",componentInteractions:[class extends rj{constructor(e){super(e),this.handlePointerDown=e=>{let{dragging:t}=this,n=e.origEvent.target;t.setIgnoreMove(!this.component.isValidDateDownEl(n))},this.handleDragEnd=e=>{let{component:t}=this,{pointer:n}=this.dragging;if(!n.wasTouchScroll){let{initialHit:n,finalHit:r}=this.hitDragging;if(n&&r&&a0(n,r)){let{context:r}=t,i=Object.assign(Object.assign({},a1(n.dateSpan,r)),{dayEl:n.dayEl,jsEvent:e.origEvent,view:r.viewApi||r.calendarApi.view});r.emitter.trigger("dateClick",i)}}},this.dragging=new aJ(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new aK(this.dragging,rB(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class extends rj{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=e=>{let{component:t,dragging:n}=this,{options:r}=t.context,i=r.selectable&&t.isValidDateDownEl(e.origEvent.target);n.setIgnoreMove(!i),n.delay=e.isTouch?function(e){let{options:t}=e.context,n=t.selectLongPressDelay;return null==n&&(n=t.longPressDelay),n}(t):null},this.handleDragStart=e=>{this.component.context.calendarApi.unselect(e)},this.handleHitUpdate=(e,t)=>{let{context:n}=this.component,r=null,i=!1;if(e){var s,a;let t=this.hitDragging.initialHit;e.componentId===t.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(t,e)||(r=function(e,t,n){let r=e.dateSpan,i=t.dateSpan,s=[r.range.start,r.range.end,i.range.start,i.range.end];s.sort(tb);let a={};for(let r of n){let n=r(e,t);if(!1===n)return null;n&&Object.assign(a,n)}return a.range={start:s[0],end:s[3]},a.allDay=r.allDay,a}(t,e,n.pluginHooks.dateSelectionTransformers)),r&&(s=r,a=e.dateProfile,n$(a.validRange,s.range)&&iw({dateSelection:s},n))||(i=!0,r=null)}r?n.dispatch({type:"SELECT_DATES",selection:r}):t||n.dispatch({type:"UNSELECT_DATES"}),i?tp():tg(),t||(this.dragSelection=r)},this.handlePointerUp=e=>{this.dragSelection&&(rg(this.dragSelection,e,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:n}=t.context,r=this.dragging=new aJ(e.el);r.touchScrollAllowed=!1,r.minDistance=n.selectMinDistance||0,r.autoScroller.isEnabled=n.dragScroll;let i=this.hitDragging=new aK(this.dragging,rB(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},a3,class extends rj{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let{component:t}=this,n=r_(this.querySegEl(e)),r=this.eventRange=n.eventRange;this.dragging.minDistance=t.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&this.component.props.eventSelection!==r.instance.instanceId)},this.handleDragStart=e=>{let{context:t}=this.component,n=this.eventRange;this.relevantEvents=n5(t.getCurrentData().eventStore,this.eventRange.instance.instanceId);let r=this.querySegEl(e);this.draggingSegEl=r,this.draggingSeg=r_(r),t.calendarApi.unselect(),t.emitter.trigger("eventResizeStart",{el:r,event:new rE(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi})},this.handleHitUpdate=(e,t,n)=>{let{context:r}=this.component,i=this.relevantEvents,s=this.hitDragging.initialHit,a=this.eventRange.instance,o=null,l=null,c=!1,d={affectedEvents:i,mutatedEvents:n8(),isEvent:!0};e&&(e.componentId===s.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(s,e)||(o=function(e,t,n,r){let i=e.context.dateEnv,s=nq(e.dateSpan.range.start,t.dateSpan.range.start,i,e.largeUnit);if(n){if(i.add(r.start,s)<r.end)return{startDelta:s}}else if(i.add(r.end,s)>r.start)return{endDelta:s};return null}(s,e,n.subjectEl.classList.contains("fc-event-resizer-start"),a.range))),o&&(d.mutatedEvents=l=rb(i,r.getCurrentData().eventUiBases,o,r),iE(d,e.dateProfile,r)||(c=!0,o=null,l=null,d.mutatedEvents=null)),l?r.dispatch({type:"SET_EVENT_RESIZE",state:d}):r.dispatch({type:"UNSET_EVENT_RESIZE"}),c?tp():tg(),t||(o&&a0(s,e)&&(o=null),this.validMutation=o,this.mutatedRelevantEvents=l)},this.handleDragEnd=e=>{let{context:t}=this.component,n=this.eventRange.def,r=this.eventRange.instance,i=new rE(t,n,r),s=this.relevantEvents,a=this.mutatedRelevantEvents;if(t.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:i,jsEvent:e.origEvent,view:t.viewApi}),this.validMutation){let o=new rE(t,a.defs[n.defId],r?a.instances[r.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:a});let l={oldEvent:i,event:o,relatedEvents:rA(a,t,r),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:s})}};t.emitter.trigger("eventResize",Object.assign(Object.assign({},l),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||tw(0),endDelta:this.validMutation.endDelta||tw(0),jsEvent:e.origEvent,view:t.viewApi})),t.emitter.trigger("eventChange",l)}else t.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,n=this.dragging=new aJ(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new aK(this.dragging,rB(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return te(e.subjectEl,".fc-event")}}],calendarInteractions:[class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=e=>{e.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=e=>{let t=this.context.options.unselectCancel,n=ti(e.origEvent);this.matchesCancel=!!te(n,t),this.matchesEvent=!!te(n,a3.SELECTOR)},this.onDocumentPointerUp=e=>{let{context:t}=this,{documentPointer:n}=this,r=t.getCurrentData();if(!n.wasTouchScroll){if(r.dateSelection&&!this.isRecentPointerDateSelect){let n=t.options.unselectAuto;!n||n&&this.matchesCancel||t.calendarApi.unselect(e)}r.eventSelection&&!this.matchesEvent&&t.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new a$(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:aJ,optionRefiners:{fixedMirrorParent:no},listenerRefiners:{dateClick:no,eventDragStart:no,eventDragStop:no,eventDrop:no,eventResizeStart:no,eventResizeStop:no,eventResize:no,drop:no,eventReceive:no,eventLeave:no}});class a4 extends nx{constructor(){super(...arguments),this.state={textId:ta()}}render(){let{theme:e,dateEnv:t,options:n,viewApi:r}=this.context,{cellId:i,dayDate:s,todayRange:a}=this.props,{textId:o}=this.state,l=rQ(s,a),c=n.listDayFormat?t.format(s,n.listDayFormat):"",d=n.listDaySideFormat?t.format(s,n.listDaySideFormat):"",u=Object.assign({date:t.toDate(s),view:r,textId:o,text:c,sideText:d,navLinkAttrs:rX(this.context,s),sideNavLinkAttrs:rX(this.context,s,"day",!1)},l);return en(nP,{elTag:"tr",elClasses:["fc-list-day",...rY(l,e)],elAttrs:{"data-date":tV(s)},renderProps:u,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:a6,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},t=>en("th",{scope:"colgroup",colSpan:3,id:i,"aria-labelledby":o},en(t,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}}function a6(e){return en(es,null,e.text&&en("a",Object.assign({id:e.textId,className:"fc-list-day-text"},e.navLinkAttrs),e.text),e.sideText&&en("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},e.sideNavLinkAttrs),e.sideText))}const a5=t8({hour:"numeric",minute:"2-digit",meridiem:"short"});class a8 extends nx{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r,timeHeaderId:i,eventHeaderId:s,dateHeaderId:a}=e,o=n.eventTimeFormat||a5;return en(iN,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>{var e;return en("a",Object.assign({},rM(e=r,t)),e.eventRange.def.title)},seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(e,n)=>en(es,null,function(e,t,n,r,i){let{options:s}=n;if(!1!==s.displayEventTime){let a,o=e.eventRange.def,l=e.eventRange.instance,c=!1;if(o.allDay)c=!0;else{let r;tO((r=nG(e.eventRange.range)).start,r.end)>1?e.isStart?a=rR(e,t,n,null,null,l.range.start,e.end):e.isEnd?a=rR(e,t,n,null,null,e.start,l.range.end):c=!0:a=rR(e,t,n)}return c?en(nP,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${r} ${i}`},renderProps:{text:n.options.allDayText,view:n.viewApi},generatorName:"allDayContent",customGenerator:s.allDayContent,defaultGenerator:a7,classNameGenerator:s.allDayClassNames,didMount:s.allDayDidMount,willUnmount:s.allDayWillUnmount}):en("td",{className:"fc-list-event-time"},a)}return null}(r,o,t,i,a),en("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},en("span",{className:"fc-list-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}})),en(e,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${s} ${a}`}})))}}function a7(e){return e.text}function a9(e){return e.text}function oe(e){let t=tP(e.renderRange.start),n=e.renderRange.end,r=[],i=[];for(;t<n;)r.push(t),i.push({start:t,end:tk(t,1)}),t=tk(t,1);return{dayDates:r,dayRanges:i}}function ot(e){return!1===e?null:t8(e)}e6(':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}');var on=i8({name:"@fullcalendar/list",optionRefiners:{listDayFormat:ot,listDaySideFormat:ot,noEventsClassNames:no,noEventsContent:no,noEventsDidMount:no,noEventsWillUnmount:no},views:{list:{component:class extends r7{constructor(){super(...arguments),this.computeDateVars=tG(oe),this.eventStoreToSegs=tG(this._eventStoreToSegs),this.state={timeHeaderId:ta(),eventHeaderId:ta(),dateHeaderIdRoot:ta()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t}=this,{dayDates:n,dayRanges:r}=this.computeDateVars(e.dateProfile),i=this.eventStoreToSegs(e.eventStore,e.eventUiBases,r);return en(nH,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),!1!==t.options.stickyHeaderDates?"fc-list-sticky":""],viewSpec:t.viewSpec},en(iC,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},i.length>0?this.renderSegList(i,n):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context;return en(nP,{elTag:"div",elClasses:["fc-list-empty"],renderProps:{text:e.noEventsText,view:t},generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:a9,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},e=>en(e,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,t){let{theme:n,options:r}=this.context,{timeHeaderId:i,eventHeaderId:s,dateHeaderIdRoot:a}=this.state,o=function(e){let t,n,r=[];for(t=0;t<e.length;t+=1)(r[(n=e[t]).dayIndex]||(r[n.dayIndex]=[])).push(n);return r}(e);return en(rF,{unit:"day"},(e,l)=>{let c=[];for(let n=0;n<o.length;n+=1){let d=o[n];if(d){let o=tV(t[n]),u=a+"-"+o;for(let a of(c.push(en(a4,{key:o,cellId:u,dayDate:t[n],todayRange:l})),d=rT(d,r.eventOrder)))c.push(en(a8,Object.assign({key:o+":"+a.eventRange.instance.instanceId,seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:i,eventHeaderId:s,dateHeaderId:u},rI(a,l,e))))}}return en("table",{className:"fc-list-table "+n.getClass("table")},en("thead",null,en("tr",null,en("th",{scope:"col",id:i},r.timeHint),en("th",{scope:"col","aria-hidden":!0}),en("th",{scope:"col",id:s},r.eventHint))),en("tbody",null,c))})}_eventStoreToSegs(e,t,n){return this.eventRangesToSegs(rS(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)}eventRangesToSegs(e,t){let n=[];for(let r of e)n.push(...this.eventRangeToSegs(r,t));return n}eventRangeToSegs(e,t){let n,r,i,{dateEnv:s}=this.context,{nextDayThreshold:a}=this.context.options,o=e.range,l=e.def.allDay,c=[];for(n=0;n<t.length;n+=1)if((r=nz(o,t[n]))&&(c.push(i={component:this,eventRange:e,start:r.start,end:r.end,isStart:e.isStart&&r.start.valueOf()===o.start.valueOf(),isEnd:e.isEnd&&r.end.valueOf()===o.end.valueOf(),dayIndex:n}),!i.isEnd&&!l&&n+1<t.length&&o.end<s.add(t[n+1].start,a))){i.end=o.end,i.isEnd=!0;break}return c}},buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});const or={code:"pt-br",week:{dow:1,doy:4},buttonText:{prev:"Anterior",next:"Próximo",today:"Hoje",month:"Mês",week:"Semana",day:"Dia",list:"Lista"},weekText:"Sem",allDayText:"Dia inteiro",moreLinkText:function(e){return"+mais "+e},noEventsText:"Não há eventos para mostrar",dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]};class oi{static initializeCalendar(e,t){if(this.isInitialized&&this.calendar)return this.updateEvents(t),this.calendar;this.calendar&&this.calendar.destroy();let n={plugins:[ai,aj,a2,on],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},initialView:"dayGridMonth",locale:or,height:"auto",events:this.convertAulasToEvents(t),eventClick:this.handleEventClick.bind(this),eventDidMount:this.handleEventDidMount.bind(this),dayMaxEvents:!0,moreLinkClick:"popover",eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},slotMinTime:"06:00:00",slotMaxTime:"22:00:00",slotDuration:"00:30:00",selectable:!0,selectMirror:!0,weekends:!0,editable:!1,selectConstraint:"businessHours",businessHours:{daysOfWeek:[1,2,3,4,5,6,0],startTime:"06:00",endTime:"22:00"}};try{return this.calendar=new sz(document.getElementById(e),n),this.calendar.render(),this.isInitialized=!0,this.calendar}catch(e){throw console.error("Erro ao inicializar calendário:",e),e}}static convertAulasToEvents(e){return e.map(e=>{let t=new Date(e.dataHora),n=new Date(t.getTime()+6e4*e.duracao),{backgroundColor:r,borderColor:i,textColor:s}=this.getEventColors(e.status);return{id:e.id,title:e.titulo,start:t,end:n,backgroundColor:r,borderColor:i,textColor:s,extendedProps:{aulaId:e.id,status:e.status,reservas:e.reservas||[],professorId:e.professorId,conteudo:e.conteudo,valor:e.valor,maxAlunos:e.maxAlunos,observacoes:e.observacoes}}})}static getEventColors(e){switch(e){case"disponivel":return{backgroundColor:"#28a745",borderColor:"#1e7e34",textColor:"#ffffff"};case"lotada":return{backgroundColor:"#007bff",borderColor:"#0056b3",textColor:"#ffffff"};case"cancelada":return{backgroundColor:"#dc3545",borderColor:"#c82333",textColor:"#ffffff"};case"reagendada":return{backgroundColor:"#ffc107",borderColor:"#e0a800",textColor:"#212529"};default:return{backgroundColor:"#6c757d",borderColor:"#545b62",textColor:"#ffffff"}}}static handleEventClick(e){try{let t=e.event,n=t.extendedProps.aulaId,r=new CustomEvent("aulaCalendarClick",{detail:{aulaId:n,event:t.toPlainObject()}});document.dispatchEvent(r)}catch(e){console.error("Erro ao lidar com clique no evento:",e)}}static handleEventDidMount(e){var t;try{let n=e.event,r=n.extendedProps.reservas||[];if(e.el){let i=`
          <div class="calendar-tooltip">
            <strong>${n.title}</strong><br>
            <small>Status: ${n.extendedProps.status}</small><br>
            <small>Reservas: ${r.length}/${n.extendedProps.maxAlunos}</small><br>
            <small>Valor: R$ ${(null==(t=n.extendedProps.valor)?void 0:t.toFixed(2))||"0.00"}</small>
          </div>
        `;e.el.setAttribute("title",i),e.el.setAttribute("data-bs-toggle","tooltip"),e.el.setAttribute("data-bs-html","true"),window.bootstrap&&window.bootstrap.Tooltip&&new window.bootstrap.Tooltip(e.el)}}catch(e){console.error("Erro ao montar evento:",e)}}static updateEvents(e){try{if(this.calendar){let t=this.convertAulasToEvents(e);this.calendar.removeAllEvents(),this.calendar.addEventSource(t)}}catch(e){console.error("Erro ao atualizar eventos:",e)}}static destroy(){try{this.calendar&&(this.calendar.destroy(),this.calendar=null,this.isInitialized=!1)}catch(e){console.error("Erro ao destruir calendário:",e)}}static getCalendar(){return this.calendar}}oi.calendar=null,oi.isInitialized=!1;class os{static loadModule(e){var t,n,r,i;return t=this,n=void 0,r=void 0,i=function*(){if(this.loadedModules.has(e))return Promise.resolve();try{return this.loadedModules.add(e),Promise.resolve()}catch(t){throw console.error(`Erro ao carregar m\xf3dulo ${e}:`,t),t}},new(r||(r=Promise))(function(e,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function o(e){try{l(i.throw(e))}catch(e){s(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(a,o)}l((i=i.apply(t,n||[])).next())})}static debounce(e,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>e(...r),t)}}static throttle(e,t){let n;return(...r)=>{n||(e(...r),n=!0,setTimeout(()=>n=!1,t))}}static isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}static isSlowConnection(){if("connection"in navigator){let e=navigator.connection;return"slow-2g"===e.effectiveType||"2g"===e.effectiveType||"3g"===e.effectiveType}return!1}static applyOptimizations(){this.isMobile()&&document.documentElement.style.setProperty("--animation-duration","0.2s"),this.isSlowConnection()&&document.documentElement.style.setProperty("--enable-animations","false")}}os.loadedModules=new Set,(l=u||(u={}))[l.DEBUG=0]="DEBUG",l[l.INFO=1]="INFO",l[l.WARN=2]="WARN",l[l.ERROR=3]="ERROR";const oa=new class{constructor(){this.level=u.WARN}shouldLog(e){return e>=this.level}formatMessage(e,t,...n){let r=new Date().toISOString();return`[${r}] [${e}] ${t}`}debug(e,...t){this.shouldLog(u.DEBUG)&&console.debug(this.formatMessage("DEBUG",e),...t)}info(e,...t){this.shouldLog(u.INFO)&&console.info(this.formatMessage("INFO",e),...t)}warn(e,...t){this.shouldLog(u.WARN)&&console.warn(this.formatMessage("WARN",e),...t)}error(e,...t){this.shouldLog(u.ERROR)&&console.error(this.formatMessage("ERROR",e),...t)}};var oo=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};class ol{static render(){return oo(this,void 0,void 0,function*(){try{let e=yield F.loadDashboardData();return P.render(e)}catch(e){return this.renderErrorState()}})}static init(){return oo(this,void 0,void 0,function*(){os.applyOptimizations(),this.setupEventListeners(),this.setupGlobalFunctions(),this.setupCalendar()})}static setupEventListeners(){setTimeout(()=>{let e=document.getElementById("btn-logout");e&&e.addEventListener("click",this.handleLogout.bind(this));let t=document.getElementById("nova-aula-btn");t&&t.addEventListener("click",()=>{this.showNovaAulaModal()});let n=document.getElementById("btn-copiar-link");n&&n.addEventListener("click",this.handleCopyLink.bind(this));let r=document.getElementById("btn-editar-perfil");r&&r.addEventListener("click",e=>{e.preventDefault(),this.handleEditarPerfil()});let i=document.getElementById("formNovaAula");i&&i.addEventListener("submit",this.handleSubmitNovaAula.bind(this));let s=document.getElementById("formEditarAula");s&&s.addEventListener("submit",this.handleSubmitEditarAula.bind(this)),document.querySelectorAll('[data-bs-dismiss="modal"], .modal-footer .btn-secondary').forEach(e=>{e.addEventListener("click",()=>{let t=e.closest(".modal");if(t&&window.bootstrap){let e=window.bootstrap.Modal.getInstance(t);e&&e.hide()}this.resetForms()})})},100)}static setupGlobalFunctions(){window.editarAula=this.handleEditarAula.bind(this),window.excluirAula=this.handleExcluirAula.bind(this),window.navegarMes=this.handleNavegarMes.bind(this)}static setupCalendar(){let e=document.getElementById("calendario-tab");e&&e.addEventListener("shown.bs.tab",os.debounce(()=>{this.initializeCalendar()},100)),document.addEventListener("aulaCalendarClick",e=>{this.handleCalendarEventClick(e.detail)})}static initializeCalendar(){return oo(this,void 0,void 0,function*(){try{let e=yield F.loadDashboardData();document.getElementById("calendario-container")&&(oi.initializeCalendar("calendario-container",e.aulas),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(e){return new window.bootstrap.Tooltip(e)}))}catch(e){console.error("Erro ao inicializar calendário:",e),g("Erro ao carregar calendário.","danger")}})}static handleCalendarEventClick(e){return oo(this,void 0,void 0,function*(){try{let{aulaId:t}=e,n=yield B(t);if(n.ok){let e=yield n.json(),r=document.getElementById("modalAulaDetailBody");r&&(r.innerHTML=N.renderContent(e),this.setupDetailModalButtons(t),new window.bootstrap.Modal(document.getElementById("modalAulaDetail")).show())}else g("Erro ao carregar detalhes da aula.","danger")}catch(e){console.error("Erro ao abrir detalhes da aula:",e),g("Erro ao abrir detalhes da aula.","danger")}})}static setupDetailModalButtons(e){let t=document.getElementById("btn-editar-aula-detail");t&&t.addEventListener("click",()=>{let t=window.bootstrap.Modal.getInstance(document.getElementById("modalAulaDetail"));t&&t.hide(),this.handleEditarAula(e)});let n=document.getElementById("btn-fechar-detail");n&&n.addEventListener("click",()=>{let e=window.bootstrap.Modal.getInstance(document.getElementById("modalAulaDetail"));e&&e.hide()})}static handleLogout(){return oo(this,void 0,void 0,function*(){try{(yield fetch(`${H}/auth/logout`,{method:"GET",credentials:"include"})).ok?(g("Logout realizado com sucesso!","success"),setTimeout(()=>{window.location.href="/login"},1e3)):g("Erro ao fazer logout.","danger")}catch(e){g("Erro ao conectar com o servidor.","danger")}})}static handleCopyLink(){return oo(this,void 0,void 0,function*(){let e=document.getElementById("input-link-publico");e&&((yield F.copyToClipboard(e.value))?g("Link copiado para a área de transferência!","success"):g("Erro ao copiar link.","danger"))})}static handleEditarPerfil(){window.location.href="/editar-perfil"}static showNovaAulaModal(){this.currentAulaId=null,new window.bootstrap.Modal(document.getElementById("modalNovaAula")).show()}static handleEditarAula(e){return oo(this,void 0,void 0,function*(){try{let t=yield B(e);if(t.ok){let n=yield t.json();this.populateEditForm(n),this.currentAulaId=e,new window.bootstrap.Modal(document.getElementById("modalEditarAula")).show()}else{let e="Erro ao carregar dados da aula.";try{if(e=(yield t.json()).error||e,401===t.status){g("Sessão expirada. Faça login novamente.","danger"),setTimeout(()=>window.location.href="/login",1500);return}}catch(e){}g(e,"danger")}}catch(e){console.error("Erro ao editar aula:",e),g((null==e?void 0:e.message)||"Erro ao conectar com o servidor.","danger")}})}static showExcluirAulaModal(e){let t=document.getElementById("modalExcluirAulaContainer");t||((t=document.createElement("div")).id="modalExcluirAulaContainer",document.body.appendChild(t)),t.innerHTML=`
      <div class="modal fade" id="modalExcluirAula" tabindex="-1">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Confirmar Exclus\xe3o</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
              Tem certeza que deseja excluir esta aula? Esta a\xe7\xe3o n\xe3o poder\xe1 ser desfeita.
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
              <button type="button" class="btn btn-danger" id="btnConfirmarExcluirAula">Excluir</button>
            </div>
          </div>
        </div>
      </div>
    `;let n=new window.bootstrap.Modal(document.getElementById("modalExcluirAula"));n.show();let r=document.getElementById("btnConfirmarExcluirAula");r&&(r.onclick=()=>oo(this,void 0,void 0,function*(){yield this.confirmarExcluirAula(e,n)}))}static confirmarExcluirAula(e,t){return oo(this,void 0,void 0,function*(){(yield F.excluirAula(e))?(g("Aula excluída com sucesso!","success"),t.hide(),yield this.refreshDashboard()):g("Erro ao excluir aula.","danger")})}static handleExcluirAula(e){return oo(this,void 0,void 0,function*(){this.showExcluirAulaModal(e)})}static handleNavegarMes(e){oa.debug("Navegar mês:",e)}static handleSubmitNovaAula(e){return oo(this,void 0,void 0,function*(){e.preventDefault();let t=this.getFormData(e.target);t.status||(t.status="disponivel");let n=F.validateAulaData(t);if(!n.isValid)return void n.errors.forEach(e=>g(e,"danger"));try{(yield F.criarAula(t))&&(window.bootstrap.Modal.getInstance(document.getElementById("modalNovaAula")).hide(),this.resetForms(),yield this.refreshDashboard())}catch(e){g((null==e?void 0:e.message)||"Erro ao criar aula","danger")}})}static handleSubmitEditarAula(e){return oo(this,void 0,void 0,function*(){var t;if(e.preventDefault(),!this.currentAulaId)return;let n=this.getFormData(e.target);n.status||(n.status="disponivel");let r=F.validateAulaData(n);if(!r.isValid)return void r.errors.forEach(e=>g(e,"danger"));try{let e=Object.assign(Object.assign({},n),{valor:parseFloat(n.valor.toString()),duracao:parseInt(n.duracao.toString(),10),maxAlunos:parseInt(n.maxAlunos.toString(),10),dataHora:n.dataHora.includes("T")?n.dataHora:new Date(n.dataHora).toISOString(),status:n.status||"disponivel"});if(yield F.editarAula(this.currentAulaId,e)){let e=document.getElementById("modalEditarAula");if(e){let t=window.bootstrap.Modal.getInstance(e);t&&t.hide()}this.resetForms(),yield this.refreshDashboard()}}catch(e){if((null==(t=null==e?void 0:e.response)?void 0:t.status)===401){g("Sessão expirada. Faça login novamente.","danger"),setTimeout(()=>window.location.href="/login",1500);return}g((null==e?void 0:e.message)||"Erro ao editar aula","danger")}})}static getFormData(e){let t=new FormData(e),n=t.get("dataHora");return!n||n.endsWith("Z")||n.includes("T")||(n=n.replace(" ","T")),{titulo:t.get("titulo"),conteudo:t.get("conteudo"),valor:parseFloat(t.get("valor")),duracao:parseInt(t.get("duracao"),10),maxAlunos:parseInt(t.get("maxAlunos"),10),dataHora:n,status:t.get("status")||"disponivel",observacoes:t.get("observacoes")||void 0}}static populateEditForm(e){let t=document.getElementById("formEditarAula");if(t){t.querySelector('[name="titulo"]').value=e.titulo,t.querySelector('[name="conteudo"]').value=e.conteudo,t.querySelector('[name="valor"]').value=e.valor,t.querySelector('[name="duracao"]').value=e.duracao,t.querySelector('[name="maxAlunos"]').value=e.maxAlunos;let n=t.querySelector('[name="dataHora"]');n.value=new Date(e.dataHora).toISOString().slice(0,16),n.setAttribute("data-original",n.value),t.querySelector('[name="status"]').value=e.status,t.querySelector('[name="observacoes"]').value=e.observacoes||""}}static resetForms(){["formNovaAula","formEditarAula"].forEach(e=>{let t=document.getElementById(e);t&&t.reset()}),this.currentAulaId=null}static refreshDashboard(){return oo(this,void 0,void 0,function*(){try{let e=yield F.loadDashboardData(),t=document.querySelector(".tab-content");if(t){let n=t.querySelector("#aulas .row");n&&(n.innerHTML=e.aulas.length>0?e.aulas.map(e=>`
                <div class="col-12 col-md-6 col-lg-4">
                  ${this.renderAulaCard(e)}
                </div>
              `).join(""):`
                <div class="col-12">
                  <div class="text-center py-5">
                    <i class="bi bi-calendar3 display-1 text-muted"></i>
                    <h4 class="mt-3 text-muted">Nenhuma aula cadastrada</h4>
                    <p class="text-muted">Clique em "Nova Aula" para come\xe7ar a criar suas aulas.</p>
                  </div>
                </div>
              `)}oi.getCalendar()&&oi.updateEvents(e.aulas)}catch(e){g("Erro ao atualizar dashboard.","danger")}})}static renderAulaCard(e){return R.render(e)}static renderErrorState(){return`
      <div class="container mt-5">
        <div class="row justify-content-center">
          <div class="col-md-8">
            <div class="card">
              <div class="card-body text-center">
                <i class="bi bi-exclamation-triangle text-danger display-1"></i>
                <h4 class="mt-3 text-danger">Erro ao carregar dashboard</h4>
                <p class="text-muted">N\xe3o foi poss\xedvel carregar os dados do dashboard.</p>
                <button class="btn btn-primary" onclick="location.reload()">
                  <i class="bi bi-arrow-clockwise"></i> Tentar novamente
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}}ol.currentAulaId=null;class oc{static render(e={}){let t=e.professor||{},n=e.aulas||[];return`
      <div class="container py-5">
        <div class="row justify-content-center">
          <div class="col-lg-10">
            <div class="card shadow-lg border-0 mb-4">
              <div class="card-body d-flex flex-column flex-md-row align-items-md-center gap-4 p-4">
                <div class="text-center flex-shrink-0">
                  <i class="bi bi-person-circle display-1 text-primary"></i>
                  <h2 class="fw-bold mt-2 mb-1">${t.nome||"Professor(a)"}</h2>
                  <div class="text-muted mb-3 fs-5">${t.especialidade||""}</div>
                </div>
                <div class="flex-fill">
                  <div class="row g-2">
                    <div class="col-12 col-md-6">
                      <div class="mb-2"><i class="bi bi-mortarboard me-2 text-secondary"></i><b>Forma\xe7\xe3o:</b> <span class="text-dark">${t.formacao||"-"}</span></div>
                      <div class="mb-2"><i class="bi bi-briefcase me-2 text-secondary"></i><b>Experi\xeancia:</b> <span class="text-dark">${t.experiencia||"-"}</span></div>
                    </div>
                    <div class="col-12 col-md-6">
                      <div class="mb-2"><i class="bi bi-envelope me-2 text-secondary"></i><b>E-mail:</b> <span class="text-dark">${t.email||"-"}</span></div>
                      <div class="mb-2"><i class="bi bi-telephone me-2 text-secondary"></i><b>Telefone:</b> <span class="text-dark">${t.telefone||"-"}</span></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="card shadow-sm">
              <div class="card-header bg-primary text-white">
                <h4 class="mb-0"><i class="bi bi-calendar3"></i> Aulas Dispon\xedveis</h4>
              </div>
              <div class="card-body">
                ${e.errorMessage?`<div class='alert alert-danger'>${e.errorMessage}</div>`:""}
                ${e.successMessage?`<div class='alert alert-success'>${e.successMessage}</div>`:""}
                <div class="row g-4">
                  ${n.length>0?n.map(t=>{var n,r;return`
                    <div class="col-12 col-md-6 col-lg-4">
                      <div class="card h-100 border-primary">
                        <div class="card-body">
                          <h5 class="card-title">${t.titulo}</h5>
                          <div><b>Conte\xfado:</b> ${t.conteudo}</div>
                          <div><b>Data/Hora:</b> ${new Date(t.dataHora).toLocaleString()}</div>
                          <div><b>Dura\xe7\xe3o:</b> ${t.duracao} min</div>
                          <div><b>Valor:</b> R$ ${(null==(n=t.valor)?void 0:n.toFixed(2))||"-"}</div>
                          <div><b>Vagas:</b> ${t.maxAlunos-((null==(r=t.reservas)?void 0:r.length)||0)} / ${t.maxAlunos}</div>
                          <div class="mt-3">
                            <button class="btn btn-outline-primary w-100" onclick="${e.onReservar||"handleReservarAula"}('${t.id}')">
                              <i class="bi bi-calendar-plus"></i> Reservar
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  `}).join(""):`<div class='col-12 text-center text-muted'>Nenhuma aula dispon\xedvel no momento.</div>`}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}}var od=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};class ou{static carregarProfessor(e){return od(this,void 0,void 0,function*(){let t=yield fetch(`${H}/professores/${e}`);if(!t.ok)throw Error("Erro ao carregar dados do professor");return yield t.json()})}static carregarAulas(e){return od(this,void 0,void 0,function*(){let t=yield fetch(`${H}/professores/${e}/aulas`);if(!t.ok)throw Error("Erro ao carregar aulas");return yield t.json()})}static reservarAula(e,t,n,r,i){return od(this,void 0,void 0,function*(){try{var s;let a=yield(s={aulaId:t,alunoNome:n,alunoTelefone:r,alunoEmail:i},fetch(`${H}/professor-publico/${e}/reservar`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}));if(a.ok)return g("Reserva realizada com sucesso!","success"),{success:!0};{let e=yield a.json();return{success:!1,error:e.error||"Erro desconhecido"}}}catch(e){return{success:!1,error:"Erro ao conectar com o servidor."}}})}static carregarPerfilEAulas(e){return od(this,void 0,void 0,function*(){let t=yield fetch(`${H}/professor-publico/${e}`);if(!t.ok)throw Error("Erro ao carregar dados do professor");return yield t.json()})}}var oh=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};let of=null,op=[],og="";function om(){window.handleReservarAula=ov}function ov(e){!function(e){let t=op.find(t=>t.id===e);if(!t)return;let n=`
    <div class="modal fade" id="modalReserva" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Reservar Aula: ${t.titulo}</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <form id="formReserva">
              <div class="mb-3">
                <label for="nome" class="form-label">Seu Nome</label>
                <input type="text" class="form-control" id="nome" name="nome" required>
              </div>
              <div class="mb-3">
                <label for="telefone" class="form-label">Telefone</label>
                <input type="tel" class="form-control" id="telefone" name="telefone" required>
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">E-mail</label>
                <input type="email" class="form-control" id="email" name="email" required>
              </div>
              <button type="submit" class="btn btn-primary w-100">Confirmar Reserva</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  `,r=document.getElementById("modalReservaContainer");r||((r=document.createElement("div")).id="modalReservaContainer",document.body.appendChild(r)),r.innerHTML=n;let i=new window.bootstrap.Modal(document.getElementById("modalReserva"));i.show();let s=document.getElementById("formReserva");s&&(s.onsubmit=t=>(function(e,t,n){return oh(this,void 0,void 0,function*(){e.preventDefault();let r=e.target,i=r.nome.value,s=r.telefone.value,a=r.email.value,o=yield ou.reservarAula(og,t,i,s,a);if(o.success){n.hide(),g("Reserva realizada com sucesso!","success"),op=yield ou.carregarAulas(og);let e=document.getElementById("root");e&&(e.innerHTML=oc.render({professor:of,aulas:op,successMessage:"Reserva realizada com sucesso!"}),e.innerHTML+=oy(),ow(og)),om()}else g(o.error||"Erro ao reservar","danger")})})(t,e,i))}(e)}function ob(e,t,n,r){return oh(this,void 0,void 0,function*(){let i=yield fetch(`${H}/professor-publico/${e}/agendamentos/aluno?nome=${encodeURIComponent(t)}&telefone=${encodeURIComponent(n)}&email=${encodeURIComponent(r)}`);if(!i.ok)throw Error("Erro ao buscar agendamentos");return yield i.json()})}function oy(){return`
    <div class="text-center mt-4">
      <button class="btn btn-outline-primary" id="btnAbrirConsultaAgendamento">
        <i class="bi bi-search"></i> Consultar meus agendamentos
      </button>
    </div>
    <div id="modalConsultaAgendamentoContainer"></div>
  `}function oE(e){let t=document.getElementById("meusAgendamentosSection");if(!t){(t=document.createElement("div")).id="meusAgendamentosSection";let e=document.getElementById("root");if(e){let n=e.querySelector(".card.shadow-lg");n&&n.parentElement?n.parentElement.insertAdjacentElement("afterend",t):e.appendChild(t)}}t.innerHTML=`
    <div class="container d-flex justify-content-center mt-4 mb-5">
      <div class="card shadow rounded-4 w-100" style="max-width: 700px;">
        <div class="card-header bg-primary text-white rounded-top-4">
          <h4 class="mb-0"><i class="bi bi-calendar-check me-2"></i>Meus Agendamentos</h4>
        </div>
        <div class="card-body p-4">
          ${0===e.length?'<div class="text-muted">Nenhum agendamento encontrado.</div>':e.map(e=>(function(e){let t=new Date,n=new Date(e.dataHora),r="",i="border-success",s='<i class="bi bi-calendar-check me-1 text-success"></i>',a=!1;e.status&&e.status.toLowerCase().includes("cancel")?(r='<span class="badge bg-danger"><i class="bi bi-x-circle me-1"></i>Cancelado</span>',i="border-danger",s='<i class="bi bi-x-circle me-1 text-danger"></i>'):n<t&&e.status&&e.status.toLowerCase().includes("finaliz")||n<t?(r='<span class="badge bg-secondary"><i class="bi bi-flag me-1"></i>Finalizado</span>',i="border-secondary",s='<i class="bi bi-flag me-1 text-secondary"></i>'):(r='<span class="badge bg-success"><i class="bi bi-calendar-check me-1"></i>Agendado</span>',i="border-success",s='<i class="bi bi-calendar-check me-1 text-success"></i>',a=!0);let o="";o="reagendada"===e.statusAula?'<span class="badge bg-warning text-dark"><i class="bi bi-arrow-clockwise me-1"></i>Reagendada</span>':"cancelada"===e.statusAula?'<span class="badge bg-danger"><i class="bi bi-x-circle me-1"></i>Aula Cancelada</span>':"lotada"===e.statusAula?'<span class="badge bg-info"><i class="bi bi-people me-1"></i>Lotada</span>':'<span class="badge bg-success"><i class="bi bi-check-circle me-1"></i>Disponível</span>';let l=a?`<button class="btn btn-outline-danger btn-sm float-end" onclick="cancelarReservaAluno('${e.id}', '${e.nome}', '${e.telefone}', '${e.email||""}')"><i class='bi bi-x-circle'></i> Cancelar</button>`:"";return`
    <div class="card mb-3 shadow-sm agendamento-card ${i}" style="border-left: 6px solid; background: #f8f9fa; transition: box-shadow 0.2s;">
      <div class="card-body">
        <div class="d-flex align-items-start justify-content-between mb-3">
          <div class="flex-shrink-0 display-5" style="font-size:2rem;">${s}</div>
          <div class="flex-grow-1 ms-3">
            <h6 class="card-title mb-2 fw-bold text-primary">${e.titulo}</h6>
            <div class="row">
              <div class="col-md-6">
                <div class="mb-2"><i class="bi bi-person-badge me-2 text-secondary"></i><b>Professor:</b> ${e.professorNome||"N/A"}</div>
                <div class="mb-2"><i class="bi bi-envelope me-2 text-secondary"></i><b>Email:</b> ${e.professorEmail||"N/A"}</div>
                <div class="mb-2"><i class="bi bi-telephone me-2 text-secondary"></i><b>Telefone:</b> ${e.professorTelefone||"N/A"}</div>
              </div>
              <div class="col-md-6">
                <div class="mb-2"><i class="bi bi-calendar-event me-2 text-secondary"></i><b>Data/Hora:</b> ${n.toLocaleString()}</div>
                <div class="mb-2"><i class="bi bi-info-circle me-2 text-secondary"></i><b>Status da Reserva:</b> ${r}</div>
                <div class="mb-2"><i class="bi bi-calendar-check me-2 text-secondary"></i><b>Status da Aula:</b> ${o}</div>
              </div>
            </div>
          </div>
          <div class="flex-shrink-0 ms-2">
            ${l}
          </div>
        </div>
      </div>
    </div>
    <style>
      .agendamento-card:hover { box-shadow: 0 0 0 4px #e3e6ea; }
      @media (max-width: 768px) {
        .agendamento-card .card-body .d-flex { flex-direction: column; align-items: flex-start; }
        .agendamento-card .flex-shrink-0 { margin-bottom: 0.5rem; }
        .agendamento-card .row .col-md-6 { margin-bottom: 1rem; }
      }
    </style>
  `})(e)).join("")}
        </div>
      </div>
    </div>
  `,setTimeout(()=>{t.scrollIntoView({behavior:"smooth",block:"center"})},200)}function ow(e){let t=document.getElementById("btnAbrirConsultaAgendamento");t&&(t.onclick=()=>(function(e){let t=document.getElementById("modalConsultaAgendamentoContainer");t||((t=document.createElement("div")).id="modalConsultaAgendamentoContainer",document.body.appendChild(t)),t.innerHTML=`
    <div class="modal fade" id="modalConsultaAgendamento" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Consultar meus agendamentos</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <form id="formConsultaAgendamento">
              <div class="mb-3">
                <input type="text" class="form-control" name="nome" placeholder="Nome" required>
              </div>
              <div class="mb-3">
                <input type="tel" class="form-control" name="telefone" placeholder="Telefone" required>
              </div>
              <div class="mb-3">
                <input type="email" class="form-control" name="email" placeholder="E-mail" required>
              </div>
              <button type="submit" class="btn btn-primary w-100">Buscar Agendamentos</button>
            </form>
            <div id="agendamentosAlunoModal"></div>
          </div>
        </div>
      </div>
    </div>
  `,new window.bootstrap.Modal(document.getElementById("modalConsultaAgendamento")).show();let n=document.getElementById("formConsultaAgendamento");n&&(n.onsubmit=t=>oh(this,void 0,void 0,function*(){t.preventDefault();let r=n.nome.value,i=n.telefone.value,s=n.email.value;try{var a;a=yield ob(e,r,i,s),oE(a)}catch(e){g("Erro ao buscar agendamentos","danger")}}))})(e))}window.cancelarReservaAluno=function(e,t,n,r){return oh(this,void 0,void 0,function*(){if(confirm("Tem certeza que deseja cancelar este agendamento?"))try{if((yield fetch(`http://localhost:3000/api/aulas/${e}/cancelar-reserva`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:t,telefone:n,email:r})})).ok){g("Reserva cancelada com sucesso!","success");let r=document.querySelector(`.agendamento-card button[onclick*="${e}"]`);if(r){let e=r.closest(".agendamento-card");if(e){let t=e.querySelector(".badge");t&&(t.className="badge bg-danger",t.innerHTML="<i class='bi bi-x-circle me-1'></i>Cancelado"),e.classList.remove("border-success","border-secondary"),e.classList.add("border-danger")}}let i="",s="",a="",o=document.getElementById("formConsultaAgendamento");if(o?(i=o.nome.value,s=o.telefone.value,a=o.email.value):document.querySelector(".agendamento-card")&&(i=t,s=n,a=""),i&&s){let e=yield ob(og,i,s,a);oE(e)}}else g("Erro ao cancelar reserva.","danger")}catch(e){g("Erro ao conectar com o servidor.","danger")}})};class oA{static render(e={}){let t=e.professor||{};return`
      <div class="container py-5">
        <div class="row justify-content-center">
          <div class="col-md-7 col-lg-6">
            <div class="card shadow-sm">
              <div class="card-header bg-primary text-white">
                <h3 class="mb-0">
                  <i class="bi bi-calendar-plus"></i> Agendar Aula
                </h3>
              </div>
              <div class="card-body p-4">
                <div class="mb-3 text-center">
                  <h5 class="fw-bold mb-1">${t.nome||"Professor(a)"}</h5>
                  <div class="text-muted">${t.especialidade||""}</div>
                </div>
                ${e.errorMessage?`<div class='alert alert-danger'>${e.errorMessage}</div>`:""}
                ${e.successMessage?`<div class='alert alert-success'>${e.successMessage}</div>`:""}
                <form id="form-agendamento" onsubmit="${e.onSubmit||"handleAgendamentoSubmit"}(event)">
                  <div class="mb-3">
                    <label for="nome" class="form-label">Seu Nome</label>
                    <input type="text" class="form-control" id="nome" name="nome" required>
                  </div>
                  <div class="mb-3">
                    <label for="telefone" class="form-label">Telefone</label>
                    <input type="tel" class="form-control" id="telefone" name="telefone" required placeholder="(11) 99999-9999">
                  </div>
                  <div class="mb-3">
                    <label for="dataHora" class="form-label">Data e Hora</label>
                    <input type="datetime-local" class="form-control" id="dataHora" name="dataHora" required>
                  </div>
                  <button type="submit" class="btn btn-primary w-100">
                    <i class="bi bi-calendar-check"></i> Agendar
                  </button>
                </form>
                <div class="mt-3 text-center">
                  <a href="/professor/${t.id||""}">Voltar ao perfil do professor</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}}var oS=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};class o_{static carregarProfessor(e){return oS(this,void 0,void 0,function*(){try{let t=yield fetch(`${H}/professores/${e}`);if(t.ok)return yield t.json();throw Error("Erro ao carregar dados do professor")}catch(e){throw g("Erro ao carregar dados do professor.","danger"),e}})}static validate(e){var t,n,r;let i=[];return(null==(t=e.nome)?void 0:t.trim())||i.push("Nome é obrigatório"),(null==(n=e.telefone)?void 0:n.trim())||i.push("Telefone é obrigatório"),(null==(r=e.dataHora)?void 0:r.trim())||i.push("Data e hora são obrigatórios"),{isValid:0===i.length,errors:i}}static agendar(e,t){return oS(this,void 0,void 0,function*(){try{let n=yield fetch(`${H}/professores/${e}/agendamentos`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n.ok)return g("Agendamento realizado com sucesso!","success"),{success:!0};{let e=yield n.json();return{success:!1,error:e.error||"Erro desconhecido"}}}catch(e){return{success:!1,error:"Erro ao conectar com o servidor."}}})}}var oC=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};function oD(e,t){return oC(this,void 0,void 0,function*(){e.preventDefault();let n=e.target,r={nome:n.nome.value,telefone:n.telefone.value,dataHora:n.dataHora.value},i=o_.validate(r);if(!i.isValid)return void i.errors.forEach(e=>g(e,"danger"));let s=yield o_.agendar(t,r);s.success?(n.reset(),g("Agendamento realizado com sucesso!","success")):g(s.error||"Erro ao agendar","danger")})}class oT{static render(e={}){let t=e.usuario||{};return`
      <div class="container py-5">
        <div class="row justify-content-center">
          <div class="col-md-8 col-lg-6">
            <div class="card shadow-lg border-0 rounded-4">
              <div class="card-header bg-primary text-white rounded-top-4">
                <h3 class="mb-0">
                  <i class="bi bi-person-gear"></i> Editar Perfil
                </h3>
              </div>
              <div class="card-body p-4">
                ${e.errorMessage?`<div class='alert alert-danger'>${e.errorMessage}</div>`:""}
                <form id="form-editar-perfil" onsubmit="${e.onSubmit||"handleEditarPerfilSubmit"}(event)">
                  <div class="row g-3">
                    <div class="col-md-6 mb-3">
                      <label for="nome" class="form-label">Nome Completo</label>
                      <input type="text" class="form-control" id="nome" name="nome" value="${t.nome||""}" required>
                    </div>
                    <div class="col-md-6 mb-3">
                      <label for="telefone" class="form-label">Telefone</label>
                      <input type="tel" class="form-control" id="telefone" name="telefone" value="${t.telefone||""}" placeholder="(11) 99999-9999">
                    </div>
                  </div>
                  <div class="row g-3">
                    <div class="col-md-6 mb-3">
                      <label for="especialidade" class="form-label">Especialidade</label>
                      <input type="text" class="form-control" id="especialidade" name="especialidade" value="${t.especialidade||""}" placeholder="Ex: Matem\xe1tica, F\xedsica, etc.">
                    </div>
                    <div class="col-md-6 mb-3">
                      <label for="formacao" class="form-label">Forma\xe7\xe3o</label>
                      <input type="text" class="form-control" id="formacao" name="formacao" value="${t.formacao||""}" placeholder="Ex: Licenciatura em Matem\xe1tica, Mestrado, etc.">
                    </div>
                  </div>
                  <div class="row g-3">
                    <div class="col-md-6 mb-3">
                      <label for="experiencia" class="form-label">Experi\xeancia</label>
                      <input type="text" class="form-control" id="experiencia" name="experiencia" value="${t.experiencia||""}" placeholder="Ex: 10 anos de ensino, aulas particulares, etc.">
                    </div>
                    <div class="col-md-6 mb-3">
                      <label for="linkUnico" class="form-label">Link \xdanico</label>
                      <input type="text" class="form-control" id="linkUnico" name="linkUnico" value="${t.linkUnico||""}" placeholder="seu-link-unico">
                    </div>
                  </div>
                  <div class="d-flex gap-2 mt-3">
                    <button type="submit" class="btn btn-primary px-4">
                      <i class="bi bi-check-circle"></i> Salvar Altera\xe7\xf5es
                    </button>
                    <a href="/dashboard" class="btn btn-outline-secondary px-4">
                      <i class="bi bi-arrow-left"></i> Voltar
                    </a>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}}var ox=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};class oR{static carregarPerfil(){return ox(this,void 0,void 0,function*(){try{let e=yield j();if(e.ok)return yield e.json();throw Error("Erro ao carregar perfil")}catch(e){throw g("Erro ao carregar dados do perfil.","danger"),e}})}static validate(e){var t;let n=[];return(null==(t=e.nome)?void 0:t.trim())||n.push("Nome é obrigatório"),e.linkUnico&&!/^[a-zA-Z0-9-_]+$/.test(e.linkUnico)&&n.push("Link único deve conter apenas letras, números, hífens e underscores"),{isValid:0===n.length,errors:n}}static salvarPerfil(e){return ox(this,void 0,void 0,function*(){try{let t=yield U(`${H}/professores/me`,{method:"PUT",body:JSON.stringify(e)});if(t.ok)return g("Perfil atualizado com sucesso!","success"),{success:!0};{let e=yield t.json();return{success:!1,error:e.error||"Erro desconhecido"}}}catch(e){return{success:!1,error:"Erro ao conectar com o servidor."}}})}}var oI=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};function ok(e){return oI(this,void 0,void 0,function*(){e.preventDefault();let t=e.target,n={nome:t.nome.value,email:t.email.value,telefone:t.telefone.value||void 0,especialidade:t.especialidade.value||void 0,formacao:t.formacao.value||void 0,experiencia:t.experiencia.value||void 0,linkUnico:t.linkUnico.value||void 0},r=oR.validate(n);if(!r.isValid)return void r.errors.forEach(e=>g(e,"danger"));let i=yield oR.salvarPerfil(n);i.success?setTimeout(()=>{window.history.pushState({},"","/dashboard"),window.dispatchEvent(new PopStateEvent("popstate"))},1500):g(i.error||"Erro ao salvar perfil","danger")})}class oM{static render(){return`
      <div class="container py-5">
        <div class="row align-items-center justify-content-center">
          <div class="col-lg-6 text-center text-lg-start mb-4 mb-lg-0">
            <h1 class="display-4 fw-bold mb-3">Bem-vindo ao <span class="text-primary">EduClick</span></h1>
            <p class="lead mb-4">Plataforma moderna para agendamento de aulas, gest\xe3o de professores e alunos. Simples, r\xe1pida e eficiente para sua rotina educacional.</p>
            <div class="d-flex flex-column flex-md-row gap-3 justify-content-center justify-content-lg-start">
              <a href="/login" class="btn btn-primary btn-lg px-4">Entrar</a>
              <a href="/cadastro" class="btn btn-outline-primary btn-lg px-4">Criar Conta</a>
            </div>
          </div>
          <div class="col-lg-6 text-center">
            <img src="https://cdn.pixabay.com/photo/2017/01/31/13/14/online-2025987_1280.png" alt="Educa\xe7\xe3o Online" class="img-fluid rounded shadow" style="max-height: 340px;">
          </div>
        </div>
        <div class="row mt-5">
          <div class="col-12 text-center">
            <h2 class="h4 fw-bold mb-3">Funcionalidades</h2>
          </div>
          <div class="col-md-4 mb-4">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-body text-center">
                <i class="bi bi-calendar3 display-5 text-primary mb-3"></i>
                <h5 class="card-title">Agendamento Online</h5>
                <p class="card-text">Permita que alunos reservem aulas facilmente com poucos cliques, visualizando hor\xe1rios dispon\xedveis em tempo real.</p>
              </div>
            </div>
          </div>
          <div class="col-md-4 mb-4">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-body text-center">
                <i class="bi bi-person-badge display-5 text-primary mb-3"></i>
                <h5 class="card-title">Gest\xe3o de Professores</h5>
                <p class="card-text">Professores podem personalizar seus perfis, gerenciar aulas, hor\xe1rios e acompanhar reservas de forma intuitiva.</p>
              </div>
            </div>
          </div>
          <div class="col-md-4 mb-4">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-body text-center">
                <i class="bi bi-people display-5 text-primary mb-3"></i>
                <h5 class="card-title">Experi\xeancia do Aluno</h5>
                <p class="card-text">Alunos t\xeam acesso f\xe1cil ao hist\xf3rico de agendamentos, notifica\xe7\xf5es e comunica\xe7\xe3o direta com professores.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}}class oO{constructor(e){this.firebaseUser=e}get id(){return this.firebaseUser.uid}get nome(){return this.firebaseUser.displayName||"Usuário"}get email(){return this.firebaseUser.email}getIdToken(){var e,t,n,r;return e=this,t=void 0,r=function*(){return yield this.firebaseUser.getIdToken()},new(n=void 0,n=Promise)(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})}getValor(){return this.email}autenticar(e){return!0}}const oN=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},oP=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){let s=e[n++],a=((7&i)<<18|(63&s)<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{let s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")},oL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,c=i>>2,d=(3&i)<<4|a>>4,u=(15&a)<<2|l>>6,h=63&l;!o&&(h=64,s||(u=64)),r.push(n[c],n[d],n[u],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(oN(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):oP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0,a=++t<e.length?n[e.charAt(t)]:64,o=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==a||null==o)throw new oH;let l=i<<2|s>>4;if(r.push(l),64!==a){let e=s<<4&240|a>>2;if(r.push(e),64!==o){let e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class oH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oU=function(e){let t=oN(e);return oL.encodeByteArray(t,!0)},oj=function(e){return oU(e).replace(/\./g,"")},oB=function(e){try{return oL.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},oz=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==f)return f;throw Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&oB(e[1]);return t&&JSON.parse(t)})()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},oF=()=>oz()?.config,o$=e=>oz()?.[`_${e}`];class oV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function oW(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oG(e){return(await fetch(e,{credentials:"include"})).ok}const oq={};let oQ=!1;function oY(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class oZ extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,oZ.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oJ.prototype.create)}}class oJ{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var n,r;let i=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?(n=a,r=i,n.replace(oX,(e,t)=>{let n=r[t];return null!=n?String(n):`<${t}?>`})):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new oZ(s,l,i)}}const oX=/\{\$([^}]+)}/g;function oK(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],s=t[i];if(o0(n)&&o0(s)){if(!oK(n,s))return!1}else if(n!==s)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function o0(e){return null!==e&&"object"==typeof e}function o1(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function o3(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function o2(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class o4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=o6),void 0===r.error&&(r.error=o6),void 0===r.complete&&(r.complete=o6);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o6(){}function o5(e){return e&&e._delegate?e._delegate:e}class o8{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o7="[DEFAULT]";class o9{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new oV;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}if(n)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:o7})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=o7){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=o7){return this.instances.has(e)}getOptions(e=o7){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){var n;let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e)===o7?void 0:n,options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=o7){return this.component?this.component.multipleInstances?e:o7:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new o9(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const lt=[];(c=h||(h={}))[c.DEBUG=0]="DEBUG",c[c.VERBOSE=1]="VERBOSE",c[c.INFO=2]="INFO",c[c.WARN=3]="WARN",c[c.ERROR=4]="ERROR",c[c.SILENT=5]="SILENT";const ln={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},lr=h.INFO,li={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},ls=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=li[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class la{constructor(e){this.name=e,this._logLevel=lr,this._logHandler=ls,this._userLogHandler=null,lt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in h))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ln[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...e),this._logHandler(this,h.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...e),this._logHandler(this,h.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,h.INFO,...e),this._logHandler(this,h.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,h.WARN,...e),this._logHandler(this,h.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...e),this._logHandler(this,h.ERROR,...e)}}const lo=new WeakMap,ll=new WeakMap,lc=new WeakMap,ld=new WeakMap,lu=new WeakMap;let lh={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ll.get(e);if("objectStoreNames"===t)return e.objectStoreNames||lc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lf(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function lf(e){if(e instanceof IDBRequest){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(lf(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&lo.set(t,e)}).catch(()=>{}),lu.set(t,e),t}if(ld.has(e))return ld.get(e);let t=function(e){if("function"==typeof e)return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(lp(this),t),lf(lo.get(this))}:function(...t){return lf(e.apply(lp(this),t))}:function(t,...n){let r=e.call(lp(this),t,...n);return lc.set(r,t.sort?t.sort():[t]),lf(r)};return e instanceof IDBTransaction&&function(e){if(ll.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});ll.set(e,t)}(e),(s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(e,lh):e}(e);return t!==e&&(ld.set(e,t),lu.set(t,e)),t}const lp=e=>lu.get(e),lg=["get","getKey","getAll","getAllKeys","count"],lm=["put","add","delete","clear"],lv=new Map;function lb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(lv.get(t))return lv.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=lm.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lg.includes(n)))return;let s=async function(e,...t){let s=this.transaction(e,i?"readwrite":"readonly"),a=s.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&s.done]))[0]};return lv.set(t,s),s}lh={...o=lh,get:(e,t,n)=>lb(e,t)||o.get(e,t,n),has:(e,t)=>!!lb(e,t)||o.has(e,t)};class ly{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return t?.type==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}const lE="@firebase/app",lw="0.14.0",lA=new la("@firebase/app"),lS="[DEFAULT]",l_={[lE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},lC=new Map,lD=new Map,lT=new Map;function lx(e,t){try{e.container.addComponent(t)}catch(n){lA.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function lR(e){let t=e.name;if(lT.has(t))return lA.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(lT.set(t,e),lC.values()))lx(n,e);for(let t of lD.values())lx(t,e);return!0}function lI(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function lk(e){return null!=e&&void 0!==e.settings}const lM=new oJ("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class lO{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new o8("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lM.create("app-deleted",{appName:this._name})}}const lN="12.0.0";function lP(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let r={name:lS,automaticDataCollectionEnabled:!0,...t},i=r.name;if("string"!=typeof i||!i)throw lM.create("bad-app-name",{appName:String(i)});if(n||(n=oF()),!n)throw lM.create("no-options");let s=lC.get(i);if(s)if(oK(n,s.options)&&oK(r,s.config))return s;else throw lM.create("duplicate-app",{appName:i});let a=new le(i);for(let e of lT.values())a.addComponent(e);let o=new lO(n,r,a);return lC.set(i,o),o}function lL(e,t,n){let r=l_[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),lA.warn(e.join(" "));return}lR(new o8(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const lH="firebase-heartbeat-store";let lU=null;function lj(){return lU||(lU=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let a=indexedDB.open(e,1),o=lf(a);return r&&a.addEventListener("upgradeneeded",e=>{r(lf(a.result),e.oldVersion,e.newVersion,lf(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(lH)}catch(e){console.warn(e)}}}).catch(e=>{throw lM.create("idb-open",{originalErrorMessage:e.message})})),lU}async function lB(e){try{let t=(await lj()).transaction(lH),n=await t.objectStore(lH).get(lF(e));return await t.done,n}catch(e){if(e instanceof oZ)lA.warn(e.message);else{let t=lM.create("idb-get",{originalErrorMessage:e?.message});lA.warn(t.message)}}}async function lz(e,t){try{let n=(await lj()).transaction(lH,"readwrite"),r=n.objectStore(lH);await r.put(t,lF(e)),await n.done}catch(e){if(e instanceof oZ)lA.warn(e.message);else{let t=lM.create("idb-set",{originalErrorMessage:e?.message});lA.warn(t.message)}}}function lF(e){return`${e.name}!${e.options.appId}`}class l${constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new lW(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=lV();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){let e=function(e){if(0===e.length)return -1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){lA.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||0===this._heartbeatsCache.heartbeats.length)return"";let e=lV(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),lG(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lG(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=oj(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return lA.warn(e),""}}}function lV(){return new Date().toISOString().substring(0,10)}class lW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await lB(this.app);return e?.heartbeats?e:{heartbeats:[]}}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return lz(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return lz(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function lG(e){return oj(JSON.stringify({version:2,heartbeats:e})).length}function lq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}lR(new o8("platform-logger",e=>new ly(e),"PRIVATE")),lR(new o8("heartbeat",e=>new l$(e),"PRIVATE")),lL(lE,lw,""),lL(lE,lw,"esm2020"),lL("fire-js",""),lL("firebase","12.0.0","app");const lQ=new oJ("auth","Firebase",lq()),lY=new la("@firebase/auth");function lZ(e,...t){lY.logLevel<=h.ERROR&&lY.error(`Auth (${lN}): ${e}`,...t)}function lJ(e,...t){throw l1(e,...t)}function lX(e,...t){return l1(e,...t)}function lK(e,t,n){return new oJ("auth","Firebase",{...lq(),[t]:n}).create(t,{appName:e.name})}function l0(e){return lK(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l1(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return lQ.create(e,...t)}function l3(e,t,...n){if(!e)throw l1(t,...n)}function l2(e){let t="INTERNAL ASSERTION FAILED: "+e;throw lZ(t),Error(t)}function l4(){return"undefined"!=typeof self&&self.location?.href||""}function l6(){return"http:"===l5()||"https:"===l5()}function l5(){return"undefined"!=typeof self&&self.location?.protocol||null}class l8{constructor(e,t){var n;this.shortDelay=e,this.longDelay=t,n="Short delay should be less than long delay!",t>e||l2(n),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oY())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(l6()||function(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function l7(e,t){var n,r;n=e.emulator,r="Emulator should always be set here",n||l2(r);let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class l9{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void l2("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void l2("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void l2("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ct=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cn=new l8(3e4,6e4);function cr(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function ci(e,t,n,r,i={}){return cs(e,i,async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});let a=o1({key:e.config.apiKey,...s}).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);let l={method:t,headers:o,...i};return("undefined"==typeof navigator||"Cloudflare-Workers"!==navigator.userAgent)&&(l.referrerPolicy="no-referrer"),e.emulatorConfig&&oW(e.emulatorConfig.host)&&(l.credentials="include"),l9.fetch()(await co(e,e.config.apiHost,n,a),l)})}async function cs(e,t,n){e._canInitEmulator=!1;let r={...ce,...t};try{let t=new cl(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let s=await i.json();if("needConfirmation"in s)throw cc(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{let[t,n]=(i.ok?s.errorMessage:s.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw cc(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw cc(e,"email-already-in-use",s);if("USER_DISABLED"===t)throw cc(e,"user-disabled",s);let a=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw lK(e,a,n);lJ(e,a)}}catch(t){if(t instanceof oZ)throw t;lJ(e,"network-request-failed",{message:String(t)})}}async function ca(e,t,n,r,i={}){let s=await ci(e,t,n,r,i);return"mfaPendingCredential"in s&&lJ(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function co(e,t,n,r){let i=`${t}${n}?${r}`,s=e.config.emulator?l7(e.config,i):`${e.config.apiScheme}://${i}`;return ct.includes(n)&&(await e._persistenceManagerAvailable,"COOKIE"===e._getPersistenceType())?e._getPersistence()._getFinalTarget(s).toString():s}class cl{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(lX(this.auth,"network-request-failed")),cn.get())})}}function cc(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=lX(e,t,r);return i.customData._tokenResponse=n,i}function cd(e){return void 0!==e&&void 0!==e.enterprise}class cu{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)switch(t.enforcementState){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ch(e,t){return ci(e,"GET","/v2/recaptchaConfig",cr(e,t))}async function cf(e,t){return ci(e,"POST","/v1/accounts:delete",t)}async function cp(e,t){return ci(e,"POST","/v1/accounts:lookup",t)}function cg(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function cm(e,t=!1){let n=o5(e),r=await n.getIdToken(t),i=cb(r);l3(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s="object"==typeof i.firebase?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:cg(cv(i.auth_time)),issuedAtTime:cg(cv(i.iat)),expirationTime:cg(cv(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function cv(e){return 1e3*Number(e)}function cb(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return lZ("JWT malformed, contained fewer than 3 sections"),null;try{let e=oB(n);if(!e)return lZ("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return lZ("Caught error parsing JWT payload as JSON",e?.toString()),null}}function cy(e){let t=cb(e);return l3(t,"internal-error"),l3(void 0!==t.exp,"internal-error"),l3(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function cE(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof oZ&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class cw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(!e)return this.errorBackoff=3e4,Math.max(0,(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cA{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cg(this.lastLoginAt),this.creationTime=cg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cS(e){var t,n;let r=e.auth,i=await e.getIdToken(),s=await cE(e,cp(r,{idToken:i}));l3(s?.users.length,r,"internal-error");let a=s.users[0];e._notifyReloadListener(a);let o=a.providerUserInfo?.length?cC(a.providerUserInfo):[],l=(t=e.providerData,n=o,[...t.filter(e=>!n.some(t=>t.providerId===e.providerId)),...n]),c=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!l?.length;Object.assign(e,{uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new cA(a.createdAt,a.lastLoginAt),isAnonymous:!!c&&d})}async function c_(e){let t=o5(e);await cS(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cC(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function cD(e,t){let n=await cs(e,{},async()=>{let n=o1({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await co(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let o={method:"POST",headers:a,body:n};return e.emulatorConfig&&oW(e.emulatorConfig.host)&&(o.credentials="include"),l9.fetch()(s,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cT(e,t){return ci(e,"POST","/v2/accounts:revokeToken",cr(e,t))}class cx{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){l3(e.idToken,"internal-error"),l3(void 0!==e.idToken,"internal-error"),l3(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):cy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){l3(0!==e.length,"internal-error");let t=cy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(l3(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await cD(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new cx;return n&&(l3("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(l3("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(l3("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cx,this.toJSON())}_performRefresh(){return l2("not implemented")}}function cR(e,t){l3("string"==typeof e||void 0===e,"internal-error",{appName:t})}class cI{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId="firebase",this.proactiveRefresh=new cw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new cA(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await cE(this,this.stsTokenManager.getToken(this.auth,e));return l3(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return cm(this,e)}reload(){return c_(this)}_assign(e){this!==e&&(l3(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new cI({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){l3(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await cS(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lk(this.auth.app))return Promise.reject(l0(this.auth));let e=await this.getIdToken();return await cE(this,cf(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let n=t.displayName??void 0,r=t.email??void 0,i=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,o=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:d,emailVerified:u,isAnonymous:h,providerData:f,stsTokenManager:p}=t;l3(d&&p,e,"internal-error");let g=cx.fromJSON(this.name,p);l3("string"==typeof d,e,"internal-error"),cR(n,e.name),cR(r,e.name),l3("boolean"==typeof u,e,"internal-error"),l3("boolean"==typeof h,e,"internal-error"),cR(i,e.name),cR(s,e.name),cR(a,e.name),cR(o,e.name),cR(l,e.name),cR(c,e.name);let m=new cI({uid:d,auth:e,email:r,emailVerified:u,displayName:n,isAnonymous:h,photoURL:s,phoneNumber:i,tenantId:a,stsTokenManager:g,createdAt:l,lastLoginAt:c});return f&&Array.isArray(f)&&(m.providerData=f.map(e=>({...e}))),o&&(m._redirectEventId=o),m}static async _fromIdTokenResponse(e,t,n=!1){let r=new cx;r.updateFromServerResponse(t);let i=new cI({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await cS(i),i}static async _fromGetAccountInfoResponse(e,t,n){let r=t.users[0];l3(void 0!==r.localId,"internal-error");let i=void 0!==r.providerUserInfo?cC(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!i?.length,a=new cx;a.updateFromIdToken(n);let o=new cI({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s});return Object.assign(o,{uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new cA(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!i?.length}),o}}const ck=new Map;function cM(e){var t,n;t="Expected a class definition",e instanceof Function||l2(t);let r=ck.get(e);return r?(n="Instance stored in cache mismatched with class",r instanceof e||l2(n)):(r=new e,ck.set(e,r)),r}class cO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}function cN(e,t,n){return`firebase:${e}:${t}:${n}`}cO.type="NONE";class cP{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=cN(this.userKey,r.apiKey,i),this.fullPersistenceKey=cN("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){let t=await cp(this.auth,{idToken:e}).catch(()=>void 0);return t?cI._fromGetAccountInfoResponse(this.auth,t,e):null}return cI._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new cP(cM(cO),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||cM(cO),s=cN(n,e.config.apiKey,e.name),a=null;for(let n of t)try{let t=await n._get(s);if(t){let r;if("string"==typeof t){let n=await cp(e,{idToken:t}).catch(()=>void 0);if(!n)break;r=await cI._fromGetAccountInfoResponse(e,n,t)}else r=cI._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch{}let o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length&&(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch{}}))),new cP(i,e,n)}}function cL(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(cB(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cH(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cF(t))return"Blackberry";if(c$(t))return"Webos";if(cU(t))return"Safari";if((t.includes("chrome/")||cj(t))&&!t.includes("edge/"))return"Chrome";if(cz(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(n?.length===2)return n[1]}return"Other"}function cH(e=oY()){return/firefox\//i.test(e)}function cU(e=oY()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function cj(e=oY()){return/crios\//i.test(e)}function cB(e=oY()){return/iemobile/i.test(e)}function cz(e=oY()){return/android/i.test(e)}function cF(e=oY()){return/blackberry/i.test(e)}function c$(e=oY()){return/webos/i.test(e)}function cV(e=oY()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function cW(e=oY()){return cV(e)||cz(e)||c$(e)||cF(e)||/windows phone/i.test(e)||cB(e)}function cG(e,t=[]){let n;switch(e){case"Browser":n=cL(oY());break;case"Worker":n=`${cL(oY())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${lN}/${r}`}class cq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e?.message})}}}async function cQ(e,t={}){return ci(e,"GET","/v2/passwordPolicy",cr(e,t))}class cY{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class cZ{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cJ(this),this.idTokenSubscription=new cJ(this),this.beforeStateQueue=new cq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lQ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cM(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted){if(this.persistenceManager=await cP.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await cp(this,{idToken:e}),n=await cI._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(lk(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,s=await this.tryRedirectSignIn(e);(!t||t===i)&&s?.user&&(n=s.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return(l3(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId)?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cS(e)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lk(this.app))return Promise.reject(l0(this));let t=e?o5(e):null;return t&&l3(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&l3(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lk(this.app)?Promise.reject(l0(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lk(this.app)?Promise.reject(l0(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cM(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new cY(await cQ(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oJ("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await cT(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&cM(e)||this._popupRedirectResolver;l3(t,this,"argument-error"),this.redirectPersistenceManager=await cP.create(this,[cM(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return(this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e)?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(l3(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{let n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return l3(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(lk(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&function(e,...t){lY.logLevel<=h.WARN&&lY.warn(`Auth (${lN}): ${e}`,...t)}(`Error while retrieving App Check token: ${e.error}`),e?.token}}class cJ{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){let n=new o4(e,void 0);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return l3(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cX={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cK(e){return`__${e}${Math.floor(1e6*Math.random())}`}class c0{constructor(){this.enterprise=new c1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class c1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const c3="NO_RECAPTCHA";class c2{constructor(e){this.type="recaptcha-enterprise",this.auth=o5(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ch(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new cu(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;cd(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(c3)})}):r(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new c0().execute("siteKey",{action:"verify"}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&cd(window.grecaptcha))r(n,e,i);else{var s;if("undefined"==typeof window)return void i(Error("RecaptchaVerifier is only supported in browser"));let t=cX.recaptchaEnterpriseScript;0!==t.length&&(t+=n),(s=t,cX.loadJS(s)).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function c4(e,t,n,r=!1,i=!1){let s,a=new c2(e);if(i)s=c3;else try{s=await a.verify(n)}catch(e){s=await a.verify(n,!0)}let o={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){let e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){let e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function c6(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i)if(!e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await c4(e,t,n,"getOobCode"===n);return r(e,i)}});else{let i=await c4(e,t,n,"getOobCode"===n);return r(e,i)}if("PHONE_PROVIDER"!==i)return Promise.reject(i+" provider is not supported.");if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let i=await c4(e,t,n);return r(e,i).catch(async i=>{if(e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let i=await c4(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{let i=await c4(e,t,n,!1,!0);return r(e,i)}}async function c5(e){let t=o5(e),n=new cu(await ch(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}));null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new c2(t).verify()}function c8(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function c7(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class c9{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return l2("not implemented")}_getIdTokenResponse(e){return l2("not implemented")}_linkToIdToken(e,t){return l2("not implemented")}_getReauthenticationResolver(e){return l2("not implemented")}}async function de(e,t){return ci(e,"POST","/v1/accounts:signUp",t)}async function dt(e,t){return ca(e,"POST","/v1/accounts:signInWithPassword",cr(e,t))}async function dn(e,t){return ca(e,"POST","/v1/accounts:signInWithEmailLink",cr(e,t))}async function dr(e,t){return ca(e,"POST","/v1/accounts:signInWithEmailLink",cr(e,t))}class di extends c9{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new di(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new di(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);else if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return c6(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",dt,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return dn(e,{email:this._email,oobCode:this._password});default:lJ(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return c6(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",de,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return dr(e,{idToken:t,email:this._email,oobCode:this._password});default:lJ(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ds(e,t){return ca(e,"POST","/v1/accounts:signInWithIdp",cr(e,t))}class da extends c9{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lJ("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let{providerId:t,signInMethod:n,...r}="string"==typeof e?JSON.parse(e):e;if(!t||!n)return null;let i=new da(t,n);return i.idToken=r.idToken||void 0,i.accessToken=r.accessToken||void 0,i.secret=r.secret,i.nonce=r.nonce,i.pendingToken=r.pendingToken||null,i}_getIdTokenResponse(e){return ds(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,ds(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,ds(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=o1(t)}return e}}async function dl(e,t){return ci(e,"POST","/v1/accounts:sendVerificationCode",cr(e,t))}async function dc(e,t){return ca(e,"POST","/v1/accounts:signInWithPhoneNumber",cr(e,t))}async function dd(e,t){let n=await ca(e,"POST","/v1/accounts:signInWithPhoneNumber",cr(e,t));if(n.temporaryProof)throw cc(e,"account-exists-with-different-credential",n);return n}const du={USER_NOT_FOUND:"user-not-found"};async function dh(e,t){return ca(e,"POST","/v1/accounts:signInWithPhoneNumber",cr(e,{...t,operation:"REAUTH"}),du)}class df extends c9{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new df({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new df({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return dc(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return dd(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return dh(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new df({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class dp{constructor(e){let t=o3(o2(e)),n=t.apiKey??null,r=t.oobCode??null,i=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);l3(n&&r&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){let t=function(e){let t=o3(o2(e)).link,n=t?o3(o2(t)).deep_link_id:null,r=o3(o2(e)).deep_link_id;return(r?o3(o2(r)).link:null)||r||n||t||e}(e);try{return new dp(t)}catch{return null}}}class dg{constructor(){this.providerId=dg.PROVIDER_ID}static credential(e,t){return di._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=dp.parseLink(t);return l3(n,"argument-error"),di._fromEmailAndCode(e,n.code,n.tenantId)}}dg.PROVIDER_ID="password",dg.EMAIL_PASSWORD_SIGN_IN_METHOD="password",dg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class dm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class dv extends dm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class db extends dv{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:db.PROVIDER_ID,signInMethod:db.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return db.credentialFromTaggedObject(e)}static credentialFromError(e){return db.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return db.credential(e.oauthAccessToken)}catch{return null}}}db.FACEBOOK_SIGN_IN_METHOD="facebook.com",db.PROVIDER_ID="facebook.com";class dy extends dv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return da._fromParams({providerId:dy.PROVIDER_ID,signInMethod:dy.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return dy.credentialFromTaggedObject(e)}static credentialFromError(e){return dy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return dy.credential(t,n)}catch{return null}}}dy.GOOGLE_SIGN_IN_METHOD="google.com",dy.PROVIDER_ID="google.com";class dE extends dv{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:dE.PROVIDER_ID,signInMethod:dE.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dE.credentialFromTaggedObject(e)}static credentialFromError(e){return dE.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dE.credential(e.oauthAccessToken)}catch{return null}}}dE.GITHUB_SIGN_IN_METHOD="github.com",dE.PROVIDER_ID="github.com";class dw extends dv{constructor(){super("twitter.com")}static credential(e,t){return da._fromParams({providerId:dw.PROVIDER_ID,signInMethod:dw.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return dw.credentialFromTaggedObject(e)}static credentialFromError(e){return dw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return dw.credential(t,n)}catch{return null}}}async function dA(e,t){return ca(e,"POST","/v1/accounts:signUp",cr(e,t))}dw.TWITTER_SIGN_IN_METHOD="twitter.com",dw.PROVIDER_ID="twitter.com";class dS{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){return new dS({user:await cI._fromIdTokenResponse(e,n,r),providerId:d_(n),_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){return await e._updateTokensIfNecessary(n,!0),new dS({user:e,providerId:d_(n),_tokenResponse:n,operationType:t})}}function d_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class dC extends oZ{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,dC.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new dC(e,t,n,r)}}function dD(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw dC._fromErrorAndOperation(e,n,t,r);throw n})}async function dT(e,t,n=!1){let r=await cE(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return dS._forOperation(e,"link",r)}async function dx(e,t,n=!1){let{auth:r}=e;if(lk(r.app))return Promise.reject(l0(r));let i="reauthenticate";try{let s=await cE(e,dD(r,i,t,e),n);l3(s.idToken,r,"internal-error");let a=cb(s.idToken);l3(a,r,"internal-error");let{sub:o}=a;return l3(e.uid===o,r,"user-mismatch"),dS._forOperation(e,i,s)}catch(e){throw e?.code==="auth/user-not-found"&&lJ(r,"user-mismatch"),e}}async function dR(e,t,n=!1){if(lk(e.app))return Promise.reject(l0(e));let r="signIn",i=await dD(e,r,t),s=await dS._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function dI(e,t){return dR(o5(e),t)}async function dk(e){let t=o5(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function dM(e,t,n){if(lk(e.app))return Promise.reject(l0(e));let r=o5(e),i=c6(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dA,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&dk(e),t}),a=await dS._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}async function dO(e,t){return ci(e,"POST","/v1/accounts:createAuthUri",cr(e,t))}async function dN(e,t){let n=l6()?l4():"http://localhost",{signinMethods:r}=await dO(o5(e),{identifier:t,continueUri:n});return r||[]}async function dP(e,t){return ci(e,"POST","/v1/accounts:update",t)}async function dL(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;let r=o5(e),i=await r.getIdToken(),s=await cE(r,dP(r.auth,{idToken:i,displayName:t,photoUrl:n,returnSecureToken:!0}));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;let a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function dH(e,t){return ci(e,"POST","/v2/accounts/mfaEnrollment:start",cr(e,t))}new WeakMap;const dU="__sak";class dj{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(dU,"1"),this.storage.removeItem(dU),Promise.resolve(!0)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class dB extends dj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cW(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(function(){let e=oY();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0})()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dB.type="LOCAL";class dz extends dj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dz.type="SESSION";class dF{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new dF(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!i?.size)return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let s=Array.from(i).map(async t=>t(e.origin,r)),a=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function d$(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}dF.receivers=[];class dV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i,s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((a,o)=>{let l=d$("",20);s.port1.start();let c=setTimeout(()=>{o(Error("unsupported_event"))},n);i={messageChannel:s,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),r=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(e.data.response);break;default:clearTimeout(c),clearTimeout(r),o(Error("invalid_response"))}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function dW(){return window}function dG(){return void 0!==dW().WorkerGlobalScope&&"function"==typeof dW().importScripts}async function dq(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}const dQ="firebaseLocalStorageDb",dY="firebaseLocalStorage",dZ="fbase_key";class dJ{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dX(e,t){return e.transaction([dY],t?"readwrite":"readonly").objectStore(dY)}function dK(){let e=indexedDB.open(dQ,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(dY,{keyPath:dZ})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(dY)?t(n):(n.close(),await new dJ(indexedDB.deleteDatabase(dQ)).toPromise(),t(await dK()))})})}async function d0(e,t,n){return new dJ(dX(e,!0).put({[dZ]:t,value:n})).toPromise()}async function d1(e,t){let n=dX(e,!1).get(t),r=await new dJ(n).toPromise();return void 0===r?null:r.value}function d3(e,t){return new dJ(dX(e,!0).delete(t)).toPromise()}class d2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await dK()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dG()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dF._getInstance(dG()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dq(),!this.activeServiceWorker)return;this.sender=new dV(this.activeServiceWorker);let e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await dK();return await d0(e,dU,"1"),await d3(e,dU),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>d0(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>d1(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>d3(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new dJ(dX(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;if(0!==e.length)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}function d4(e,t){return ci(e,"POST","/v2/accounts/mfaSignIn:start",cr(e,t))}d2.type="LOCAL",cK("rcb"),new l8(3e4,6e4);const d6="recaptcha";async function d5(e,t,n){if(!e._getRecaptchaConfig())try{await c5(e)}catch(e){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"==typeof t?{phoneNumber:t}:t,"session"in r){let t=r.session;if("phoneNumber"in r){l3("enroll"===t.type,e,"internal-error");let i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===c3){l3(n?.type===d6,e,"argument-error");let r=await d8(e,t,n);return dH(e,r)}return dH(e,t)},a=c6(e,i,"mfaSmsEnrollment",s,"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{l3("signin"===t.type,e,"internal-error");let i=r.multiFactorHint?.uid||r.multiFactorUid;l3(i,e,"missing-multi-factor-info");let s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===c3){l3(n?.type===d6,e,"argument-error");let r=await d8(e,t,n);return d4(e,r)}return d4(e,t)},o=c6(e,s,"mfaSmsSignIn",a,"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{let t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},i=async(e,t)=>{if(t.captchaResponse===c3){l3(n?.type===d6,e,"argument-error");let r=await d8(e,t,n);return dl(e,r)}return dl(e,t)},s=c6(e,t,"sendVerificationCode",i,"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).sessionInfo}}finally{n?._reset()}}async function d8(e,t,n){l3(n.type===d6,e,"argument-error");let r=await n.verify();l3("string"==typeof r,e,"argument-error");let i={...t};if("phoneEnrollmentInfo"in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if(!("phoneSignInInfo"in i))return Object.assign(i,{recaptchaToken:r}),i;{let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}}class d7{constructor(e){this.providerId=d7.PROVIDER_ID,this.auth=o5(e)}verifyPhoneNumber(e,t){return d5(this.auth,e,o5(t))}static credential(e,t){return df._fromVerification(e,t)}static credentialFromResult(e){return d7.credentialFromTaggedObject(e)}static credentialFromError(e){return d7.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?df._fromTokenResponse(t,n):null}}d7.PROVIDER_ID="phone",d7.PHONE_SIGN_IN_METHOD="phone";class d9 extends c9{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ds(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ds(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ds(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ue(e){return dR(e.auth,new d9(e),e.bypassAuthState)}function ut(e){let{auth:t,user:n}=e;return l3(n,t,"internal-error"),dx(n,new d9(e),e.bypassAuthState)}async function un(e){let{auth:t,user:n}=e;return l3(n,t,"internal-error"),dT(n,new d9(e),e.bypassAuthState)}class ur{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);let o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ue;case"linkViaPopup":case"linkViaRedirect":return un;case"reauthViaPopup":case"reauthViaRedirect":return ut;default:lJ(this.auth,"internal-error")}}resolve(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||l2(n),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||l2(n),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ui=new l8(2e3,1e4);class us extends ur{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,us.currentPopupAction&&us.currentPopupAction.cancel(),us.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return l3(e,this.auth,"internal-error"),e}async onExecution(){var e,t;e=1===this.filter.length,t="Popup operations only handle one event",e||l2(t);let n=d$();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(lX(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(lX(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,us.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lX(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ui.get())};e()}}us.currentPopupAction=null;const ua=new Map;class uo extends ur{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=ua.get(this.auth._key());if(!e){try{let t=await ul(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}ua.set(this.auth._key(),e)}return this.bypassAuthState||ua.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type)return void this.resolve(null);if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ul(e,t){var n;let r=cN("pendingRedirect",(n=t).config.apiKey,n.name),i=cM(e._redirectPersistence);if(!await i._isAvailable())return!1;let s=await i._get(r)==="true";return await i._remove(r),s}function uc(e,t){ua.set(e._key(),t)}async function ud(e,t,n=!1){if(lk(e.app))return Promise.reject(l0(e));let r=o5(e),i=t?cM(t):(l3(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver),s=new uo(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class uu{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!uf(e)){let n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(lX(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uh(e))}saveEventToCache(e){this.cachedEventUids.add(uh(e)),this.lastProcessedEventTime=Date.now()}}function uh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function uf({type:e,error:t}){return"unknown"===e&&t?.code==="auth/no-auth-event"}async function up(e,t={}){return ci(e,"GET","/v1/projects",t)}const ug=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,um=/^https?/;async function uv(e){if(e.config.emulator)return;let{authorizedDomains:t}=await up(e);for(let e of t)try{if(function(e){let t=l4(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!um.test(n))return!1;if(ug.test(e))return r===e;let i=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}(e))return}catch{}lJ(e,"unauthorized-domain")}const ub=new l8(3e4,6e4);function uy(){let e=dW().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let uE=null;const uw=new l8(5e3,15e3),uA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function u_(e){let t=await (uE=uE||new Promise((t,n)=>{function r(){uy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{uy(),n(lX(e,"network-request-failed"))},timeout:ub.get()})}if(dW().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(dW().gapi?.load)r();else{var i;let t=cK("iframefcb");return dW()[t]=()=>{gapi.load?r():n(lX(e,"network-request-failed"))},(i=`${cX.gapiScript}?onload=${t}`,cX.loadJS(i)).catch(e=>n(e))}}).catch(e=>{throw uE=null,e})),n=dW().gapi;return l3(n,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;l3(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?l7(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:lN},i=uS.get(e.config.apiHost);i&&(r.eid=i);let s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${o1(r).slice(1)}`}(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uA,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=lX(e,"network-request-failed"),s=dW().setTimeout(()=>{r(i)},uw.get());function a(){dW().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const uC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const uT=encodeURIComponent("fac");async function ux(e,t,n,r,i,s){l3(e.config.authDomain,e,"auth-domain-config-required"),l3(e.config.apiKey,e,"invalid-api-key");let a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:lN,eventId:i};if(t instanceof dm)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",!function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())&&(a.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(s||{})))a[n]=r;if(t instanceof dv){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}for(let t of(e.tenantId&&(a.tid=e.tenantId),Object.keys(a)))void 0===a[t]&&delete a[t];let o=await e._getAppCheckToken(),l=o?`#${uT}=${encodeURIComponent(o)}`:"";return`${function({config:e}){return e.emulator?l7(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${o1(a).slice(1)}${l}`}const uR="webStorageSupport",uI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dz,this._completeRedirectFn=ud,this._overrideRedirectResult=uc}async _openPopup(e,t,n,r){var i,s;i=this.eventManagers[e._key()]?.manager,s="_initialize() not called before _openPopup()",i||l2(s);let a=await ux(e,t,n,l4(),r);return function(e,t,n,r=500,i=600){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",l={...uC,width:r.toString(),height:i.toString(),top:s,left:a},c=oY().toLowerCase();n&&(o=cj(c)?"_blank":n),cH(c)&&(t=t||"http://localhost",l.scrollbars="yes");let d=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=oY()){return cV(e)&&!!window.navigator?.standalone}(c)&&"_self"!==o)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new uD(null);let u=window.open(t||"",o,d);l3(u,e,"popup-blocked");try{u.focus()}catch(e){}return new uD(u)}(e,a,d$())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=await ux(e,t,n,l4(),r),dW().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){var n;let{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(n="If manager is not set, promise should be",r||l2(n),r)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await u_(e),n=new uu(e);return t.register("authEvent",t=>(l3(t?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(uR,{type:uR},n=>{let r=n?.[0]?.[uR];void 0!==r&&t(!!r),lJ(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uv(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cW()||cU()||cV()}};var uk="@firebase/auth",uM="1.11.0";class uO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){l3(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const uN=o$("authIdTokenMaxAge")||300;let uP=null;cX={loadJS:e=>new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{let t=lX("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},d="Browser",lR(new o8("auth",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=n.options;l3(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});let o=new cZ(n,r,i,{apiKey:s,authDomain:a,clientPlatform:d,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cG(d)}),l=t?.persistence||[],c=(Array.isArray(l)?l:[l]).map(cM);return t?.errorMap&&o._updateErrorMap(t.errorMap),o._initializeWithPersistence(c,t?.popupRedirectResolver),o},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),lR(new o8("auth-internal",e=>new uO(o5(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),lL(uk,uM,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(d)),lL(uk,uM,"esm2020");const uL=function(e=function(e=lS){let t=lC.get(e);if(!t&&e===lS&&oF())return lP();if(!t)throw lM.create("no-app",{appName:e});return t}()){let t=lI(e,"auth");if(t.isInitialized())return t.getImmediate();let n=function(e,t){let n=lI(e,"auth");if(n.isInitialized()){let e=n.getImmediate();if(oK(n.getOptions(),t??{}))return e;lJ(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:uI,persistence:[d2,dB,dz]}),r=o$("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t,r=(t=e.toString(),async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uN)return;let i=n?.token;uP!==i&&(uP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});o5(n).beforeAuthStateChanged(r,()=>r(n.currentUser)),o5(n).onIdTokenChanged(e=>r(e),void 0,void 0)}}let i=oz()?.emulatorHosts?.auth;return i&&function(e,t,n){let r=o5(e);l3(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=c8(t),{host:s,port:a}=function(e){let t=c8(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:c7(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:c7(t)}}}(t),o=null===a?"":`:${a}`,l={url:`${i}//${s}${o}/`},c=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!r._canInitEmulator){l3(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),l3(oK(l,r.config.emulator)&&oK(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,oW(s)?(oG(`${i}//${s}${o}`),function(e,t){if("undefined"==typeof window||"undefined"==typeof document||!oW(window.location.host)||oq[e]===t||oq[e]||oQ)return;function n(e){return`__firebase__banner__${e}`}oq[e]=t;let r="__firebase__banner",i=function(){let e={prod:[],emulator:[]};for(let t of Object.keys(oq))oq[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){let e,t,s=(e=document.getElementById(r),t=!1,e||((e=document.createElement("div")).setAttribute("id",r),t=!0),{created:t,element:e}),a=n("text"),o=document.getElementById(a)||document.createElement("span"),l=n("learnmore"),c=document.getElementById(l)||document.createElement("a"),d=n("preprendIcon"),u=document.getElementById(d)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(s.created){let e=s.element;e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center",c.setAttribute("id",l),c.innerText="Learn more",c.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",c.setAttribute("target","__blank"),c.style.paddingLeft="5px",c.style.textDecoration="underline";let t=function(){let e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{oQ=!0;let e=document.getElementById(r);e&&e.remove()},e}();u.setAttribute("width","24"),u.setAttribute("id",d),u.setAttribute("height","24"),u.setAttribute("viewBox","0 0 24 24"),u.setAttribute("fill","none"),u.style.marginLeft="-6px",e.append(u,o,c,t),document.body.appendChild(e)}i?(o.innerText="Preview backend disconnected.",u.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(u.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,o.innerText="Preview backend running in this workspace."),o.setAttribute("id",a)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}("Auth",!0)):function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${i}`),n}(lP({apiKey:"AIzaSyDyfcBWFbR-nx3hxcZNjAILDJ8mHWCY5Ic",authDomain:"educlick-681b9.firebaseapp.com",projectId:"educlick-681b9",storageBucket:"educlick-681b9.firebasestorage.app",messagingSenderId:"1018429512087",appId:"1:1018429512087:web:f9f42265310d3bc1168cd2"}));new dy;var uH=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};function uU(){var e,t,n,r;return e=this,t=void 0,n=void 0,r=function*(){let e=document.getElementById("root");if(!e)return;let t=window.location.pathname;if("/login"===t)return y(e);if("/cadastro"===t)return function(e){return S(this,void 0,void 0,function*(){e.innerHTML=w.render(),function(){let e=document.getElementById("form-cadastro");e&&(e.onsubmit=_),window.handleCadastroSubmit=_}()})}(e);if(t.startsWith("/professor/"))return function(e,t){return oh(this,void 0,void 0,function*(){og=t;try{let n=yield ou.carregarPerfilEAulas(t);of=n.professor,op=n.aulas,e.innerHTML=oc.render({professor:of,aulas:op}),e.innerHTML+=oy(),om(),ow(t)}catch(t){e.innerHTML=oc.render({errorMessage:"Erro ao carregar dados do professor."})}})}(e,decodeURIComponent(t.split("/")[2]));if(t.startsWith("/agendar/"))return function(e,t){return oC(this,void 0,void 0,function*(){try{let n=yield o_.carregarProfessor(t);e.innerHTML=oA.render({professor:n}),function(e){let t=document.getElementById("form-agendamento");t&&(t.onsubmit=t=>oD(t,e)),window.handleAgendamentoSubmit=t=>oD(t,e)}(t)}catch(t){e.innerHTML=oA.render({errorMessage:"Erro ao carregar dados do professor."})}})}(e,t.split("/")[2]);if("/dashboard"===t||"/editar-perfil"===t){if(!(yield j()).ok)return window.history.pushState({},"","/login"),y(e);if("/dashboard"===t)return function(e){return oo(this,void 0,void 0,function*(){try{e.innerHTML=yield ol.render(),yield ol.init()}catch(t){console.error("Erro ao renderizar dashboard:",t),e.innerHTML=`
      <div class="container mt-5">
        <div class="row justify-content-center">
          <div class="col-md-8">
            <div class="card">
              <div class="card-body text-center">
                <i class="bi bi-exclamation-triangle text-danger display-1"></i>
                <h4 class="mt-3 text-danger">Erro ao carregar dashboard</h4>
                <p class="text-muted">N\xe3o foi poss\xedvel carregar os dados do dashboard.</p>
                <button class="btn btn-primary" onclick="location.reload()">
                  <i class="bi bi-arrow-clockwise"></i> Tentar novamente
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}})}(e);if("/editar-perfil"===t)return function(e){return oI(this,void 0,void 0,function*(){try{let t=yield oR.carregarPerfil();e.innerHTML=oT.render({usuario:t}),function(){let e=document.getElementById("form-editar-perfil");e&&(e.onsubmit=ok),window.handleEditarPerfilSubmit=ok}()}catch(t){e.innerHTML=oT.render({errorMessage:"Erro ao carregar dados do perfil."})}})}(e)}return function(e){var t,n,r,i;return t=this,n=void 0,r=void 0,i=function*(){e.innerHTML=oM.render()},new(r||(r=Promise))(function(e,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function o(e){try{l(i.throw(e))}catch(e){s(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(a,o)}l((i=i.apply(t,n||[])).next())})}(e)},new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})}oa.info("EduClick - Cliente iniciado");const uj=new class{registrar(e){return uH(this,void 0,void 0,function*(){try{let t=yield dM(uL,e.email,e.senha);if(t.user)try{yield dL(t.user,{displayName:e.nome})}catch(e){console.warn("Não foi possível atualizar o displayName:",e)}return new oO(t.user)}catch(t){console.error("Erro no registro Firebase:",t);let e="Erro ao criar conta";throw"auth/email-already-in-use"===t.code?e="Este email já está sendo usado por outra conta":"auth/weak-password"===t.code?e="A senha deve ter pelo menos 6 caracteres":"auth/invalid-email"===t.code?e="Email inválido":"auth/operation-not-allowed"===t.code?e="Cadastro com email/senha não está habilitado":"auth/network-request-failed"===t.code&&(e="Erro de conexão. Verifique sua internet"),Error(e)}})}login(e,t){return uH(this,void 0,void 0,function*(){try{let n=(yield lk(uL.app)?Promise.reject(l0(uL)):dI(o5(uL),dg.credential(e,t)).catch(async e=>{throw"auth/password-does-not-meet-requirements"===e.code&&dk(uL),e})).user,r=yield n.getIdToken();return localStorage.setItem("token",r),new oO(n)}catch(t){console.error("Erro no login Firebase:",t);let e="Erro ao fazer login";throw"auth/user-not-found"===t.code?e="Usuário não encontrado":"auth/wrong-password"===t.code?e="Senha incorreta":"auth/invalid-credential"===t.code?e="Email ou senha incorretos":"auth/invalid-email"===t.code?e="Email inválido":"auth/user-disabled"===t.code?e="Conta desabilitada":"auth/too-many-requests"===t.code?e="Muitas tentativas. Tente novamente mais tarde":"auth/network-request-failed"===t.code&&(e="Erro de conexão. Verifique sua internet"),Error(e)}})}logout(){return uH(this,void 0,void 0,function*(){yield o5(uL).signOut()})}verificarSeUsuarioExiste(e){return uH(this,void 0,void 0,function*(){try{let t=yield dN(uL,e);return console.log(`M\xe9todos de login para ${e}:`,t),t.length>0}catch(e){if(console.error("Erro ao verificar se usuário existe:",e),"auth/user-not-found"===e.code)return!1;return!0}})}};A.setAuthProvider(uj),m.setAuthProvider(uj),window.addEventListener("popstate",uU),window.addEventListener("DOMContentLoaded",uU),window.logout=function(){(function(){return L(this,void 0,void 0,function*(){return fetch(`${H}/professores/logout`,{method:"POST",credentials:"include"})})})().finally(()=>window.location.href="/")};
//# sourceMappingURL=client.a68abfd5.js.map
