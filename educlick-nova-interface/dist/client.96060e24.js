let e,t,n,r,i;function a(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var s=globalThis,o={},l={},c=s.parcelRequired50e;null==c&&((c=function(e){if(e in o)return o[e].exports;if(e in l){var t=l[e];delete l[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){l[e]=t},s.parcelRequired50e=c);var d=c.register;d("l9cRd",function(e,t){a(e.exports,"getPublicFcmToken",()=>o),a(e.exports,"setupPushAfterLogin",()=>l);var n=c("knadl"),r=c("iYMxJ"),i=c("dfaKa");async function s(){if(!("serviceWorker"in navigator))return null;try{let e=new URL(c("39SqC"));console.log("[FCM] Registrando Service Worker em",String(e));let t=await navigator.serviceWorker.register(e);return console.log("[FCM] Service Worker registrado"),t}catch(e){return console.warn("Falha ao registrar service worker de messaging:",e),null}}async function o(){try{if(!n.messaging)return null;let e=await Notification.requestPermission();if("granted"!==e)return null;let t=await s();try{return await (0,r.getToken)(n.messaging,{vapidKey:"BPb390jq3M7f7SuhCY_La2NAdUddEt79oOZwf-KAr3_zo9MOTbDmvyuRXaYSR1oHkwaG4ZeWrsy6GDduWbk9QoM",serviceWorkerRegistration:t??void 0})||null}catch{return null}}catch{return null}}try{"undefined"!=typeof window&&(window.setupPushAfterLogin=l,console.log("[FCM][debug] window.setupPushAfterLogin(idToken?) disponível para testes manuais"),window.sendTestNotification=async()=>{try{let e,t=n.auth?.currentUser;t?e=await t.getIdToken():console.warn("[FCM][debug] Usuário não autenticado; teste pode falhar (401).");let r={"Content-Type":"application/json"};e&&(r.Authorization=`Bearer ${e}`);let i=await fetch("http://localhost:3000/api/notifications/test",{method:"POST",headers:r,credentials:"include"}),a=await i.text();console.log("[FCM][debug] /api/notifications/test status:",i.status,a)}catch(e){console.error("[FCM][debug] Erro ao chamar /api/notifications/test:",e)}},console.log("[FCM][debug] window.sendTestNotification() disponível para enviar push de teste"))}catch{}async function l(e){try{if(console.log("[FCM] setupPushAfterLogin iniciado"),!n.messaging)return void console.warn("Messaging indisponível neste ambiente.");let t=await Notification.requestPermission();if(console.log("[FCM] Permissão de notificação:",t),"granted"!==t){console.warn("Permissão de notificação negada."),(0,i.mostrarToast)("Permissão de notificação negada.","warning");return}let a=await s();a||console.warn("[FCM] Service Worker não registrado");let o="BPb390jq3M7f7SuhCY_La2NAdUddEt79oOZwf-KAr3_zo9MOTbDmvyuRXaYSR1oHkwaG4ZeWrsy6GDduWbk9QoM";o||console.warn("[FCM] FIREBASE_VAPID_KEY ausente no .env");let l=null;try{l=await (0,r.getToken)(n.messaging,{vapidKey:o,serviceWorkerRegistration:a??void 0}),console.log("[FCM] Token obtido?",!!l),l&&console.log("[FCM] Token:",l)}catch(e){console.warn("[FCM] Erro ao obter token:",e),(0,i.mostrarToast)("Erro ao obter token de notificação.","danger"),l=null}if(!l){console.warn("Não foi possível obter FCM token.");try{(0,r.onMessage)(n.messaging,e=>{let t=e.notification?.title||"Notificação",n=e.notification?.body||"";(0,i.mostrarToast)(`${t}: ${n}`,"success")})}catch{}return}if(!e)try{let t=n.auth?.currentUser;t?(e=await t.getIdToken(),console.log("[FCM] ID token obtido automaticamente para registro")):console.warn("[FCM] Usuário não autenticado, enviando registro sem Authorization")}catch(e){console.warn("[FCM] Falha ao obter ID token automaticamente:",e)}let c=e?{Authorization:`Bearer ${e}`}:{};console.log("[FCM] Enviando token ao backend...");let d=await fetch("http://localhost:3000/api/notifications/register-token",{method:"POST",headers:{"Content-Type":"application/json",...c},credentials:"include",body:JSON.stringify({token:l})});if(d.ok)console.log("FCM token registrado no backend");else{let e=await d.text().catch(()=>"");console.warn("Falha ao registrar FCM token no backend:",e)}console.log("[FCM] Registrando listener onMessage"),(0,r.onMessage)(n.messaging,e=>{let t=e.notification?.title||"Notificação",n=e.notification?.body||"";(0,i.mostrarToast)(`${t}: ${n}`,"success")})}catch(e){console.warn("Erro ao configurar push:",e)}}}),d("knadl",function(e,t){a(e.exports,"auth",()=>o),a(e.exports,"provider",()=>l),a(e.exports,"messaging",()=>d),a(e.exports,"getFcmToken",()=>c("iYMxJ").getToken),a(e.exports,"onMessage",()=>c("iYMxJ").onMessage),c("fhN3L");var n=c("86cnQ");c("6AR8M");var r=c("44P4X");c("1s7jw");var i=c("iYMxJ");let s=(0,n.initializeApp)({apiKey:"AIzaSyDyfcBWFbR-nx3hxcZNjAILDJ8mHWCY5Ic",authDomain:"educlick-681b9.firebaseapp.com",projectId:"educlick-681b9",storageBucket:"educlick-681b9.appspot.com",messagingSenderId:"1018429512087",appId:"1:1018429512087:web:f9f42265310d3bc1168cd2"}),o=(0,r.p)(s),l=new(0,r.Y),d=null;try{d=(0,i.getMessaging)(s)}catch(e){console.warn("Firebase Messaging não inicializado (provável ambiente sem SW/HTTPS):",e)}}),d("fhN3L",function(e,t){a(e.exports,"initializeApp",()=>c("86cnQ").initializeApp),a(e.exports,"registerVersion",()=>c("86cnQ").registerVersion),(0,c("86cnQ").registerVersion)("firebase","12.0.0","app")}),d("86cnQ",function(e,t){a(e.exports,"_registerComponent",()=>b),a(e.exports,"_getProvider",()=>y),a(e.exports,"_isFirebaseServerApp",()=>w),a(e.exports,"registerVersion",()=>T),a(e.exports,"SDK_VERSION",()=>S),a(e.exports,"initializeApp",()=>C),a(e.exports,"getApp",()=>_);var n=c("7vOQ3"),r=c("7I6Lr"),i=c("dPHSJ"),s=c("iItpQ");class o{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return t?.type==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let l="@firebase/app",d="0.14.0",u=new(0,r.Logger)("@firebase/app"),h="[DEFAULT]",f={[l]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},p=new Map,g=new Map,m=new Map;function v(e,t){try{e.container.addComponent(t)}catch(n){u.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function b(e){let t=e.name;if(m.has(t))return u.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(m.set(t,e),p.values()))v(n,e);for(let t of g.values())v(t,e);return!0}function y(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function w(e){return null!=e&&void 0!==e.settings}let E=new(0,i.ErrorFactory)("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class A{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new(0,n.Component)("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw E.create("app-deleted",{appName:this._name})}}let S="12.0.0";function C(e,t={}){let r=e;"object"!=typeof t&&(t={name:t});let a={name:h,automaticDataCollectionEnabled:!0,...t},s=a.name;if("string"!=typeof s||!s)throw E.create("bad-app-name",{appName:String(s)});if(r||(r=(0,i.getDefaultAppConfig)()),!r)throw E.create("no-options");let o=p.get(s);if(o)if((0,i.deepEqual)(r,o.options)&&(0,i.deepEqual)(a,o.config))return o;else throw E.create("duplicate-app",{appName:s});let l=new(0,n.ComponentContainer)(s);for(let e of m.values())l.addComponent(e);let c=new A(r,a,l);return p.set(s,c),c}function _(e=h){let t=p.get(e);if(!t&&e===h&&(0,i.getDefaultAppConfig)())return C();if(!t)throw E.create("no-app",{appName:e});return t}function T(e,t,r){let i=f[e]??e;r&&(i+=`-${r}`);let a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){let e=[`Unable to register library "${i}" with version "${t}":`];a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),u.warn(e.join(" "));return}b(new(0,n.Component)(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}let D="firebase-heartbeat-store",x=null;function I(){return x||(x=(0,s.openDB)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(D)}catch(e){console.warn(e)}}}).catch(e=>{throw E.create("idb-open",{originalErrorMessage:e.message})})),x}async function k(e){try{let t=(await I()).transaction(D),n=await t.objectStore(D).get(M(e));return await t.done,n}catch(e){if(e instanceof i.FirebaseError)u.warn(e.message);else{let t=E.create("idb-get",{originalErrorMessage:e?.message});u.warn(t.message)}}}async function R(e,t){try{let n=(await I()).transaction(D,"readwrite"),r=n.objectStore(D);await r.put(t,M(e)),await n.done}catch(e){if(e instanceof i.FirebaseError)u.warn(e.message);else{let t=E.create("idb-set",{originalErrorMessage:e?.message});u.warn(t.message)}}}function M(e){return`${e.name}!${e.options.appId}`}class P{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new N(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=O();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){let e=function(e){if(0===e.length)return -1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){u.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||0===this._heartbeatsCache.heartbeats.length)return"";let e=O(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),L(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),L(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=(0,i.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return u.warn(e),""}}}function O(){return new Date().toISOString().substring(0,10)}class N{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,i.isIndexedDBAvailable)()&&(0,i.validateIndexedDBOpenable)().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await k(this.app);return e?.heartbeats?e:{heartbeats:[]}}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return R(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return R(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function L(e){return(0,i.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:e})).length}b(new(0,n.Component)("platform-logger",e=>new o(e),"PRIVATE")),b(new(0,n.Component)("heartbeat",e=>new P(e),"PRIVATE")),T(l,d,""),T(l,d,"esm2020"),T("fire-js","")}),d("7vOQ3",function(e,t){a(e.exports,"Component",()=>r),a(e.exports,"ComponentContainer",()=>o);var n=c("dPHSJ");class r{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}let i="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new(0,n.Deferred);if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}if(n)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:i})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=i){return this.instances.has(e)}getOptions(e=i){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){var n;let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e)===i?void 0:n,options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=i){return this.component?this.component.multipleInstances?e:i:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}}),d("dPHSJ",function(e,t){a(e.exports,"base64urlEncodeWithoutPadding",()=>u),a(e.exports,"base64Decode",()=>h),a(e.exports,"getDefaultEmulatorHost",()=>p),a(e.exports,"getDefaultAppConfig",()=>g),a(e.exports,"getExperimentalSetting",()=>m),a(e.exports,"Deferred",()=>v),a(e.exports,"isCloudWorkstation",()=>b),a(e.exports,"pingServer",()=>y),a(e.exports,"updateEmulatorBanner",()=>A),a(e.exports,"getUA",()=>S),a(e.exports,"isMobileCordova",()=>C),a(e.exports,"isBrowser",()=>_),a(e.exports,"isWebWorker",()=>T),a(e.exports,"isCloudflareWorker",()=>D),a(e.exports,"isBrowserExtension",()=>x),a(e.exports,"isReactNative",()=>I),a(e.exports,"isIE",()=>k),a(e.exports,"isIndexedDBAvailable",()=>R),a(e.exports,"validateIndexedDBOpenable",()=>M),a(e.exports,"areCookiesEnabled",()=>P),a(e.exports,"FirebaseError",()=>O),a(e.exports,"ErrorFactory",()=>N),a(e.exports,"isEmpty",()=>H),a(e.exports,"deepEqual",()=>function e(t,n){if(t===n)return!0;let r=Object.keys(t),i=Object.keys(n);for(let a of r){if(!i.includes(a))return!1;let r=t[a],s=n[a];if(U(r)&&U(s)){if(!e(r,s))return!1}else if(r!==s)return!1}for(let e of i)if(!r.includes(e))return!1;return!0}),a(e.exports,"querystring",()=>j),a(e.exports,"querystringDecode",()=>F),a(e.exports,"extractQuerystring",()=>B),a(e.exports,"createSubscribe",()=>z),a(e.exports,"getModularInstance",()=>W);var n=c("eSfSu");let r=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},i=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){let a=e[n++],s=((7&i)<<18|(63&a)<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{let a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,s=a?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,c=i>>2,d=(3&i)<<4|s>>4,u=(15&s)<<2|l>>6,h=63&l;!o&&(h=64,a||(u=64)),r.push(n[c],n[d],n[u],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):i(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0,s=++t<e.length?n[e.charAt(t)]:64,o=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==a||null==s||null==o)throw new l;let c=i<<2|a>>4;if(r.push(c),64!==s){let e=a<<4&240|s>>2;if(r.push(e),64!==o){let e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class l extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let d=function(e){let t=r(e);return o.encodeByteArray(t,!0)},u=function(e){return d(e).replace(/\./g,"")},h=function(e){try{return o.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},f=()=>{try{return(0,n.getDefaultsFromPostinstall)()||function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==s)return s;throw Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&h(e[1]);return t&&JSON.parse(t)})()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},p=e=>f()?.emulatorHosts?.[e],g=()=>f()?.config,m=e=>f()?.[`_${e}`];class v{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function b(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y(e){return(await fetch(e,{credentials:"include"})).ok}let w={},E=!1;function A(e,t){if("undefined"==typeof window||"undefined"==typeof document||!b(window.location.host)||w[e]===t||w[e]||E)return;function n(e){return`__firebase__banner__${e}`}w[e]=t;let r="__firebase__banner",i=function(){let e={prod:[],emulator:[]};for(let t of Object.keys(w))w[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){let e,t,a=(e=document.getElementById(r),t=!1,e||((e=document.createElement("div")).setAttribute("id",r),t=!0),{created:t,element:e}),s=n("text"),o=document.getElementById(s)||document.createElement("span"),l=n("learnmore"),c=document.getElementById(l)||document.createElement("a"),d=n("preprendIcon"),u=document.getElementById(d)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(a.created){let e=a.element;e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center",c.setAttribute("id",l),c.innerText="Learn more",c.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",c.setAttribute("target","__blank"),c.style.paddingLeft="5px",c.style.textDecoration="underline";let t=function(){let e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{E=!0;let e=document.getElementById(r);e&&e.remove()},e}();u.setAttribute("width","24"),u.setAttribute("id",d),u.setAttribute("height","24"),u.setAttribute("viewBox","0 0 24 24"),u.setAttribute("fill","none"),u.style.marginLeft="-6px",e.append(u,o,c,t),document.body.appendChild(e)}i?(o.innerText="Preview backend disconnected.",u.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(u.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,o.innerText="Preview backend running in this workspace."),o.setAttribute("id",s)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function S(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function C(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function _(){return"undefined"!=typeof window||T()}function T(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function D(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function x(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function I(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function k(){let e=S();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function R(){try{return"object"==typeof indexedDB}catch(e){return!1}}function M(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}})}function P(){return"undefined"!=typeof navigator&&!!navigator.cookieEnabled}class O extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,O.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var n,r;let i=t[0]||{},a=`${this.service}/${e}`,s=this.errors[e],o=s?(n=s,r=i,n.replace(L,(e,t)=>{let n=r[t];return null!=n?String(n):`<${t}?>`})):"Error",l=`${this.serviceName}: ${o} (${a}).`;return new O(a,l,i)}}let L=/\{\$([^}]+)}/g;function H(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function U(e){return null!==e&&"object"==typeof e}function j(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function F(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function B(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function z(e,t){let n=new $(e,t);return n.subscribe.bind(n)}class ${constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=V),void 0===r.error&&(r.error=V),void 0===r.complete&&(r.complete=V);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V(){}function W(e){return e&&e._delegate?e._delegate:e}}),d("eSfSu",function(e,t){a(e.exports,"getDefaultsFromPostinstall",()=>n);let n=()=>void 0}),d("7I6Lr",function(e,t){var n,r;a(e.exports,"LogLevel",()=>n),a(e.exports,"Logger",()=>d),a(e.exports,"setLogLevel",()=>u),a(e.exports,"setUserLogHandler",()=>h);let i=[];(r=n||(n={}))[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT";let s={debug:n.DEBUG,verbose:n.VERBOSE,info:n.INFO,warn:n.WARN,error:n.ERROR,silent:n.SILENT},o=n.INFO,l={[n.DEBUG]:"log",[n.VERBOSE]:"log",[n.INFO]:"info",[n.WARN]:"warn",[n.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=l[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class d{constructor(e){this.name=e,this._logLevel=o,this._logHandler=c,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in n))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,n.DEBUG,...e),this._logHandler(this,n.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,n.VERBOSE,...e),this._logHandler(this,n.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,n.INFO,...e),this._logHandler(this,n.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,n.WARN,...e),this._logHandler(this,n.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,n.ERROR,...e),this._logHandler(this,n.ERROR,...e)}}function u(e){i.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(let r of i){let i=null;t&&t.level&&(i=s[t.level]),null===e?r.userLogHandler=null:r.userLogHandler=(t,r,...a)=>{let s=a.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");r>=(i??t.logLevel)&&e({level:n[r].toLowerCase(),message:s,args:a,type:t.name})}}}}),d("iItpQ",function(e,t){a(e.exports,"openDB",()=>r),a(e.exports,"deleteDB",()=>i);var n=c("jMRra");function r(e,t,{blocked:i,upgrade:a,blocking:s,terminated:o}={}){let l=indexedDB.open(e,t),c=(0,n.w)(l);return a&&l.addEventListener("upgradeneeded",e=>{a((0,n.w)(l.result),e.oldVersion,e.newVersion,(0,n.w)(l.transaction),e)}),i&&l.addEventListener("blocked",e=>i(e.oldVersion,e.newVersion,e)),c.then(e=>{o&&e.addEventListener("close",()=>o()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),c}function i(e,{blocked:t}={}){let r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",e=>t(e.oldVersion,e)),(0,n.w)(r).then(()=>void 0)}let s=["get","getKey","getAll","getAllKeys","count"],o=["put","add","delete","clear"],l=new Map;function d(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(l.get(t))return l.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=o.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||s.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?"readwrite":"readonly"),s=a.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&a.done]))[0]};return l.set(t,a),a}(0,n.r)(e=>({...e,get:(t,n,r)=>d(t,n)||e.get(t,n,r),has:(t,n)=>!!d(t,n)||e.has(t,n)}))}),d("jMRra",function(e,t){let n,r;a(e.exports,"w",()=>h),a(e.exports,"r",()=>u);let i=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,d={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||o.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return h(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function u(e){d=e(d)}function h(e){if(e instanceof IDBRequest){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(h(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&i.set(t,e)}).catch(()=>{}),c.set(t,e),t}if(l.has(e))return l.get(e);let t=function(e){if("function"==typeof e)return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(f(this),t),h(i.get(this))}:function(...t){return h(e.apply(f(this),t))}:function(t,...n){let r=e.call(f(this),t,...n);return o.set(r,t.sort?t.sort():[t]),h(r)};return e instanceof IDBTransaction&&function(e){if(s.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});s.set(e,t)}(e),(n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(e,d):e}(e);return t!==e&&(l.set(e,t),c.set(t,e)),t}let f=e=>c.get(e)}),d("6AR8M",function(e,t){a(e.exports,"createUserWithEmailAndPassword",()=>c("44P4X").ab),a(e.exports,"fetchSignInMethodsForEmail",()=>c("44P4X").ag),a(e.exports,"getAuth",()=>c("44P4X").p),a(e.exports,"GoogleAuthProvider",()=>c("44P4X").Y),a(e.exports,"sendPasswordResetEmail",()=>c("44P4X").a6),a(e.exports,"signInWithEmailAndPassword",()=>c("44P4X").ac),a(e.exports,"signInWithPopup",()=>c("44P4X").d),a(e.exports,"signOut",()=>c("44P4X").D),a(e.exports,"updateProfile",()=>c("44P4X").al),c("hJWaN")}),d("hJWaN",function(e,t){a(e.exports,"GoogleAuthProvider",()=>c("44P4X").Y),a(e.exports,"createUserWithEmailAndPassword",()=>c("44P4X").ab),a(e.exports,"fetchSignInMethodsForEmail",()=>c("44P4X").ag),a(e.exports,"getAuth",()=>c("44P4X").p),a(e.exports,"sendPasswordResetEmail",()=>c("44P4X").a6),a(e.exports,"signInWithEmailAndPassword",()=>c("44P4X").ac),a(e.exports,"signInWithPopup",()=>c("44P4X").d),a(e.exports,"signOut",()=>c("44P4X").D),a(e.exports,"updateProfile",()=>c("44P4X").al),c("44P4X"),c("86cnQ"),c("dPHSJ"),c("7I6Lr"),c("7vOQ3")}),d("44P4X",function(e,t){a(e.exports,"Y",()=>e3),a(e.exports,"a6",()=>ts),a(e.exports,"ab",()=>to),a(e.exports,"ac",()=>tl),a(e.exports,"ag",()=>td),a(e.exports,"al",()=>th),a(e.exports,"D",()=>tf),a(e.exports,"d",()=>tG),a(e.exports,"p",()=>ng);var n,r=c("86cnQ"),i=c("dPHSJ"),s=c("7I6Lr"),o=c("7vOQ3");function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let d=new(0,i.ErrorFactory)("auth","Firebase",l()),u=new(0,s.Logger)("@firebase/auth");function h(e,...t){u.logLevel<=s.LogLevel.ERROR&&u.error(`Auth (${r.SDK_VERSION}): ${e}`,...t)}function f(e,...t){throw v(e,...t)}function p(e,...t){return v(e,...t)}function g(e,t,n){let r={...l(),[t]:n};return new(0,i.ErrorFactory)("auth","Firebase",r).create(t,{appName:e.name})}function m(e){return g(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return d.create(e,...t)}function b(e,t,...n){if(!e)throw v(t,...n)}function y(e){let t="INTERNAL ASSERTION FAILED: "+e;throw h(t),Error(t)}function w(){return"undefined"!=typeof self&&self.location?.href||""}function E(){return"http:"===A()||"https:"===A()}function A(){return"undefined"!=typeof self&&self.location?.protocol||null}class S{constructor(e,t){var n;this.shortDelay=e,this.longDelay=t,n="Short delay should be less than long delay!",t>e||y(n),this.isMobile=(0,i.isMobileCordova)()||(0,i.isReactNative)()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(E()||(0,i.isBrowserExtension)()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function C(e,t){var n,r;n=e.emulator,r="Emulator should always be set here",n||y(r);let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class _{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}let T={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},D=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x=new S(3e4,6e4);function I(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function k(e,t,n,r,a={}){return R(e,a,async()=>{let a={},s={};r&&("GET"===t?s=r:a={body:JSON.stringify(r)});let o=(0,i.querystring)({key:e.config.apiKey,...s}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);let c={method:t,headers:l,...a};return(0,i.isCloudflareWorker)()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,i.isCloudWorkstation)(e.emulatorConfig.host)&&(c.credentials="include"),_.fetch()(await P(e,e.config.apiHost,n,o),c)})}async function R(e,t,n){e._canInitEmulator=!1;let r={...T,...t};try{let t=new O(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if("needConfirmation"in a)throw N(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw N(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===t)throw N(e,"email-already-in-use",a);if("USER_DISABLED"===t)throw N(e,"user-disabled",a);let s=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw g(e,s,n);f(e,s)}}catch(t){if(t instanceof i.FirebaseError)throw t;f(e,"network-request-failed",{message:String(t)})}}async function M(e,t,n,r,i={}){let a=await k(e,t,n,r,i);return"mfaPendingCredential"in a&&f(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function P(e,t,n,r){let i=`${t}${n}?${r}`,a=e.config.emulator?C(e.config,i):`${e.config.apiScheme}://${i}`;return D.includes(n)&&(await e._persistenceManagerAvailable,"COOKIE"===e._getPersistenceType())?e._getPersistence()._getFinalTarget(a).toString():a}class O{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(p(this.auth,"network-request-failed")),x.get())})}}function N(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=p(e,t,r);return i.customData._tokenResponse=n,i}function L(e){return void 0!==e&&void 0!==e.enterprise}class H{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)switch(t.enforcementState){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function U(e,t){return k(e,"GET","/v2/recaptchaConfig",I(e,t))}async function j(e,t){return k(e,"POST","/v1/accounts:delete",t)}async function F(e,t){return k(e,"POST","/v1/accounts:lookup",t)}function B(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function z(e,t=!1){let n=(0,i.getModularInstance)(e),r=await n.getIdToken(t),a=V(r);b(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");let s="object"==typeof a.firebase?a.firebase:void 0,o=s?.sign_in_provider;return{claims:a,token:r,authTime:B($(a.auth_time)),issuedAtTime:B($(a.iat)),expirationTime:B($(a.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function $(e){return 1e3*Number(e)}function V(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return h("JWT malformed, contained fewer than 3 sections"),null;try{let e=(0,i.base64Decode)(n);if(!e)return h("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return h("Caught error parsing JWT payload as JSON",e?.toString()),null}}function W(e){let t=V(e);return b(t,"internal-error"),b(void 0!==t.exp,"internal-error"),b(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function q(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof i.FirebaseError&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class G{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(!e)return this.errorBackoff=3e4,Math.max(0,(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Q{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=B(this.lastLoginAt),this.creationTime=B(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Y(e){var t,n;let r=e.auth,i=await e.getIdToken(),a=await q(e,F(r,{idToken:i}));b(a?.users.length,r,"internal-error");let s=a.users[0];e._notifyReloadListener(s);let o=s.providerUserInfo?.length?J(s.providerUserInfo):[],l=(t=e.providerData,n=o,[...t.filter(e=>!n.some(t=>t.providerId===e.providerId)),...n]),c=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!l?.length;Object.assign(e,{uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Q(s.createdAt,s.lastLoginAt),isAnonymous:!!c&&d})}async function K(e){let t=(0,i.getModularInstance)(e);await Y(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function J(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function Z(e,t){let n=await R(e,{},async()=>{let n=(0,i.querystring)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=e.config,s=await P(e,r,"/v1/token",`key=${a}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:o,body:n};return e.emulatorConfig&&(0,i.isCloudWorkstation)(e.emulatorConfig.host)&&(l.credentials="include"),_.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function X(e,t){return k(e,"POST","/v2/accounts:revokeToken",I(e,t))}class ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b(void 0!==e.idToken,"internal-error"),b(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):W(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){b(0!==e.length,"internal-error");let t=W(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(b(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await Z(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new ee;return n&&(b("string"==typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(b("string"==typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(b("number"==typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ee,this.toJSON())}_performRefresh(){return y("not implemented")}}function et(e,t){b("string"==typeof e||void 0===e,"internal-error",{appName:t})}class en{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId="firebase",this.proactiveRefresh=new G(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Q(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await q(this,this.stsTokenManager.getToken(this.auth,e));return b(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return z(this,e)}reload(){return K(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new en({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Y(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r._isFirebaseServerApp)(this.auth.app))return Promise.reject(m(this.auth));let e=await this.getIdToken();return await q(this,j(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let n=t.displayName??void 0,r=t.email??void 0,i=t.phoneNumber??void 0,a=t.photoURL??void 0,s=t.tenantId??void 0,o=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:d,emailVerified:u,isAnonymous:h,providerData:f,stsTokenManager:p}=t;b(d&&p,e,"internal-error");let g=ee.fromJSON(this.name,p);b("string"==typeof d,e,"internal-error"),et(n,e.name),et(r,e.name),b("boolean"==typeof u,e,"internal-error"),b("boolean"==typeof h,e,"internal-error"),et(i,e.name),et(a,e.name),et(s,e.name),et(o,e.name),et(l,e.name),et(c,e.name);let m=new en({uid:d,auth:e,email:r,emailVerified:u,displayName:n,isAnonymous:h,photoURL:a,phoneNumber:i,tenantId:s,stsTokenManager:g,createdAt:l,lastLoginAt:c});return f&&Array.isArray(f)&&(m.providerData=f.map(e=>({...e}))),o&&(m._redirectEventId=o),m}static async _fromIdTokenResponse(e,t,n=!1){let r=new ee;r.updateFromServerResponse(t);let i=new en({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Y(i),i}static async _fromGetAccountInfoResponse(e,t,n){let r=t.users[0];b(void 0!==r.localId,"internal-error");let i=void 0!==r.providerUserInfo?J(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!i?.length,s=new ee;s.updateFromIdToken(n);let o=new en({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:a});return Object.assign(o,{uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Q(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!i?.length}),o}}let er=new Map;function ei(e){var t,n;t="Expected a class definition",e instanceof Function||y(t);let r=er.get(e);return r?(n="Instance stored in cache mismatched with class",r instanceof e||y(n)):(r=new e,er.set(e,r)),r}class ea{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}function es(e,t,n){return`firebase:${e}:${t}:${n}`}ea.type="NONE";class eo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=es(this.userKey,r.apiKey,i),this.fullPersistenceKey=es("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){let t=await F(this.auth,{idToken:e}).catch(()=>void 0);return t?en._fromGetAccountInfoResponse(this.auth,t,e):null}return en._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new eo(ei(ea),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||ei(ea),a=es(n,e.config.apiKey,e.name),s=null;for(let n of t)try{let t=await n._get(a);if(t){let r;if("string"==typeof t){let n=await F(e,{idToken:t}).catch(()=>void 0);if(!n)break;r=await en._fromGetAccountInfoResponse(e,n,t)}else r=en._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch{}let o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length&&(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch{}}))),new eo(i,e,n)}}function el(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(eh(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ec(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ep(t))return"Blackberry";if(eg(t))return"Webos";if(ed(t))return"Safari";if((t.includes("chrome/")||eu(t))&&!t.includes("edge/"))return"Chrome";if(ef(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(n?.length===2)return n[1]}return"Other"}function ec(e=(0,i.getUA)()){return/firefox\//i.test(e)}function ed(e=(0,i.getUA)()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eu(e=(0,i.getUA)()){return/crios\//i.test(e)}function eh(e=(0,i.getUA)()){return/iemobile/i.test(e)}function ef(e=(0,i.getUA)()){return/android/i.test(e)}function ep(e=(0,i.getUA)()){return/blackberry/i.test(e)}function eg(e=(0,i.getUA)()){return/webos/i.test(e)}function em(e=(0,i.getUA)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ev(e=(0,i.getUA)()){return em(e)||ef(e)||eg(e)||ep(e)||/windows phone/i.test(e)||eh(e)}function eb(e,t=[]){let n;switch(e){case"Browser":n=el((0,i.getUA)());break;case"Worker":n=`${el((0,i.getUA)())}-${e}`;break;default:n=e}let a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${r.SDK_VERSION}/${a}`}class ey{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e?.message})}}}async function ew(e,t={}){return k(e,"GET","/v2/passwordPolicy",I(e,t))}class eE{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class eA{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eC(this),this.idTokenSubscription=new eC(this),this.beforeStateQueue=new ey(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ei(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted){if(this.persistenceManager=await eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await F(this,{idToken:e}),n=await en._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,r._isFirebaseServerApp)(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,r=n?._redirectEventId,a=await this.tryRedirectSignIn(e);(!t||t===r)&&a?.user&&(n=a.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return(b(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId)?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Y(e)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r._isFirebaseServerApp)(this.app))return Promise.reject(m(this));let t=e?(0,i.getModularInstance)(e):null;return t&&b(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&b(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,r._isFirebaseServerApp)(this.app)?Promise.reject(m(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r._isFirebaseServerApp)(this.app)?Promise.reject(m(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new eE(await ew(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new(0,i.ErrorFactory)("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await X(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&ei(e)||this._popupRedirectResolver;b(t,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return(this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e)?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),a=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(b(s,this,"internal-error"),s.then(()=>{a||i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if((0,r._isFirebaseServerApp)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&function(e,...t){u.logLevel<=s.LogLevel.WARN&&u.warn(`Auth (${r.SDK_VERSION}): ${e}`,...t)}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function eS(e){return(0,i.getModularInstance)(e)}class eC{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.createSubscribe)(e=>this.observer=e)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let e_={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eT(e){return`__${e}${Math.floor(1e6*Math.random())}`}class eD{constructor(){this.enterprise=new ex}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ex{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}let eI="NO_RECAPTCHA";class ek{constructor(e){this.type="recaptcha-enterprise",this.auth=eS(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{U(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new H(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;L(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(eI)})}):r(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eD().execute("siteKey",{action:"verify"}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&L(window.grecaptcha))r(n,e,i);else{var a;if("undefined"==typeof window)return void i(Error("RecaptchaVerifier is only supported in browser"));let t=e_.recaptchaEnterpriseScript;0!==t.length&&(t+=n),(a=t,e_.loadJS(a)).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function eR(e,t,n,r=!1,i=!1){let a,s=new ek(e);if(i)a=eI;else try{a=await s.verify(n)}catch(e){a=await s.verify(n,!0)}let o={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){let e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){let e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function eM(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i)if(!e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await eR(e,t,n,"getOobCode"===n);return r(e,i)}});else{let i=await eR(e,t,n,"getOobCode"===n);return r(e,i)}if("PHONE_PROVIDER"!==i)return Promise.reject(i+" provider is not supported.");if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let i=await eR(e,t,n);return r(e,i).catch(async i=>{if(e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let i=await eR(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{let i=await eR(e,t,n,!1,!0);return r(e,i)}}async function eP(e){let t=eS(e),n=new H(await U(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}));null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new ek(t).verify()}function eO(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function eN(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class eL{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return y("not implemented")}_getIdTokenResponse(e){return y("not implemented")}_linkToIdToken(e,t){return y("not implemented")}_getReauthenticationResolver(e){return y("not implemented")}}async function eH(e,t){return k(e,"POST","/v1/accounts:signUp",t)}async function eU(e,t){return M(e,"POST","/v1/accounts:signInWithPassword",I(e,t))}async function ej(e,t){return k(e,"POST","/v1/accounts:sendOobCode",I(e,t))}async function eF(e,t){return ej(e,t)}async function eB(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}async function ez(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}class e$ extends eL{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new e$(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new e$(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);else if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return eM(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",eU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return eB(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return eM(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ez(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function eV(e,t){return M(e,"POST","/v1/accounts:signInWithIdp",I(e,t))}class eW extends eL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new eW(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let{providerId:t,signInMethod:n,...r}="string"==typeof e?JSON.parse(e):e;if(!t||!n)return null;let i=new eW(t,n);return i.idToken=r.idToken||void 0,i.accessToken=r.accessToken||void 0,i.secret=r.secret,i.nonce=r.nonce,i.pendingToken=r.pendingToken||null,i}_getIdTokenResponse(e){return eV(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,eV(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,eV(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.querystring)(t)}return e}}async function eq(e,t){return k(e,"POST","/v1/accounts:sendVerificationCode",I(e,t))}async function eG(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t))}async function eQ(e,t){let n=await M(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t));if(n.temporaryProof)throw N(e,"account-exists-with-different-credential",n);return n}let eY={USER_NOT_FOUND:"user-not-found"};async function eK(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,{...t,operation:"REAUTH"}),eY)}class eJ extends eL{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new eJ({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new eJ({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return eG(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return eQ(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return eK(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new eJ({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class eZ{constructor(e){let t=(0,i.querystringDecode)((0,i.extractQuerystring)(e)),n=t.apiKey??null,r=t.oobCode??null,a=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);b(n&&r&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){let t=function(e){let t=(0,i.querystringDecode)((0,i.extractQuerystring)(e)).link,n=t?(0,i.querystringDecode)((0,i.extractQuerystring)(t)).deep_link_id:null,r=(0,i.querystringDecode)((0,i.extractQuerystring)(e)).deep_link_id;return(r?(0,i.querystringDecode)((0,i.extractQuerystring)(r)).link:null)||r||n||t||e}(e);try{return new eZ(t)}catch{return null}}}class eX{constructor(){this.providerId=eX.PROVIDER_ID}static credential(e,t){return e$._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=eZ.parseLink(t);return b(n,"argument-error"),e$._fromEmailAndCode(e,n.code,n.tenantId)}}eX.PROVIDER_ID="password",eX.EMAIL_PASSWORD_SIGN_IN_METHOD="password",eX.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class e0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class e1 extends e0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class e4 extends e1{constructor(){super("facebook.com")}static credential(e){return eW._fromParams({providerId:e4.PROVIDER_ID,signInMethod:e4.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return e4.credentialFromTaggedObject(e)}static credentialFromError(e){return e4.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return e4.credential(e.oauthAccessToken)}catch{return null}}}e4.FACEBOOK_SIGN_IN_METHOD="facebook.com",e4.PROVIDER_ID="facebook.com";class e3 extends e1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eW._fromParams({providerId:e3.PROVIDER_ID,signInMethod:e3.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return e3.credentialFromTaggedObject(e)}static credentialFromError(e){return e3.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return e3.credential(t,n)}catch{return null}}}e3.GOOGLE_SIGN_IN_METHOD="google.com",e3.PROVIDER_ID="google.com";class e2 extends e1{constructor(){super("github.com")}static credential(e){return eW._fromParams({providerId:e2.PROVIDER_ID,signInMethod:e2.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return e2.credentialFromTaggedObject(e)}static credentialFromError(e){return e2.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return e2.credential(e.oauthAccessToken)}catch{return null}}}e2.GITHUB_SIGN_IN_METHOD="github.com",e2.PROVIDER_ID="github.com";class e6 extends e1{constructor(){super("twitter.com")}static credential(e,t){return eW._fromParams({providerId:e6.PROVIDER_ID,signInMethod:e6.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return e6.credentialFromTaggedObject(e)}static credentialFromError(e){return e6.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return e6.credential(t,n)}catch{return null}}}async function e5(e,t){return M(e,"POST","/v1/accounts:signUp",I(e,t))}e6.TWITTER_SIGN_IN_METHOD="twitter.com",e6.PROVIDER_ID="twitter.com";class e8{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){return new e8({user:await en._fromIdTokenResponse(e,n,r),providerId:e7(n),_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){return await e._updateTokensIfNecessary(n,!0),new e8({user:e,providerId:e7(n),_tokenResponse:n,operationType:t})}}function e7(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class e9 extends i.FirebaseError{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,e9.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new e9(e,t,n,r)}}function te(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw e9._fromErrorAndOperation(e,n,t,r);throw n})}async function tt(e,t,n=!1){let r=await q(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return e8._forOperation(e,"link",r)}async function tn(e,t,n=!1){let{auth:i}=e;if((0,r._isFirebaseServerApp)(i.app))return Promise.reject(m(i));let a="reauthenticate";try{let r=await q(e,te(i,a,t,e),n);b(r.idToken,i,"internal-error");let s=V(r.idToken);b(s,i,"internal-error");let{sub:o}=s;return b(e.uid===o,i,"user-mismatch"),e8._forOperation(e,a,r)}catch(e){throw e?.code==="auth/user-not-found"&&f(i,"user-mismatch"),e}}async function tr(e,t,n=!1){if((0,r._isFirebaseServerApp)(e.app))return Promise.reject(m(e));let i="signIn",a=await te(e,i,t),s=await e8._fromIdTokenResponse(e,i,a);return n||await e._updateCurrentUser(s.user),s}async function ti(e,t){return tr(eS(e),t)}async function ta(e){let t=eS(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ts(e,t,n){let r=eS(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&(b(n.url?.length>0,r,"invalid-continue-uri"),b(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,r,"invalid-dynamic-link-domain"),b(void 0===n.linkDomain||n.linkDomain.length>0,r,"invalid-hosting-link-domain"),i.continueUrl=n.url,i.dynamicLinkDomain=n.dynamicLinkDomain,i.linkDomain=n.linkDomain,i.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(b(n.iOS.bundleId.length>0,r,"missing-ios-bundle-id"),i.iOSBundleId=n.iOS.bundleId),n.android&&(b(n.android.packageName.length>0,r,"missing-android-pkg-name"),i.androidInstallApp=n.android.installApp,i.androidMinimumVersionCode=n.android.minimumVersion,i.androidPackageName=n.android.packageName)),await eM(r,i,"getOobCode",eF,"EMAIL_PASSWORD_PROVIDER")}async function to(e,t,n){if((0,r._isFirebaseServerApp)(e.app))return Promise.reject(m(e));let i=eS(e),a=eM(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e5,"EMAIL_PASSWORD_PROVIDER"),s=await a.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ta(e),t}),o=await e8._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(o.user),o}function tl(e,t,n){return(0,r._isFirebaseServerApp)(e.app)?Promise.reject(m(e)):ti((0,i.getModularInstance)(e),eX.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ta(e),t})}async function tc(e,t){return k(e,"POST","/v1/accounts:createAuthUri",I(e,t))}async function td(e,t){let n=E()?w():"http://localhost",{signinMethods:r}=await tc((0,i.getModularInstance)(e),{identifier:t,continueUri:n});return r||[]}async function tu(e,t){return k(e,"POST","/v1/accounts:update",t)}async function th(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;let r=(0,i.getModularInstance)(e),a=await r.getIdToken(),s=await q(r,tu(r.auth,{idToken:a,displayName:t,photoUrl:n,returnSecureToken:!0}));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;let o=r.providerData.find(({providerId:e})=>"password"===e);o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function tf(e){return(0,i.getModularInstance)(e).signOut()}function tp(e,t){return k(e,"POST","/v2/accounts/mfaEnrollment:start",I(e,t))}new WeakMap;let tg="__sak";class tm{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(tg,"1"),this.storage.removeItem(tg),Promise.resolve(!0)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class tv extends tm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ev(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);(0,i.isIE)()&&10===document.documentMode&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tv.type="LOCAL";class tb extends tm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tb.type="SESSION";class ty{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new ty(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!i?.size)return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let a=Array.from(i).map(async t=>t(e.origin,r)),s=await Promise.all(a.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function tw(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}ty.receivers=[];class tE{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i,a="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!a)throw Error("connection_unavailable");return new Promise((s,o)=>{let l=tw("",20);a.port1.start();let c=setTimeout(()=>{o(Error("unsupported_event"))},n);i={messageChannel:a,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),r=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(r),s(e.data.response);break;default:clearTimeout(c),clearTimeout(r),o(Error("invalid_response"))}}},this.handlers.add(i),a.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[a.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function tA(){return window}function tS(){return void 0!==tA().WorkerGlobalScope&&"function"==typeof tA().importScripts}async function tC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}let t_="firebaseLocalStorageDb",tT="firebaseLocalStorage",tD="fbase_key";class tx{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tI(e,t){return e.transaction([tT],t?"readwrite":"readonly").objectStore(tT)}function tk(){let e=indexedDB.open(t_,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(tT,{keyPath:tD})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(tT)?t(n):(n.close(),await new tx(indexedDB.deleteDatabase(t_)).toPromise(),t(await tk()))})})}async function tR(e,t,n){return new tx(tI(e,!0).put({[tD]:t,value:n})).toPromise()}async function tM(e,t){let n=tI(e,!1).get(t),r=await new tx(n).toPromise();return void 0===r?null:r.value}function tP(e,t){return new tx(tI(e,!0).delete(t)).toPromise()}class tO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await tk()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ty._getInstance(tS()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tC(),!this.activeServiceWorker)return;this.sender=new tE(this.activeServiceWorker);let e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await tk();return await tR(e,tg,"1"),await tP(e,tg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>tR(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>tM(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tP(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new tx(tI(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;if(0!==e.length)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}function tN(e,t){return k(e,"POST","/v2/accounts/mfaSignIn:start",I(e,t))}tO.type="LOCAL",eT("rcb"),new S(3e4,6e4);let tL="recaptcha";async function tH(e,t,n){if(!e._getRecaptchaConfig())try{await eP(e)}catch(e){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"==typeof t?{phoneNumber:t}:t,"session"in r){let t=r.session;if("phoneNumber"in r){b("enroll"===t.type,e,"internal-error");let i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===eI){b(n?.type===tL,e,"argument-error");let r=await tU(e,t,n);return tp(e,r)}return tp(e,t)},s=eM(e,i,"mfaSmsEnrollment",a,"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{b("signin"===t.type,e,"internal-error");let i=r.multiFactorHint?.uid||r.multiFactorUid;b(i,e,"missing-multi-factor-info");let a={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===eI){b(n?.type===tL,e,"argument-error");let r=await tU(e,t,n);return tN(e,r)}return tN(e,t)},o=eM(e,a,"mfaSmsSignIn",s,"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{let t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},i=async(e,t)=>{if(t.captchaResponse===eI){b(n?.type===tL,e,"argument-error");let r=await tU(e,t,n);return eq(e,r)}return eq(e,t)},a=eM(e,t,"sendVerificationCode",i,"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).sessionInfo}}finally{n?._reset()}}async function tU(e,t,n){b(n.type===tL,e,"argument-error");let r=await n.verify();b("string"==typeof r,e,"argument-error");let i={...t};if("phoneEnrollmentInfo"in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if(!("phoneSignInInfo"in i))return Object.assign(i,{recaptchaToken:r}),i;{let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}}class tj{constructor(e){this.providerId=tj.PROVIDER_ID,this.auth=eS(e)}verifyPhoneNumber(e,t){return tH(this.auth,e,(0,i.getModularInstance)(t))}static credential(e,t){return eJ._fromVerification(e,t)}static credentialFromResult(e){return tj.credentialFromTaggedObject(e)}static credentialFromError(e){return tj.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?eJ._fromTokenResponse(t,n):null}}function tF(e,t){return t?ei(t):(b(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}tj.PROVIDER_ID="phone",tj.PHONE_SIGN_IN_METHOD="phone";class tB extends eL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eV(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eV(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eV(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tz(e){return tr(e.auth,new tB(e),e.bypassAuthState)}function t$(e){let{auth:t,user:n}=e;return b(n,t,"internal-error"),tn(n,new tB(e),e.bypassAuthState)}async function tV(e){let{auth:t,user:n}=e;return b(n,t,"internal-error"),tt(n,new tB(e),e.bypassAuthState)}class tW{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);let o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tz;case"linkViaPopup":case"linkViaRedirect":return tV;case"reauthViaPopup":case"reauthViaRedirect":return t$;default:f(this.auth,"internal-error")}}resolve(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||y(n),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||y(n),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}let tq=new S(2e3,1e4);async function tG(e,t,n){if((0,r._isFirebaseServerApp)(e.app))return Promise.reject(p(e,"operation-not-supported-in-this-environment"));let i=eS(e);if(!(t instanceof e0))throw e0.name!==t.constructor.name&&f(e,"argument-error"),g(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`);let a=tF(i,n);return new tQ(i,"signInViaPopup",t,a).executeNotNull()}class tQ extends tW{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,tQ.currentPopupAction&&tQ.currentPopupAction.cancel(),tQ.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return b(e,this.auth,"internal-error"),e}async onExecution(){var e,t;e=1===this.filter.length,t="Popup operations only handle one event",e||y(t);let n=tw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tQ.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tq.get())};e()}}tQ.currentPopupAction=null;let tY=new Map;class tK extends tW{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=tY.get(this.auth._key());if(!e){try{let t=await tJ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}tY.set(this.auth._key(),e)}return this.bypassAuthState||tY.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type)return void this.resolve(null);if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tJ(e,t){var n;let r=es("pendingRedirect",(n=t).config.apiKey,n.name),i=ei(e._redirectPersistence);if(!await i._isAvailable())return!1;let a=await i._get(r)==="true";return await i._remove(r),a}function tZ(e,t){tY.set(e._key(),t)}async function tX(e,t,n=!1){if((0,r._isFirebaseServerApp)(e.app))return Promise.reject(m(e));let i=eS(e),a=tF(i,t),s=new tK(i,a,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}class t0{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t4(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!t4(e)){let n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(p(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(t1(e))}saveEventToCache(e){this.cachedEventUids.add(t1(e)),this.lastProcessedEventTime=Date.now()}}function t1(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function t4({type:e,error:t}){return"unknown"===e&&t?.code==="auth/no-auth-event"}async function t3(e,t={}){return k(e,"GET","/v1/projects",t)}let t2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t6=/^https?/;async function t5(e){if(e.config.emulator)return;let{authorizedDomains:t}=await t3(e);for(let e of t)try{if(function(e){let t=w(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!t6.test(n))return!1;if(t2.test(e))return r===e;let i=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}(e))return}catch{}f(e,"unauthorized-domain")}let t8=new S(3e4,6e4);function t7(){let e=tA().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let t9=null,ne=new S(5e3,15e3),nt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function nr(e){let t=await (t9=t9||new Promise((t,n)=>{function r(){t7(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{t7(),n(p(e,"network-request-failed"))},timeout:t8.get()})}if(tA().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(tA().gapi?.load)r();else{var i;let t=eT("iframefcb");return tA()[t]=()=>{gapi.load?r():n(p(e,"network-request-failed"))},(i=`${e_.gapiScript}?onload=${t}`,e_.loadJS(i)).catch(e=>n(e))}}).catch(e=>{throw t9=null,e})),n=tA().gapi;return b(n,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;b(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?C(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,a={apiKey:t.apiKey,appName:e.name,v:r.SDK_VERSION},s=nn.get(e.config.apiHost);s&&(a.eid=s);let o=e._getFrameworks();return o.length&&(a.fw=o.join(",")),`${n}?${(0,i.querystring)(a).slice(1)}`}(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nt,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=p(e,"network-request-failed"),a=tA().setTimeout(()=>{r(i)},ne.get());function s(){tA().clearTimeout(a),n(t)}t.ping(s).then(s,()=>{r(i)})}))}let ni={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class na{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}let ns=encodeURIComponent("fac");async function no(e,t,n,a,s,o){b(e.config.authDomain,e,"auth-domain-config-required"),b(e.config.apiKey,e,"invalid-api-key");let l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:a,v:r.SDK_VERSION,eventId:s};if(t instanceof e0)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.isEmpty)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(o||{})))l[n]=r;if(t instanceof e1){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}for(let t of(e.tenantId&&(l.tid=e.tenantId),Object.keys(l)))void 0===l[t]&&delete l[t];let c=await e._getAppCheckToken(),d=c?`#${ns}=${encodeURIComponent(c)}`:"";return`${function({config:e}){return e.emulator?C(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,i.querystring)(l).slice(1)}${d}`}let nl="webStorageSupport",nc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tb,this._completeRedirectFn=tX,this._overrideRedirectResult=tZ}async _openPopup(e,t,n,r){var a,s;a=this.eventManagers[e._key()]?.manager,s="_initialize() not called before _openPopup()",a||y(s);let o=await no(e,t,n,w(),r);return function(e,t,n,r=500,a=600){let s=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),l="",c={...ni,width:r.toString(),height:a.toString(),top:s,left:o},d=(0,i.getUA)().toLowerCase();n&&(l=eu(d)?"_blank":n),ec(d)&&(t=t||"http://localhost",c.scrollbars="yes");let u=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,i.getUA)()){return em(e)&&!!window.navigator?.standalone}(d)&&"_self"!==l)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new na(null);let h=window.open(t||"",l,u);b(h,e,"popup-blocked");try{h.focus()}catch(e){}return new na(h)}(e,o,tw())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=await no(e,t,n,w(),r),tA().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){var n;let{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(n="If manager is not set, promise should be",r||y(n),r)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await nr(e),n=new t0(e);return t.register("authEvent",t=>(b(t?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nl,{type:nl},n=>{let r=n?.[0]?.[nl];void 0!==r&&t(!!r),f(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=t5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ev()||ed()||em()}};var nd="@firebase/auth",nu="1.11.0";class nh{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}let nf=(0,i.getExperimentalSetting)("authIdTokenMaxAge")||300,np=null;function ng(e=(0,r.getApp)()){let t=(0,r._getProvider)(e,"auth");if(t.isInitialized())return t.getImmediate();let n=function(e,t){let n=(0,r._getProvider)(e,"auth");if(n.isInitialized()){let e=n.getImmediate(),r=n.getOptions();if((0,i.deepEqual)(r,t??{}))return e;f(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:nc,persistence:[tO,tv,tb]}),a=(0,i.getExperimentalSetting)("authTokenSyncURL");if(a&&"boolean"==typeof isSecureContext&&isSecureContext){let e=new URL(a,location.origin);if(location.origin===e.origin){let t,r=(t=e.toString(),async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nf)return;let i=n?.token;np!==i&&(np=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});(0,i.getModularInstance)(n).beforeAuthStateChanged(r,()=>r(n.currentUser)),(0,i.getModularInstance)(n).onIdTokenChanged(e=>r(e),void 0,void 0)}}let s=(0,i.getDefaultEmulatorHost)("auth");return s&&function(e,t,n){let r=eS(e);b(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let a=eO(t),{host:s,port:o}=function(e){let t=eO(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:eN(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:eN(t)}}}(t),l=null===o?"":`:${o}`,c={url:`${a}//${s}${l}/`},d=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!r._canInitEmulator){b(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),b((0,i.deepEqual)(c,r.config.emulator)&&(0,i.deepEqual)(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,(0,i.isCloudWorkstation)(s)?((0,i.pingServer)(`${a}//${s}${l}`),(0,i.updateEmulatorBanner)("Auth",!0)):function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${s}`),n}e_={loadJS:e=>new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{let t=p("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},n="Browser",(0,r._registerComponent)(new(0,o.Component)("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;b(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l=new eA(r,i,a,{apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eb(n)}),c=t?.persistence||[],d=(Array.isArray(c)?c:[c]).map(ei);return t?.errorMap&&l._updateErrorMap(t.errorMap),l._initializeWithPersistence(d,t?.popupRedirectResolver),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,r._registerComponent)(new(0,o.Component)("auth-internal",e=>new nh(eS(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.registerVersion)(nd,nu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),(0,r.registerVersion)(nd,nu,"esm2020")}),d("1s7jw",function(e,t){a(e.exports,"getMessaging",()=>c("iYMxJ").getMessaging),a(e.exports,"getToken",()=>c("iYMxJ").getToken),a(e.exports,"onMessage",()=>c("iYMxJ").onMessage),c("iYMxJ")}),d("iYMxJ",function(e,t){a(e.exports,"getMessaging",()=>K),a(e.exports,"getToken",()=>J),a(e.exports,"onMessage",()=>Z),c("4nl1t");var n,r,i,s,o=c("7vOQ3"),l=c("iItpQ"),d=c("dPHSJ"),u=c("86cnQ");let h="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",f="google.c.a.c_id";function p(e){return btoa(String.fromCharCode(...new Uint8Array(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(n=i||(i={}))[n.DATA_MESSAGE=1]="DATA_MESSAGE",n[n.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION",(r=s||(s={})).PUSH_RECEIVED="push-received",r.NOTIFICATION_CLICKED="notification-clicked";let g="fcm_token_details_db",m="fcm_token_object_Store";async function v(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(e=>e.name).includes(g))return null;let t=null;return(await (0,l.openDB)(g,5,{upgrade:async(n,r,i,a)=>{if(r<2||!n.objectStoreNames.contains(m))return;let s=a.objectStore(m),o=await s.index("fcmSenderId").get(e);if(await s.clear(),o)if(2===r){if(!o.auth||!o.p256dh||!o.endpoint)return;t={token:o.fcmToken,createTime:o.createTime??Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:p(o.vapidKey)}}}else 3===r?t={token:o.fcmToken,createTime:o.createTime,subscriptionOptions:{auth:p(o.auth),p256dh:p(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:p(o.vapidKey)}}:4===r&&(t={token:o.fcmToken,createTime:o.createTime,subscriptionOptions:{auth:p(o.auth),p256dh:p(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:p(o.vapidKey)}})}})).close(),await (0,l.deleteDB)(g),await (0,l.deleteDB)("fcm_vapid_details_db"),await (0,l.deleteDB)("undefined"),!function(e){if(!e||!e.subscriptionOptions)return!1;let{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?null:t}let b="firebase-messaging-store",y=null;function w(){return y||(y=(0,l.openDB)("firebase-messaging-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(b)}})),y}async function E(e){let t=function({appConfig:e}){return e.appId}(e),n=await w(),r=await n.transaction(b).objectStore(b).get(t);if(r)return r;{let t=await v(e.appConfig.senderId);if(t)return await A(e,t),t}}async function A(e,t){let n=function({appConfig:e}){return e.appId}(e),r=(await w()).transaction(b,"readwrite");return await r.objectStore(b).put(t,n),await r.done,t}let S=new(0,d.ErrorFactory)("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function C(e,t){let n,r={method:"POST",headers:await x(e),body:JSON.stringify(I(t))};try{let t=await fetch(D(e.appConfig),r);n=await t.json()}catch(e){throw S.create("token-subscribe-failed",{errorInfo:e?.toString()})}if(n.error){let e=n.error.message;throw S.create("token-subscribe-failed",{errorInfo:e})}if(!n.token)throw S.create("token-subscribe-no-token");return n.token}async function _(e,t){let n,r={method:"PATCH",headers:await x(e),body:JSON.stringify(I(t.subscriptionOptions))};try{let i=await fetch(`${D(e.appConfig)}/${t.token}`,r);n=await i.json()}catch(e){throw S.create("token-update-failed",{errorInfo:e?.toString()})}if(n.error){let e=n.error.message;throw S.create("token-update-failed",{errorInfo:e})}if(!n.token)throw S.create("token-update-no-token");return n.token}async function T(e,t){let n=await x(e);try{let r=await fetch(`${D(e.appConfig)}/${t}`,{method:"DELETE",headers:n}),i=await r.json();if(i.error){let e=i.error.message;throw S.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw S.create("token-unsubscribe-failed",{errorInfo:e?.toString()})}}function D({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}async function x({appConfig:e,installations:t}){let n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function I({p256dh:e,auth:t,endpoint:n,vapidKey:r}){let i={web:{endpoint:n,auth:t,p256dh:e}};return r!==h&&(i.web.applicationPubKey=r),i}async function k(e){let t=await P(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:p(t.getKey("auth")),p256dh:p(t.getKey("p256dh"))},r=await E(e.firebaseDependencies);if(!r)return M(e.firebaseDependencies,n);if(function(e,t){let n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}(r.subscriptionOptions,n))if(Date.now()>=r.createTime+6048e5)return R(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n});else return r.token;try{await T(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return M(e.firebaseDependencies,n)}async function R(e,t){try{let n=await _(e.firebaseDependencies,t),r={...t,token:n,createTime:Date.now()};return await A(e.firebaseDependencies,r),n}catch(e){throw e}}async function M(e,t){let n={token:await C(e,t),createTime:Date.now(),subscriptionOptions:t};return await A(e,n),n.token}async function P(e,t){let n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(e){let t="=".repeat((4-e.length%4)%4),n=atob((e+t).replace(/\-/g,"+").replace(/_/g,"/")),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return r}(t)})}function O(e){var t,n;let r={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};let n=t.notification.title;n&&(e.notification.title=n);let r=t.notification.body;r&&(e.notification.body=r);let i=t.notification.image;i&&(e.notification.image=i);let a=t.notification.icon;a&&(e.notification.icon=a)}(r,e),t=r,(n=e).data&&(t.data=n.data),function(e,t){if(!t.fcmOptions&&!t.notification?.click_action)return;e.fcmOptions={};let n=t.fcmOptions?.link??t.notification?.click_action;n&&(e.fcmOptions.link=n);let r=t.fcmOptions?.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(r,e),r}var N="AzSCbw63g1R0nCw85jG8",L="Iaya3yLKwmgvh7cF0q4";let H=[];for(let e=0;e<N.length;e++)H.push(N.charAt(e)),e<L.length&&H.push(L.charAt(e));function U(e){return S.create("missing-app-config-values",{valueName:e})}H.join("");class j{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let r=function(e){if(!e||!e.options)throw U("App Configuration Object");if(!e.name)throw U("App Name");let{options:t}=e;for(let e of["projectId","apiKey","appId","messagingSenderId"])if(!t[e])throw U(e);return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function F(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{}),await B(e.swRegistration)}catch(e){throw S.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function B(e){return new Promise((t,n)=>{let r=setTimeout(()=>n(Error("Service worker not registered after 10000 ms")),1e4),i=e.installing||e.waiting;e.active?(clearTimeout(r),t()):i?i.onstatechange=e=>{e.target?.state==="activated"&&(i.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(Error("No incoming service worker found.")))})}async function z(e,t){if(t||e.swRegistration||await F(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw S.create("invalid-sw-registration");e.swRegistration=t}}async function $(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=h)}async function V(e,t){if(!navigator)throw S.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw S.create("permission-blocked");return await $(e,t?.vapidKey),await z(e,t?.serviceWorkerRegistration),k(e)}async function W(e,t,n){let r=function(e){switch(e){case s.NOTIFICATION_CLICKED:return"notification_open";case s.PUSH_RECEIVED:return"notification_foreground";default:throw Error()}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[f],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function q(e,t){let n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===s.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(O(n)):e.onMessageHandler.next(O(n)));let r=n.data;"object"==typeof r&&r&&f in r&&"1"===r["google.c.a.e"]&&await W(e,n.messageType,r)}let G="@firebase/messaging",Q="0.12.23";async function Y(){try{await (0,d.validateIndexedDBOpenable)()}catch(e){return!1}return"undefined"!=typeof window&&(0,d.isIndexedDBAvailable)()&&(0,d.areCookiesEnabled)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function K(e=(0,u.getApp)()){return Y().then(e=>{if(!e)throw S.create("unsupported-browser")},e=>{throw S.create("indexed-db-unsupported")}),(0,u._getProvider)((0,d.getModularInstance)(e),"messaging").getImmediate()}async function J(e,t){return V(e=(0,d.getModularInstance)(e),t)}function Z(e,t){var n=e=(0,d.getModularInstance)(e);if(!navigator)throw S.create("only-available-in-window");return n.onMessageHandler=t,()=>{n.onMessageHandler=null}}(0,u._registerComponent)(new(0,o.Component)("messaging",e=>{let t=new j(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>q(t,e)),t},"PUBLIC")),(0,u._registerComponent)(new(0,o.Component)("messaging-internal",e=>{let t=e.getProvider("messaging").getImmediate();return{getToken:e=>V(t,e)}},"PRIVATE")),(0,u.registerVersion)(G,Q),(0,u.registerVersion)(G,Q,"esm2020")}),d("4nl1t",function(e,t){var n=c("86cnQ"),r=c("7vOQ3"),i=c("dPHSJ"),a=c("iItpQ");let s="@firebase/installations",o="0.6.19",l=`w:${o}`,d="FIS_v2",u=new(0,i.ErrorFactory)("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function h(e){return e instanceof i.FirebaseError&&e.code.includes("request-failed")}function f({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function p(e){return{token:e.token,requestStatus:2,expiresIn:Number(e.expiresIn.replace("s","000")),creationTime:Date.now()}}async function g(e,t){let n=(await t.json()).error;return u.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function m({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function v(e){let t=await e();return t.status>=500&&t.status<600?e():t}async function b({appConfig:e,heartbeatServiceProvider:t},{fid:n}){let r=f(e),i=m(e),a=t.getImmediate({optional:!0});if(a){let e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}let s={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:d,appId:e.appId,sdkVersion:l})},o=await v(()=>fetch(r,s));if(o.ok){let e=await o.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:p(e.authToken)}}throw await g("Create Installation",o)}function y(e){return new Promise(t=>{setTimeout(t,e)})}let w=/^[cdef][\w-]{21}$/;function E(e){return`${e.appName}!${e.appId}`}let A=new Map;function S(e,t){let n=E(e);C(n,t),function(e,t){let n=(!_&&"BroadcastChannel"in self&&((_=new BroadcastChannel("[Firebase] FID Change")).onmessage=e=>{C(e.data.key,e.data.fid)}),_);n&&n.postMessage({key:e,fid:t}),0===A.size&&_&&(_.close(),_=null)}(n,t)}function C(e,t){let n=A.get(e);if(n)for(let e of n)e(t)}let _=null,T="firebase-installations-store",D=null;function x(){return D||(D=(0,a.openDB)("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(T)}})),D}async function I(e,t){let n=E(e),r=(await x()).transaction(T,"readwrite"),i=r.objectStore(T),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||S(e,t.fid),t}async function k(e){let t=E(e),n=(await x()).transaction(T,"readwrite");await n.objectStore(T).delete(t),await n.done}async function R(e,t){let n=E(e),r=(await x()).transaction(T,"readwrite"),i=r.objectStore(T),a=await i.get(n),s=t(a);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,s&&(!a||a.fid!==s.fid)&&S(e,s.fid),s}async function M(e){let t,n=await R(e.appConfig,n=>{let r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(u.create("app-offline"))};let n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=P(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:O(e)}:{installationEntry:t}}(e,L(n||{fid:function(){try{var e;let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22));return w.test(n)?n:""}catch{return""}}(),registrationStatus:0}));return t=r.registrationPromise,r.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function P(e,t){try{let n=await b(e,t);return I(e.appConfig,n)}catch(n){throw h(n)&&409===n.customData.serverCode?await k(e.appConfig):await I(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function O(e){let t=await N(e.appConfig);for(;1===t.registrationStatus;)await y(100),t=await N(e.appConfig);if(0===t.registrationStatus){let{installationEntry:t,registrationPromise:n}=await M(e);return n||t}return t}function N(e){return R(e,e=>{if(!e)throw u.create("installation-not-found");return L(e)})}function L(e){var t;return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e}async function H({appConfig:e,heartbeatServiceProvider:t},n){let r=function(e,{fid:t}){return`${f(e)}/${t}/authTokens:generate`}(e,n),i=function(e,{refreshToken:t}){var n;let r=m(e);return r.append("Authorization",(n=t,`${d} ${n}`)),r}(e,n),a=t.getImmediate({optional:!0});if(a){let e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}let s={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:l,appId:e.appId}})},o=await v(()=>fetch(r,s));if(o.ok)return p(await o.json());throw await g("Generate Auth Token",o)}async function U(e,t=!1){let n,r=await R(e.appConfig,r=>{var i;if(!z(r))throw u.create("not-registered");let a=r.authToken;if(!t&&2===(i=a).requestStatus&&!function(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i))return r;if(1===a.requestStatus)return n=j(e,t),r;{if(!navigator.onLine)throw u.create("app-offline");let t=function(e){let t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}(r);return n=B(e,t),t}});return n?await n:r.authToken}async function j(e,t){let n=await F(e.appConfig);for(;1===n.authToken.requestStatus;)await y(100),n=await F(e.appConfig);let r=n.authToken;return 0===r.requestStatus?U(e,t):r}function F(e){return R(e,e=>{var t;if(!z(e))throw u.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?{...e,authToken:{requestStatus:0}}:e})}async function B(e,t){try{let n=await H(e,t),r={...t,authToken:n};return await I(e.appConfig,r),n}catch(n){if(h(n)&&(401===n.customData.serverCode||404===n.customData.serverCode))await k(e.appConfig);else{let n={...t,authToken:{requestStatus:0}};await I(e.appConfig,n)}throw n}}function z(e){return void 0!==e&&2===e.registrationStatus}async function $(e){let{installationEntry:t,registrationPromise:n}=await M(e);return n?n.catch(console.error):U(e).catch(console.error),t.fid}async function V(e,t=!1){return await W(e),(await U(e,t)).token}async function W(e){let{registrationPromise:t}=await M(e);t&&await t}function q(e){return u.create("missing-app-config-values",{valueName:e})}let G="installations";(0,n._registerComponent)(new(0,r.Component)(G,e=>{let t=e.getProvider("app").getImmediate(),r=function(e){if(!e||!e.options)throw q("App Configuration");if(!e.name)throw q("App Name");for(let t of["projectId","apiKey","appId"])if(!e.options[t])throw q(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),i=(0,n._getProvider)(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},"PUBLIC")),(0,n._registerComponent)(new(0,r.Component)("installations-internal",e=>{let t=e.getProvider("app").getImmediate(),r=(0,n._getProvider)(t,G).getImmediate();return{getId:()=>$(r),getToken:e=>V(r,e)}},"PRIVATE")),(0,n.registerVersion)(s,o),(0,n.registerVersion)(s,o,"esm2020")}),d("dfaKa",function(e,t){a(e.exports,"mostrarToast",()=>n);function n(e,t="success"){let r=document.getElementById("toast-container");r||((r=document.createElement("div")).id="toast-container",r.style.position="fixed",r.style.top="20px",r.style.right="20px",r.style.zIndex="9999",document.body.appendChild(r));let i=document.createElement("div");i.className=`toast align-items-center text-bg-${t} border-0 show`,i.role="alert",i.ariaLive="assertive",i.ariaAtomic="true",i.innerHTML=`
    <div class="d-flex">
      <div class="toast-body">${e}</div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Fechar"></button>
    </div>
  `,r.appendChild(i),setTimeout(()=>i.remove(),4e3)}}),d("39SqC",function(e,t){e.exports=import.meta.resolve("lN1BN")});class u{static render(e={}){return`
      <div class="container py-5">
        <div class="row justify-content-center">
          <div class="col-md-6 col-lg-5">
            <div class="card shadow-sm">
              <div class="card-body p-4">
                <h2 class="mb-4 fw-bold text-center">Entrar</h2>
                ${e.errorMessage?`<div class='alert alert-danger'>${e.errorMessage}</div>`:""}
                <form id="form-login" onsubmit="${e.onSubmit||"handleLoginSubmit"}(event)">
                  <div class="mb-3">
                    <label for="email" class="form-label">E-mail</label>
                    <input type="email" class="form-control" id="email" name="email" required>
                  </div>
                  <div class="mb-3">
                    <label for="senha" class="form-label">Senha</label>
                    <input type="password" class="form-control" id="senha" name="senha" required>
                  </div>
                  <button type="submit" class="btn btn-primary w-100">Entrar</button>
                </form>
                <div class="mt-3">
                  <button id="btnGoogleLogin" class="btn btn-outline-danger w-100">
                    <i class="bi bi-google me-1"></i> Continuar com Google
                  </button>
                </div>
                <div class="mt-3 text-center">
                  <a href="/cadastro">N\xe3o tem conta? Cadastre-se</a>
                </div>
                <div class="mt-2 text-center">
                  <a href="#" id="linkForgotPassword">Esqueci minha senha</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}}var h=c("dfaKa"),f=c("l9cRd");class p{static setAuthProvider(t){e=t}static async login(t){try{let{email:n,senha:r}=t;if(!e)throw Error("Auth provider não foi configurado.");let i=await e.login(n,r);if(!i)return(0,h.mostrarToast)("Email ou senha inválidos","danger"),{success:!1,error:"Email ou senha inválidos"};let a="";try{a=await i.getIdToken(),localStorage.setItem("token",a)}catch(e){console.warn("Não foi possível obter idToken do Firebase:",e)}let s=i.uid??i.id,o=i.displayName??i.nome??"",l=i.email??n;try{(await fetch("http://localhost:3000/api/auth/sincronizar-usuario",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:s,email:l,nome:o})})).ok?console.log("Usuário sincronizado com o backend"):console.warn("Erro ao sincronizar usuário com o backend (não fatal).")}catch(e){console.warn("Erro ao sincronizar com o backend:",e)}try{let e=await fetch("http://localhost:3000/api/auth/firebase-login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({uid:s})});if(!e.ok){let t="Falha ao criar sessão no backend.";try{t=(await e.json()).error||t}catch(e){}return(0,h.mostrarToast)(t,"danger"),{success:!1,error:t}}let t=await e.json(),n=t.professor??t.data??t;(0,h.mostrarToast)("Login realizado com sucesso!","success");try{await (0,f.setupPushAfterLogin)(a)}catch(e){console.warn("Falha ao configurar push após login:",e)}return{success:!0,data:n}}catch(e){return console.warn("Erro ao criar sessão no backend:",e),(0,h.mostrarToast)("Erro ao criar sessão no backend.","danger"),{success:!1,error:"Erro ao criar sessão no backend."}}}catch(t){console.error("Erro no login:",t);let e=t&&t.message?t.message:"Erro ao fazer login. Tente novamente.";return(0,h.mostrarToast)(e,"danger"),{success:!1,error:e}}}}var h=c("dfaKa");class g{static required(e){return{test:e=>null!=e&&""!==e.toString().trim(),message:"Este campo é obrigatório"}}static email(e){return{test:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),message:"E-mail deve ser válido"}}static minLength(e){return{test:t=>t&&t.toString().length>=e,message:`Deve ter pelo menos ${e} caracteres`}}static maxLength(e){return{test:t=>!t||t.toString().length<=e,message:`Deve ter no m\xe1ximo ${e} caracteres`}}static pattern(e,t){return{test:t=>e.test(t),message:t}}static numeric(e){return{test:e=>!isNaN(Number(e))&&Number(e)>=0,message:"Deve ser um número válido"}}static positive(e){return{test:e=>Number(e)>0,message:"Deve ser um valor positivo"}}static date(e){return{test:e=>!isNaN(Date.parse(e)),message:"Data deve ser válida"}}static futureDate(e){return{test:e=>new Date(e)>new Date,message:"Data deve ser futura"}}static telefone(e){return{test:e=>/^\(\d{2}\) \d{4,5}-\d{4}$/.test(e),message:"Telefone deve estar no formato (11) 99999-9999"}}static linkUnico(e){return{test:e=>/^[a-zA-Z0-9-_]+$/.test(e),message:"Link único deve conter apenas letras, números, hífens e underscores"}}static validate(e,t){let n=[];for(let r of t)r.test(e)||n.push(r.message);return{isValid:0===n.length,errors:n}}static validateLogin(e){let t=[],n=this.validate(e.email,[this.required(e.email),this.email(e.email)]),r=this.validate(e.senha,[this.required(e.senha),this.minLength(6)]);return t.push(...n.errors,...r.errors),{isValid:0===t.length,errors:t}}static validateCadastro(e){let t=[],n=this.validate(e.nome,[this.required(e.nome),this.minLength(3)]),r=this.validate(e.email,[this.required(e.email),this.email(e.email)]),i=this.validate(e.senha,[this.required(e.senha),this.minLength(6)]);return t.push(...n.errors,...r.errors,...i.errors),e.senha!==e.confirmarSenha&&t.push("As senhas não coincidem"),{isValid:0===t.length,errors:t}}static validateAula(e){let t=[],n=this.validate(e.titulo,[this.required(e.titulo),this.minLength(3)]),r=this.validate(e.conteudo,[this.required(e.conteudo),this.minLength(10)]),i=this.validate(e.valor,[this.required(e.valor),this.numeric(e.valor),this.positive(e.valor)]),a=this.validate(e.duracao,[this.required(e.duracao),this.numeric(e.duracao),this.positive(e.duracao)]),s=this.validate(e.maxAlunos,[this.required(e.maxAlunos),this.numeric(e.maxAlunos),this.positive(e.maxAlunos)]),o=this.validate(e.dataHora,[this.required(e.dataHora),this.date(e.dataHora),this.futureDate(e.dataHora)]);return t.push(...n.errors,...r.errors,...i.errors,...a.errors,...s.errors,...o.errors),{isValid:0===t.length,errors:t}}}var m=c("knadl");c("6AR8M");var v=c("44P4X");async function b(e){e.innerHTML=u.render();let t=document.getElementById("form-login");t&&(t.onsubmit=y);let n=document.getElementById("btnGoogleLogin");n&&n.addEventListener("click",e=>{e.preventDefault(),w()});let r=document.getElementById("linkForgotPassword");r&&r.addEventListener("click",e=>{e.preventDefault(),E()})}async function y(e){e.preventDefault();let t=e.target,n={email:t.email.value,senha:t.senha.value},r=g.validateLogin(n);if(!r.isValid)return void r.errors.forEach(e=>(0,h.mostrarToast)(e,"danger"));let i=await p.login(n);i.success?setTimeout(()=>{window.location.href="/dashboard"},1200):(0,h.mostrarToast)(i.error||"Erro no login","danger")}async function w(){try{let e=(await (0,v.d)(m.auth,m.provider)).user;if(!e)throw Error("Falha ao autenticar com Google.");let t=e.uid,n=e.email||"",r=e.displayName||"";try{await fetch("http://localhost:3000/api/auth/sincronizar-usuario",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:t,email:n,nome:r})})}catch(e){console.warn("Sync backend falhou (continuando):",e)}let i=await fetch("http://localhost:3000/api/auth/firebase-login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({uid:t})});if(!i.ok){let e="Falha ao criar sessão no backend.";try{e=(await i.json()).error||e}catch{}throw Error(e)}(0,h.mostrarToast)("Login com Google realizado!","success"),setTimeout(()=>{window.location.href="/dashboard"},900)}catch(e){console.error("[GoogleLogin] erro:",e),(0,h.mostrarToast)(e?.message||"Erro no login com Google","danger")}}async function E(){try{let e=document.getElementById("email"),t=e?.value?.trim();if(!t)return void(0,h.mostrarToast)("Informe seu e-mail para recuperar a senha.","warning");await (0,v.a6)(m.auth,t),(0,h.mostrarToast)("E-mail de redefinição enviado! Verifique sua caixa de entrada.","success")}catch(t){console.error("[ForgotPassword] erro:",t);let e=t?.message||"Erro ao enviar e-mail de redefinição.";(0,h.mostrarToast)(e,"danger")}}class A{static render(e={}){return`
      <div class="container py-5">
        <div class="row justify-content-center">
          <div class="col-md-6 col-lg-5">
            <div class="card shadow-sm">
              <div class="card-body p-4">
                <h2 class="mb-4 fw-bold text-center">Criar Conta</h2>
                ${e.errorMessage?`<div class='alert alert-danger'>${e.errorMessage}</div>`:""}
                <form id="form-cadastro" onsubmit="${e.onSubmit||"handleCadastroSubmit"}(event)">
                  <div class="mb-3">
                    <label for="nome" class="form-label">Nome</label>
                    <input type="text" class="form-control" id="nome" name="nome" required>
                  </div>
                  <div class="mb-3">
                    <label for="email" class="form-label">E-mail</label>
                    <input type="email" class="form-control" id="email" name="email" required>
                  </div>
                  <div class="mb-3">
                    <label for="senha" class="form-label">Senha</label>
                    <input type="password" class="form-control" id="senha" name="senha" required minlength="6">
                  </div>
                  <div class="mb-3">
                    <label for="confirmarSenha" class="form-label">Confirmar Senha</label>
                    <input type="password" class="form-control" id="confirmarSenha" name="confirmarSenha" required minlength="6">
                  </div>
                  <button type="submit" class="btn btn-primary w-100">Cadastrar</button>
                </form>
                <div class="mt-3">
                  <button id="btnGoogleCadastro" class="btn btn-outline-danger w-100">
                    <i class="bi bi-google me-1"></i> Cadastrar com Google
                  </button>
                </div>
                <div class="mt-3 text-center">
                  <a href="/login">J\xe1 tem conta? Entrar</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}}var h=c("dfaKa");class S{static setAuthProvider(e){t=e}static validate(e){return g.validateCadastro(e)}static async cadastrar(e){try{if(!t)throw Error("Auth provider não foi configurado.");let n=await t.registrar({nome:e.nome,email:e.email,senha:e.senha});try{let t=await fetch("http://localhost:3000/api/professores/cadastro",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:e.nome,email:e.email,senha:e.senha,descricao:e.descricao,conteudosDominio:e.conteudosDominio||[]})});if(!t.ok){let e=await t.json();console.warn("Erro no backend, mas usuário criado no Firebase:",e)}}catch(e){console.warn("Erro ao conectar com o backend:",e)}return(0,h.mostrarToast)("Cadastro realizado com sucesso!","success"),{success:!0,data:{id:n.id,nome:n.nome,email:n.email}}}catch(e){return console.error("Erro no cadastro:",e),e.message.includes("email já está sendo usado")||e.message.includes("email já está cadastrado")?((0,h.mostrarToast)("Este email já está cadastrado. Tente fazer login.","warning"),setTimeout(()=>{window.location.href="/login"},2e3)):e.message.includes("senha deve ter pelo menos 6 caracteres")?(0,h.mostrarToast)("A senha deve ter pelo menos 6 caracteres.","danger"):e.message.includes("Email inválido")?(0,h.mostrarToast)("Por favor, insira um email válido.","danger"):e.message.includes("Cadastro com email/senha não está habilitado")?(0,h.mostrarToast)("Erro na configuração do sistema. Entre em contato com o suporte.","danger"):(0,h.mostrarToast)(e.message||"Erro ao cadastrar. Tente novamente.","danger"),{success:!1,error:e.message||"Erro desconhecido"}}}}var h=c("dfaKa"),m=c("knadl");c("6AR8M");var v=c("44P4X");async function C(e){e.innerHTML=A.render(),function(){let e=document.getElementById("form-cadastro");e&&(e.onsubmit=T),window.handleCadastroSubmit=T;let t=document.getElementById("btnGoogleCadastro");t&&t.addEventListener("click",async e=>{e.preventDefault(),await _()})}()}async function _(){try{let e=(await (0,v.d)(m.auth,m.provider)).user;if(!e)throw Error("Falha ao autenticar com Google.");let t=e.uid,n=e.email||"",r=e.displayName||"";try{await fetch("http://localhost:3000/api/auth/sincronizar-usuario",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:t,email:n,nome:r})})}catch(e){console.warn("Sync backend falhou (continuando):",e)}let i=await fetch("http://localhost:3000/api/auth/firebase-login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({uid:t})});if(!i.ok){let e="Falha ao criar sessão no backend.";try{e=(await i.json()).error||e}catch{}throw Error(e)}(0,h.mostrarToast)("Cadastro com Google realizado!","success"),setTimeout(()=>{window.location.href="/dashboard"},900)}catch(e){console.error("[CadastroGoogle] erro:",e),(0,h.mostrarToast)(e?.message||"Erro no cadastro com Google","danger")}}async function T(e){e.preventDefault();let t=e.target,n={nome:t.nome.value,email:t.email.value,senha:t.senha.value,confirmarSenha:t.confirmarSenha.value},r=S.validate(n);if(!r.isValid)return void r.errors.forEach(e=>(0,h.mostrarToast)(e,"danger"));let i=await S.cadastrar(n);i.success?setTimeout(()=>{window.history.pushState({},"","/login"),window.dispatchEvent(new PopStateEvent("popstate"))},1200):(0,h.mostrarToast)(i.error||"Erro ao cadastrar","danger")}class D{static render(e){let{title:t,content:n,header:r="",footer:i="",containerClass:a="container-fluid bg-light min-vh-100",bodyClass:s="container py-4"}=e;return`
      <div class="${a}">
        ${r}
        <div class="${s}">
          ${n}
        </div>
        ${i}
      </div>
    `}static renderWithTitle(e){let{title:t,...n}=e,r=`
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-bold mb-0">${t}</h2>
      </div>
    `;return this.render({...n,title:t,content:r+n.content})}}class x{static render(e){let{text:t,type:n="button",variant:r="primary",size:i="md",disabled:a=!1,icon:s,className:o="",id:l=""}=e,c=s?`<i class="${s}"></i> `:"",d=l?`id="${l}"`:"";return`
      <button 
        type="${n}" 
        class="btn btn-${r} ${"sm"===i?"btn-sm":"lg"===i?"btn-lg":""} ${o}" 
        ${a?"disabled":""}
        ${d}
      >
        ${c}${t}
      </button>
    `}static renderWithClick(e){let t=this.render(e);return e.onClick?t.replace("<button",`<button onclick="(${e.onClick.toString()})()"`):t}}class I{static render(e){let{title:t,content:n,footer:r,className:i="",id:a="",headerActions:s=""}=e,o=a?`id="${a}"`:"",l=t?`
      <div class="card-header d-flex justify-content-between align-items-center">
        <h6 class="card-title mb-0">${t}</h6>
        ${s}
      </div>
    `:"",c=r?`<div class="card-footer">${r}</div>`:"";return`
      <div class="card h-100 shadow-sm ${i}" ${o}>
        ${l}
        <div class="card-body">
          ${n}
        </div>
        ${c}
      </div>
    `}}class k{static render(e){let t=(Array.isArray(e.reservas)?e.reservas:[]).filter(e=>"ativa"===String(e?.status||"").toLowerCase()),n="number"==typeof e.vagasRestantes?e.vagasRestantes:e.maxAlunos-t.length,r=`
      <div class="dropdown">
        <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
          <i class="bi bi-three-dots"></i>
        </button>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="#" onclick="editarAula('${e.id}')">
            <i class="bi bi-pencil"></i> Editar
          </a></li>
          <li><a class="dropdown-item" href="#" onclick="excluirAula('${e.id}')">
            <i class="bi bi-trash"></i> Excluir
          </a></li>
        </ul>
      </div>
    `,i=`
      <div class="row mb-3">
        <div class="col-6">
          <small class="text-muted">Conte\xfado</small>
          <div class="fw-semibold">${e.conteudo}</div>
        </div>
        <div class="col-6">
          <small class="text-muted">Data/Hora</small>
          <div class="fw-semibold">${new Date(e.dataHora).toLocaleString()}</div>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-6">
          <small class="text-muted">Dura\xe7\xe3o</small>
          <div class="fw-semibold">${e.duracaoFormatada||e.duracao+" min"}</div>
        </div>
        <div class="col-6">
          <small class="text-muted">Valor</small>
          <div class="fw-semibold text-success">R$ ${e.valor?.toFixed(2)||"-"}</div>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-6">
          <small class="text-muted">Vagas</small>
          <div class="fw-semibold">${n} / ${e.maxAlunos}</div>
        </div>
        <div class="col-6">
          <small class="text-muted">Status</small>
          <div><span class="badge bg-${this.getStatusColor(e.status)}">${e.status}</span></div>
        </div>
      </div>
      ${e.observacoes?`
        <div class="mb-3">
          <small class="text-muted">Observa\xe7\xf5es</small>
          <div class="fw-semibold">${e.observacoes}</div>
        </div>
      `:""}
      
    `;return I.render({title:e.titulo,content:i,headerActions:r,className:"h-100"})}static getStatusColor(e){switch(e){case"disponivel":return"success";case"lotada":return"warning";case"cancelada":return"danger";case"reagendada":return"info";default:return"secondary"}}}class R{static render(e){let{id:t,title:n,content:r,footer:i="",size:a="md",closeButton:s=!0}=e;return`
      <div class="modal fade" id="${t}" tabindex="-1" aria-labelledby="${t}Label" aria-hidden="true">
        <div class="modal-dialog ${"sm"===a?"modal-sm":"lg"===a?"modal-lg":"xl"===a?"modal-xl":""}">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="${t}Label">${n}</h5>
              ${s?'<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>':""}
            </div>
            <div class="modal-body">
              ${r}
            </div>
            ${i?`<div class="modal-footer">${i}</div>`:""}
          </div>
        </div>
      </div>
    `}static renderFormModal(e){let{formId:t,footer:n="",...r}=e,i=`
      <form id="${t}">
        ${r.content}
        ${n?`<div class='modal-footer'>${n}</div>`:""}
      </form>
    `;return this.render({...r,content:i,footer:""})}}class M{static render(e){let{label:t,name:n,type:r,value:i="",required:a=!1,placeholder:s="",className:o="",id:l="",options:c=[],rows:d=3,step:u,min:h,max:f,disabled:p=!1}=e,g=l?`id="${l}"`:"",m=a?"required":"",v=p?"disabled":"",b=u?`step="${u}"`:"",y=h?`min="${h}"`:"",w=f?`max="${f}"`:"",E="";if("textarea"===r)E=`
        <textarea 
          class="form-control ${o}" 
          name="${n}" 
          ${g}
          ${m}
          ${v}
          placeholder="${s}"
          rows="${d}"
        >${i}</textarea>
      `;else if("select"===r){let e=c.map(e=>`<option value="${e.value}" ${i===e.value?"selected":""}>${e.label}</option>`).join("");E=`
        <select 
          class="form-control ${o}" 
          name="${n}" 
          ${g}
          ${m}
          ${v}
        >
          ${e}
        </select>
      `}else E=`
        <input 
          type="${r}" 
          class="form-control ${o}" 
          name="${n}" 
          value="${i}"
          ${g}
          ${m}
          ${v}
          ${b}
          ${y}
          ${w}
          placeholder="${s}"
        >
      `;return`
      <div class="mb-3">
        <label class="form-label">${t}</label>
        ${E}
      </div>
    `}}class P{static renderNovaAula(){let e=`
      <input type="hidden" name="aulaId">
      <div class="row">
        <div class="col-md-6">
          ${M.render({label:"Título",name:"titulo",type:"text",required:!0})}
        </div>
        <div class="col-md-6">
          ${M.render({label:"Conteúdo",name:"conteudo",type:"text",required:!0})}
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          ${M.render({label:"Valor (R$)",name:"valor",type:"number",step:"0.01",required:!0})}
        </div>
        <div class="col-md-4">
          ${M.render({label:"Duração (minutos)",name:"duracao",type:"number",required:!0})}
        </div>
        <div class="col-md-4">
          ${M.render({label:"Vagas",name:"maxAlunos",type:"number",min:"1",value:"1",required:!0})}
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          ${M.render({label:"Data/Hora",name:"dataHora",type:"datetime-local",required:!0})}
        </div>
        <div class="col-md-6">
          ${M.render({label:"Status",name:"status",type:"select",options:[{value:"disponivel",label:"Disponível"},{value:"lotada",label:"Lotada"},{value:"cancelada",label:"Cancelada"}]})}
        </div>
      </div>
      ${M.render({label:"Observações",name:"observacoes",type:"textarea",rows:3})}
    `,t=`
      ${x.render({text:"Cancelar",type:"button",variant:"secondary",className:"me-2"})}
      ${x.render({text:"Salvar",type:"submit",variant:"primary"})}
    `;return R.renderFormModal({id:"modalNovaAula",title:"Nova Aula",content:e,footer:t,formId:"formNovaAula",size:"lg"})}static renderEditarAula(e){let t=`
      <input type="hidden" name="aulaId" id="editAulaId" value="${e.titulo||""}">
      <div class="row">
        <div class="col-md-6">
          ${M.render({label:"Título",name:"titulo",type:"text",value:e.titulo||"",required:!0,id:"editTitulo"})}
        </div>
        <div class="col-md-6">
          ${M.render({label:"Conteúdo",name:"conteudo",type:"text",value:e.conteudo||"",required:!0,id:"editConteudo"})}
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          ${M.render({label:"Valor (R$)",name:"valor",type:"number",value:e.valor||"",step:"0.01",required:!0,id:"editValor"})}
        </div>
        <div class="col-md-4">
          ${M.render({label:"Duração (minutos)",name:"duracao",type:"number",value:e.duracao||"",required:!0,id:"editDuracao"})}
        </div>
        <div class="col-md-4">
          ${M.render({label:"Vagas",name:"maxAlunos",type:"number",value:e.maxAlunos||"",min:"1",required:!0,id:"editMaxAlunos"})}
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          ${M.render({label:"Data/Hora",name:"dataHora",type:"datetime-local",value:e.dataHora||"",required:!0,id:"editDataHora"})}
        </div>
        <div class="col-md-6">
          ${M.render({label:"Status",name:"status",type:"select",value:e.status||"disponivel",options:[{value:"disponivel",label:"Disponível"},{value:"lotada",label:"Lotada"},{value:"cancelada",label:"Cancelada"}],id:"editStatus"})}
        </div>
      </div>
      ${M.render({label:"Observações",name:"observacoes",type:"textarea",value:e.observacoes||"",rows:3,id:"editObservacoes"})}
    `,n=`
      ${x.render({text:"Cancelar",type:"button",variant:"secondary",className:"me-2"})}
      ${x.render({text:"Salvar Alterações",type:"submit",variant:"primary"})}
    `;return R.renderFormModal({id:"modalEditarAula",title:"Editar Aula",content:t,footer:n,formId:"formEditarAula",size:"lg"})}}class O{static render(e){let t=new Date(e.dataHora),n=this.formatDuracao(e.duracao),r=this.getStatusBadge(e.status),i=Array.isArray(e.reservas)?e.reservas:[],a=i.filter(e=>"ativa"===String(e?.status||"").toLowerCase()),s=`${i.length} / ${e.maxAlunos}`,o=e.maxAlunos-a.length,l=`
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">T\xedtulo</label>
            <div class="form-control-plaintext">${e.titulo}</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">Status</label>
            <div class="form-control-plaintext">${r}</div>
          </div>
        </div>
      </div>
      
      <div class="mb-3">
        <label class="form-label fw-bold">Conte\xfado</label>
        <div class="form-control-plaintext">${e.conteudo}</div>
      </div>
      
      <div class="row">
        <div class="col-md-4">
          <div class="mb-3">
            <label class="form-label fw-bold">Data/Hora</label>
            <div class="form-control-plaintext">${t.toLocaleString()}</div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="mb-3">
            <label class="form-label fw-bold">Dura\xe7\xe3o</label>
            <div class="form-control-plaintext">${n}</div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="mb-3">
            <label class="form-label fw-bold">Valor</label>
            <div class="form-control-plaintext text-success fw-bold">R$ ${e.valor.toFixed(2)}</div>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">Vagas</label>
            <div class="form-control-plaintext">${s}</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">Vagas Restantes</label>
            <div class="form-control-plaintext">${o}</div>
          </div>
        </div>
      </div>
      
      ${e.observacoes?`
        <div class="mb-3">
          <label class="form-label fw-bold">Observa\xe7\xf5es</label>
          <div class="form-control-plaintext">${e.observacoes}</div>
        </div>
      `:""}
      
      <div class="mb-3">
        <label class="form-label fw-bold">Reservas (${i.length})</label>
        <div class="border rounded p-3" style="max-height: 200px; overflow-y: auto;">
          ${i.length>0?i.map(e=>this.renderReserva(e)).join(""):'<div class="text-muted">Nenhuma reserva realizada.</div>'}
        </div>
      </div>
    `,c=`
      ${x.render({text:"Reagendar",type:"button",variant:"warning",className:"me-2",id:"btn-reagendar-aula"})}
      ${x.render({text:"Editar Aula",type:"button",variant:"primary",className:"me-2",id:"btn-editar-aula-detail"})}
      ${x.render({text:"Fechar",type:"button",variant:"secondary",id:"btn-fechar-detail"})}
    `;return R.renderFormModal({id:"modalAulaDetail",title:"Detalhes da Aula",content:l,footer:c,formId:"formAulaDetail",size:"lg"})}static renderContent(e){let t=new Date(e.dataHora),n=this.formatDuracao(e.duracao),r=this.getStatusBadge(e.status),i=Array.isArray(e.reservas)?e.reservas:[],a=i.filter(e=>"ativa"===String(e?.status||"").toLowerCase());return i.length,e.maxAlunos,e.maxAlunos,a.length,`
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">T\xedtulo</label>
            <div class="form-control-plaintext">${e.titulo}</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">Status</label>
            <div class="form-control-plaintext">${r}</div>
          </div>
        </div>
      </div>
      
      <div class="mb-3">
        <label class="form-label fw-bold">Conte\xfado</label>
        <div class="form-control-plaintext">${e.conteudo}</div>
      </div>
      
      <div class="row">
        <div class="col-md-4">
          <div class="mb-3">
            <label class="form-label fw-bold">Data/Hora</label>
            <div class="form-control-plaintext">${t.toLocaleString()}</div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="mb-3">
            <label class="form-label fw-bold">Dura\xe7\xe3o</label>
            <div class="form-control-plaintext">${n}</div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="mb-3">
            <label class="form-label fw-bold">Valor</label>
            <div class="form-control-plaintext text-success fw-bold">R$ ${e.valor.toFixed(2)}</div>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">Vagas</label>
            <div class="form-control-plaintext">${e.reservas.length} / ${e.maxAlunos}</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label fw-bold">Vagas Restantes</label>
            <div class="form-control-plaintext">${e.maxAlunos-e.reservas.length}</div>
          </div>
        </div>
      </div>
      
      ${e.observacoes?`
        <div class="mb-3">
          <label class="form-label fw-bold">Observa\xe7\xf5es</label>
          <div class="form-control-plaintext">${e.observacoes}</div>
        </div>
      `:""}
      
      <div class="mb-3">
        <label class="form-label fw-bold">Reservas (${e.reservas.length})</label>
        <div class="border rounded p-3" style="max-height: 200px; overflow-y: auto;">
          ${e.reservas.length>0?e.reservas.map(e=>this.renderReserva(e)).join(""):'<div class="text-muted">Nenhuma reserva realizada.</div>'}
        </div>
      </div>

      <div class="mt-4">
        <div class="border rounded-3 p-3 bg-light" id="container-reagendar-aula">
          <div class="d-flex align-items-center mb-2">
            <i class="bi bi-arrow-repeat me-2 text-warning"></i>
            <h6 class="mb-0">Reagendar Aula</h6>
          </div>
          <div class="row g-3 align-items-end">
            <div class="col-sm-6 col-md-5 col-lg-4">
              <label for="input-nova-data-hora" class="form-label">Nova data/hora (opcional)</label>
              <input type="datetime-local" id="input-nova-data-hora" class="form-control" />
            </div>
            <div class="col-12">
              <small class="text-muted">Preencha a nova data/hora ou deixe em branco para somente marcar como reagendada.</small>
            </div>
          </div>
        </div>
      </div>
    `}static formatDuracao(e){let t=Math.floor(e/60),n=e%60;return t>0?`${t}h ${n>0?`${n}min`:""}`.trim():`${n}min`}static getStatusBadge(e){let t={disponivel:{class:"bg-success",label:"Disponível"},lotada:{class:"bg-primary",label:"Lotada"},cancelada:{class:"bg-danger",label:"Cancelada"},reagendada:{class:"bg-warning text-dark",label:"Reagendada"}}[e]||{class:"bg-secondary",label:e};return`<span class="badge ${t.class}">${t.label}</span>`}static renderReserva(e){let t=String(e?.status||"").toLowerCase(),n=e.pagamentoEfetivado?'<span class="badge bg-info ms-1">Pagamento Efetivado</span>':"";return`
      <div class="d-flex justify-content-between align-items-center mb-2 p-2 border-bottom">
        <div>
          <strong>${e.nome}</strong><br>
          <small class="text-muted">${e.email} | ${e.telefone}</small>
        </div>
        <div>
          ${"cancelada"===t?'<span class="badge bg-secondary">Cancelada</span>':'<span class="badge bg-success">Ativa</span>'} ${n}
        </div>
      </div>
    `}}class N{static render(e){let t=this.renderHeader(e.usuario),n=this.renderContent(e.aulas),r=this.renderModals();return`
      ${D.render({title:"Dashboard do Professor",content:n,header:t})}
      ${r}
    `}static renderHeader(e){let t=x.render({text:"Sair",variant:"outline-danger",size:"sm",className:"ms-2",id:"btn-logout"}),n=x.render({text:"Nova Aula",variant:"primary",size:"sm",className:"ms-2",id:"nova-aula-btn",icon:"bi bi-plus-circle"}),r=x.render({text:"Editar Perfil",variant:"outline-secondary",size:"sm",icon:"bi bi-gear",id:"btn-editar-perfil"});return`
      <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center mb-4 gap-3">
        <div>
          <h2 class="fw-bold mb-2 d-flex align-items-center gap-2">
            Dashboard do Professor
            ${t}
          </h2>
          <div class="d-flex align-items-center gap-3">
            <div class="d-flex align-items-center">
              <span class="fw-semibold me-2">Link p\xfablico:</span>
              <input type="text" id="input-link-publico" class="form-control form-control-sm" style="width: 300px;" readonly value="${location.origin}/professor/${e.linkUnico||e.id}">
              <button class="btn btn-outline-primary btn-sm ms-2" id="btn-copiar-link">Copiar</button>
            </div>
            ${r}
            ${n}
          </div>
        </div>
      </div>
    `}static renderContent(e){let t=e.filter(e=>"reagendada"===e.status),n=e.filter(e=>"reagendada"!==e.status),r=e.length>0?e.map(e=>`
          <div class="col-12 col-md-6 col-lg-4">
            ${k.render(e)}
          </div>
        `).join(""):`
          <div class="col-12">
            <div class="text-center py-5">
              <i class="bi bi-calendar3 display-1 text-muted"></i>
              <h4 class="mt-3 text-muted">Nenhuma aula cadastrada</h4>
              <p class="text-muted">Clique em "Nova Aula" para come\xe7ar a criar suas aulas.</p>
            </div>
          </div>
        `;return`
      <!-- Navega\xe7\xe3o por abas -->
      <ul class="nav nav-tabs mb-4" id="dashboardTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="aulas-tab" data-bs-toggle="tab" data-bs-target="#aulas" type="button" role="tab">
            <i class="bi bi-calendar3"></i> Minhas Aulas
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="calendario-tab" data-bs-toggle="tab" data-bs-target="#calendario" type="button" role="tab">
            <i class="bi bi-calendar-month"></i> Calend\xe1rio
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="agendamentos-tab" data-bs-toggle="tab" data-bs-target="#agendamentos" type="button" role="tab">
            <i class="bi bi-people"></i> Agendamentos
          </button>
        </li>
      </ul>

      <!-- Conte\xfado das abas -->
      <div class="tab-content" id="dashboardTabContent">
        <!-- Aba: Minhas Aulas -->
        <div class="tab-pane fade show active" id="aulas" role="tabpanel">
          <div class="row g-4">
            ${r}
          </div>
        </div>

        <!-- Aba: Calend\xe1rio -->
        <div class="tab-pane fade" id="calendario" role="tabpanel">
          <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
              <h5 class="mb-0">Calend\xe1rio de Aulas</h5>
              <div class="btn-group">
                <button class="btn btn-outline-secondary btn-sm" onclick="navegarMes(-1)">
                  <i class="bi bi-chevron-left"></i>
                </button>
                <button class="btn btn-outline-secondary btn-sm" onclick="navegarMes(1)">
                  <i class="bi bi-chevron-right"></i>
                </button>
              </div>
            </div>
            <div class="card-body">
              <div id="calendario-container">
                <!-- Calend\xe1rio ser\xe1 renderizado aqui -->
              </div>
            </div>
          </div>
        </div>

        <!-- Aba: Agendamentos -->
        <div class="tab-pane fade" id="agendamentos" role="tabpanel">
          <div class="card mb-4">
            <div class="card-header bg-primary text-white">
              <h5 class="mb-0"><i class="bi bi-list-check me-2"></i>Agendamentos Realizados</h5>
            </div>
            <div class="card-body">
              ${0===n.length?'<div class="text-muted">Nenhum agendamento realizado.</div>':n.map(e=>i(e)).join("")}
            </div>
          </div>
          <div class="card">
            <div class="card-header bg-warning text-dark">
              <h5 class="mb-0"><i class="bi bi-arrow-repeat me-2"></i>Aulas Reagendadas</h5>
            </div>
            <div class="card-body">
              ${0===t.length?'<div class="text-muted">Nenhuma aula reagendada.</div>':t.map(e=>i(e)).join("")}
            </div>
          </div>
        </div>
      </div>
    `;function i(e){return`
        <div class="mb-4">
          <div class="fw-bold mb-2">${e.titulo} <span class="badge bg-${"reagendada"===e.status?"warning text-dark":"primary"} ms-2">${e.status.charAt(0).toUpperCase()+e.status.slice(1)}</span></div>
          <div class="mb-1 text-muted"><b>Data/Hora:</b> ${new Date(e.dataHora).toLocaleString()}</div>
          <div class="mb-2"><b>Reservas:</b></div>
          <ul class="list-group mb-2">
            ${e.reservas&&e.reservas.length>0?e.reservas.map(e=>{var t;let n,r;return n="",n="cancelado"===(t=e).status?'<span class="badge bg-danger ms-2">Cancelado</span>':'<span class="badge bg-success ms-2">Agendado</span>',r=t.pagamentoEfetivado?'<span class="badge bg-info ms-2">Pagamento Efetivado</span>':"",`<li class="list-group-item d-flex justify-content-between align-items-center">
        <span><b>${t.nome}</b> <span class="text-muted">${t.email}</span><br><span class="text-muted">${t.telefone||""}</span></span>
        <span>${n} ${r}</span>
      </li>`}).join(""):'<li class="list-group-item text-muted">Nenhuma reserva</li>'}
          </ul>
        </div>
      `}}static renderModals(){return`
      ${P.renderNovaAula()}
      ${P.renderEditarAula({})}
      ${O.render({id:"",titulo:"",conteudo:"",dataHora:"",duracao:0,valor:0,maxAlunos:0,status:"",reservas:[]})}
    `}}const L="http://localhost:3000/api";async function H(e,t={}){let n=localStorage.getItem("token");return fetch(e,{...t,headers:{...t.headers,Authorization:`Bearer ${n}`,"Content-Type":"application/json"},credentials:"include"})}async function U(e,t={}){let n=localStorage.getItem("token"),r={...t.headers||{},Authorization:`Bearer ${n}`};return fetch(e,{...t,headers:r,credentials:"include"})}async function j(){return fetch(`${L}/professores/logout`,{method:"POST",credentials:"include"})}function F(){return H(`${L}/professores/me`)}var h=c("dfaKa");class B{static async loadDashboardData(){try{let[e,t]=await Promise.all([H(`${L}/aulas/minhas-aulas`),F()]),n=(e.ok?await e.json():[]).map(e=>{let t=Array.isArray(e.reservas)?e.reservas:[],n=t.filter(e=>"ativa"===String(e?.status||"").toLowerCase());return{id:e.id??"",titulo:e.titulo??"",conteudo:e.conteudo??"",valor:null!=e.valor?Number(e.valor):0,duracao:null!=e.duracao?Number(e.duracao):0,dataHora:e.data_hora??e.dataHora??"",maxAlunos:null!=e.vagas_total?Number(e.vagas_total):null!=e.maxAlunos?Number(e.maxAlunos):0,status:e.status??"",observacoes:e.observacoes??"",reservas:t,reservasAtivasCount:n.length}});return{usuario:t.ok?await t.json():{},aulas:n}}catch(e){return(0,h.mostrarToast)("Erro ao carregar dados do dashboard.","danger"),{usuario:{},aulas:[]}}}static async criarAula(e){try{let t={...e,valor:parseFloat(e.valor?.toString()??"0"),duracao:parseInt(e.duracao?.toString()??"0",10),vagas_total:Math.max(1,parseInt(e.maxAlunos?.toString()??"1",10)),data_hora:e.dataHora},n=await H(`${L}/aulas/criar`,{method:"POST",body:JSON.stringify(t)});if(n.ok)return(0,h.mostrarToast)("Aula criada com sucesso!","success"),!0;{let e=await n.json();return(0,h.mostrarToast)("Erro ao criar aula: "+(e.error||"Erro desconhecido"),"danger"),!1}}catch(e){return(0,h.mostrarToast)("Erro ao conectar com o servidor.","danger"),!1}}static async editarAula(e,t){try{let n={titulo:t.titulo,conteudo:t.conteudo,valor:parseFloat(t.valor.toString()),duracao:parseInt(t.duracao.toString(),10),vagas_total:parseInt(t.maxAlunos.toString(),10),data_hora:t.dataHora,status:t.status,observacoes:t.observacoes||""},r=await H(`${L}/aulas/${e}`,{method:"PUT",body:JSON.stringify(n)});if(r.ok)return(0,h.mostrarToast)("Aula editada com sucesso!","success"),!0;{let e=await r.json();return(0,h.mostrarToast)("Erro ao editar aula: "+(e.error||"Erro desconhecido"),"danger"),!1}}catch(e){return(0,h.mostrarToast)("Erro ao conectar com o servidor.","danger"),!1}}static async excluirAula(e){try{if((await H(`${L}/aulas/${e}`,{method:"DELETE"})).ok)return(0,h.mostrarToast)("Aula excluída com sucesso!","success"),!0;return(0,h.mostrarToast)("Erro ao excluir aula.","danger"),!1}catch(e){return(0,h.mostrarToast)("Erro ao conectar com o servidor.","danger"),!1}}static async copyToClipboard(e){try{return await navigator.clipboard.writeText(e),!0}catch(e){return!1}}static validateAulaData(e){let t=[];return e.titulo?.trim()||t.push("Título é obrigatório"),e.conteudo?.trim()||t.push("Conteúdo é obrigatório"),(!e.valor||e.valor<=0)&&t.push("Valor deve ser maior que zero"),(!e.duracao||e.duracao<=0)&&t.push("Duração deve ser maior que zero"),(!e.maxAlunos||e.maxAlunos<=0)&&t.push("Número de vagas deve ser maior que zero"),e.dataHora||t.push("Data e hora são obrigatórios"),e.status&&!["disponivel","lotada","cancelada","reagendada"].includes(e.status)&&t.push("Status inválido"),{isValid:0===t.length,errors:t}}}var z,$,V,W,q,G,Q,Y,h=c("dfaKa"),K={},J=[],Z=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function X(e,t){for(var n in t)e[n]=t[n];return e}function ee(e){var t=e.parentNode;t&&t.removeChild(e)}function et(e,t,n){var r,i,a,s={};for(a in t)"key"==a?r=t[a]:"ref"==a?i=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?z.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return en(e,s,r,i,null)}function en(e,t,n,r,i){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++V:i};return null==i&&null!=$.vnode&&$.vnode(a),a}function er(){return{current:null}}function ei(e){return e.children}function ea(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||Z.test(t)?n:n+"px"}function es(e,t,n,r,i){var a;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ea(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||ea(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r||e.addEventListener(t,a?el:eo,a):e.removeEventListener(t,a?el:eo,a);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,n))}}function eo(e){W=!0;try{return this.l[e.type+!1]($.event?$.event(e):e)}finally{W=!1}}function el(e){W=!0;try{return this.l[e.type+!0]($.event?$.event(e):e)}finally{W=!1}}function ec(e,t){this.props=e,this.context=t}function ed(e,t){if(null==t)return e.__?ed(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?ed(e):null}function eu(e){(!e.__d&&(e.__d=!0)&&q.push(e)&&!eh.__r++||G!==$.debounceRendering)&&((G=$.debounceRendering)||function(e){W?setTimeout(e):Q(e)})(eh)}function eh(){var e,t,n,r,i,a,s,o;for(q.sort(function(e,t){return e.__v.__b-t.__v.__b});e=q.shift();)e.__d&&(t=q.length,r=void 0,i=void 0,s=(a=(n=e).__v).__e,(o=n.__P)&&(r=[],(i=X({},a)).__v=a.__v+1,em(o,a,i,n.__n,void 0!==o.ownerSVGElement,null!=a.__h?[s]:null,r,null==s?ed(a):s,a.__h),ev(r,a),a.__e!=s&&function e(t){var n,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(r=t.__k[n])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return e(t)}}(a)),q.length>t&&q.sort(function(e,t){return e.__v.__b-t.__v.__b}));eh.__r=0}function ef(e,t,n,r,i,a,s,o,l,c){var d,u,h,f,p,g,m,v=r&&r.__k||J,b=v.length;for(n.__k=[],d=0;d<t.length;d++)if(null!=(f=n.__k[d]=null==(f=t[d])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?en(null,f,null,null,f):Array.isArray(f)?en(ei,{children:f},null,null,null):f.__b>0?en(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)){if(f.__=n,f.__b=n.__b+1,null===(h=v[d])||h&&f.key==h.key&&f.type===h.type)v[d]=void 0;else for(u=0;u<b;u++){if((h=v[u])&&f.key==h.key&&f.type===h.type){v[u]=void 0;break}h=null}em(e,f,h=h||K,i,a,s,o,l,c),p=f.__e,(u=f.ref)&&h.ref!=u&&(m||(m=[]),h.ref&&m.push(h.ref,null,f),m.push(u,f.__c||p,f)),null!=p?(null==g&&(g=p),"function"==typeof f.type&&f.__k===h.__k?f.__d=l=function e(t,n,r){for(var i,a=t.__k,s=0;a&&s<a.length;s++)(i=a[s])&&(i.__=t,n="function"==typeof i.type?e(i,n,r):eg(r,i,i,a,i.__e,n));return n}(f,l,e):l=eg(e,f,h,v,p,l),"function"==typeof n.type&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=e&&(l=ed(h))}for(n.__e=g,d=b;d--;)null!=v[d]&&("function"==typeof n.type&&null!=v[d].__e&&v[d].__e==n.__d&&(n.__d=function e(t){var n,r,i;if(null==t.type||"string"==typeof t.type)return t.__e;if(t.__k){for(n=t.__k.length-1;n>=0;n--)if((r=t.__k[n])&&(i=e(r)))return i}return null}(r).nextSibling),function e(t,n,r){var i,a;if($.unmount&&$.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||eb(i,null,n)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){$.__e(e,n)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(a=0;a<i.length;a++)i[a]&&e(i[a],n,r||"function"!=typeof t.type);r||null==t.__e||ee(t.__e),t.__=t.__e=t.__d=void 0}(v[d],v[d]));if(m)for(d=0;d<m.length;d++)eb(m[d],m[++d],m[++d])}function ep(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some(function(e){ep(e,t)}):t.push(e)),t}function eg(e,t,n,r,i,a){var s,o,l;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==n||i!=a||null==i.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(i),s=null;else{for(o=a,l=0;(o=o.nextSibling)&&l<r.length;l+=1)if(o==i)break e;e.insertBefore(i,a),s=a}return void 0!==s?s:i.nextSibling}function em(e,t,n,r,i,a,s,o,l){var c,d,u,h,f,p,g,m,v,b,y,w,E,A,S,C=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,o=t.__e=n.__e,t.__h=null,a=[o]),(c=$.__b)&&c(t);try{e:if("function"==typeof C){if(m=t.props,v=(c=C.contextType)&&r[c.__c],b=c?v?v.props.value:c.__:r,n.__c?g=(d=t.__c=n.__c).__=d.__E:("prototype"in C&&C.prototype.render?t.__c=d=new C(m,b):(t.__c=d=new ec(m,b),d.constructor=C,d.render=ey),v&&v.sub(d),d.props=m,d.state||(d.state={}),d.context=b,d.__n=r,u=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=C.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=X({},d.__s)),X(d.__s,C.getDerivedStateFromProps(m,d.__s))),h=d.props,f=d.state,d.__v=t,u)null==C.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==C.getDerivedStateFromProps&&m!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(m,b),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(m,d.__s,b)||t.__v===n.__v){for(t.__v!==n.__v&&(d.props=m,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t)}),y=0;y<d._sb.length;y++)d.__h.push(d._sb[y]);d._sb=[],d.__h.length&&s.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(m,d.__s,b),null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(h,f,p)})}if(d.context=b,d.props=m,d.__P=e,w=$.__r,E=0,"prototype"in C&&C.prototype.render){for(d.state=d.__s,d.__d=!1,w&&w(t),c=d.render(d.props,d.state,d.context),A=0;A<d._sb.length;A++)d.__h.push(d._sb[A]);d._sb=[]}else do d.__d=!1,w&&w(t),c=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++E<25)d.state=d.__s,null!=d.getChildContext&&(r=X(X({},r),d.getChildContext())),u||null==d.getSnapshotBeforeUpdate||(p=d.getSnapshotBeforeUpdate(h,f)),S=null!=c&&c.type===ei&&null==c.key?c.props.children:c,ef(e,Array.isArray(S)?S:[S],t,n,r,i,a,s,o,l),d.base=t.__e,t.__h=null,d.__h.length&&s.push(d),g&&(d.__E=d.__=null),d.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,i,a,s,o){var l,c,d,u=n.props,h=t.props,f=t.type,p=0;if("svg"===f&&(i=!0),null!=a){for(;p<a.length;p++)if((l=a[p])&&"setAttribute"in l==!!f&&(f?l.localName===f:3===l.nodeType)){e=l,a[p]=null;break}}if(null==e){if(null===f)return document.createTextNode(h);e=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),a=null,o=!1}if(null===f)u===h||o&&e.data===h||(e.data=h);else{if(a=a&&z.call(e.childNodes),c=(u=n.props||K).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!o){if(null!=a)for(u={},p=0;p<e.attributes.length;p++)u[e.attributes[p].name]=e.attributes[p].value;(d||c)&&(d&&(c&&d.__html==c.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(function(e,t,n,r,i){var a;for(a in n)"children"===a||"key"===a||a in t||es(e,a,null,n[a],r);for(a in t)i&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||n[a]===t[a]||es(e,a,t[a],n[a],r)}(e,h,u,i,o),d)t.__k=[];else if(ef(e,Array.isArray(p=t.props.children)?p:[p],t,n,r,i&&"foreignObject"!==f,a,s,a?a[0]:n.__k&&ed(n,0),o),null!=a)for(p=a.length;p--;)null!=a[p]&&ee(a[p]);o||("value"in h&&void 0!==(p=h.value)&&(p!==e.value||"progress"===f&&!p||"option"===f&&p!==u.value)&&es(e,"value",p,u.value,!1),"checked"in h&&void 0!==(p=h.checked)&&p!==e.checked&&es(e,"checked",p,u.checked,!1))}return e}(n.__e,t,n,r,i,a,s,l);(c=$.diffed)&&c(t)}catch(e){t.__v=null,(l||null!=a)&&(t.__e=o,t.__h=!!l,a[a.indexOf(o)]=null),$.__e(e,t,n)}}function ev(e,t){$.__c&&$.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){$.__e(e,t.__v)}})}function eb(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){$.__e(e,n)}}function ey(e,t,n){return this.constructor(e,n)}function ew(e,t,n){var r,i,a;$.__&&$.__(e,t),i=(r="function"==typeof n)?null:n&&n.__k||t.__k,a=[],em(t,e=(!r&&n||t).__k=et(ei,null,[e]),i||K,K,void 0!==t.ownerSVGElement,!r&&n?[n]:i?null:t.firstChild?z.call(t.childNodes):null,a,!r&&n?n:i?i.__e:t.firstChild,r),ev(a,e)}z=J.slice,$={__e:function(e,t,n,r){for(var i,a,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},V=0,W=!1,ec.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=X({},this.state),"function"==typeof e&&(e=e(X({},n),this.props)),e&&X(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),eu(this))},ec.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),eu(this))},ec.prototype.render=ei,q=[],Q="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,eh.__r=0,Y=0;var eE,eA,eS,eC=[],e_=[],eT=$.__b,eD=$.__r,ex=$.diffed,eI=$.__c,ek=$.unmount;function eR(){for(var e;e=eC.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(eP),e.__H.__h.forEach(eO),e.__H.__h=[]}catch(t){e.__H.__h=[],$.__e(t,e.__v)}}$.__b=function(e){eE=null,eT&&eT(e)},$.__r=function(e){eD&&eD(e);var t=(eE=e.__c).__H;t&&(eA===eE?(t.__h=[],eE.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=e_,e.__N=e.i=void 0})):(t.__h.forEach(eP),t.__h.forEach(eO),t.__h=[])),eA=eE},$.diffed=function(e){ex&&ex(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==eC.push(t)&&eS===$.requestAnimationFrame||((eS=$.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),eM&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);eM&&(t=requestAnimationFrame(n))})(eR)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==e_&&(e.__=e.__V),e.i=void 0,e.__V=e_})),eA=eE=null},$.__c=function(e,t){t.some(function(e){try{e.__h.forEach(eP),e.__h=e.__h.filter(function(e){return!e.__||eO(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],$.__e(n,e.__v)}}),eI&&eI(e,t)},$.unmount=function(e){ek&&ek(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{eP(e)}catch(e){t=e}}),n.__H=void 0,t&&$.__e(t,n.__v))};var eM="function"==typeof requestAnimationFrame;function eP(e){var t=eE,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),eE=t}function eO(e){var t=eE;e.__c=e.__(),eE=t}function eN(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function eL(e){this.props=e}(eL.prototype=new ec).isPureReactComponent=!0,eL.prototype.shouldComponentUpdate=function(e,t){return eN(this.props,e)||eN(this.state,t)};var eH=$.__b;$.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),eH&&eH(e)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var eU=$.__e;$.__e=function(e,t,n,r){if(e.then){for(var i,a=t;a=a.__;)if((i=a.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t)}eU(e,t,n,r)};var ej=$.unmount;function eF(){this.__u=0,this.t=null,this.__b=null}function eB(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function ez(){this.u=null,this.o=null}$.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),ej&&ej(e)},(eF.prototype=new ec).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=eB(r.__v),a=!1,s=function(){a||(a=!0,n.__R=null,i?i(o):o())};n.__R=s;var o=function(){if(!--r.__u){if(r.state.__a){var e,t=r.state.__a;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return e(t,n,r)}),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(t,t.__c.__P,t.__c.__O)}for(r.setState({__a:r.__b=null});e=r.t.pop();)e.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(s,s)},eF.prototype.componentWillUnmount=function(){this.t=[]},eF.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),t.__c.__H=null),null!=(t=function(e,t){for(var n in t)e[n]=t[n];return e}({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return e(t,n,r)})),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&et(ei,null,e.fallback);return i&&(i.__h=null),[et(ei,null,t.__a?null:e.children),i]};var e$=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function eV(e){return this.getChildContext=function(){return e.context},e.children}function eW(e){var t=this,n=e.i;t.componentWillUnmount=function(){ew(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),ew(et(eV,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(ez.prototype=new ec).__a=function(e){var t=this,n=eB(t.__v),r=t.o.get(e);return r[0]++,function(i){var a=function(){t.props.revealOrder?(r.push(i),e$(t,e,r)):i()};n?n(a):a()}},ez.prototype.render=function(e){this.u=null,this.o=new Map;var t=ep(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},ez.prototype.componentDidUpdate=ez.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){e$(e,n,t)})};var eq="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,eG=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,eQ="undefined"!=typeof document;ec.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(ec.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var eY=$.event;function eK(){}function eJ(){return this.cancelBubble}function eZ(){return this.defaultPrevented}$.event=function(e){return eY&&(e=eY(e)),e.persist=eK,e.isPropagationStopped=eJ,e.isDefaultPrevented=eZ,e.nativeEvent=e};var eX={configurable:!0,get:function(){return this.class}},e0=$.vnode;$.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var i=-1===t.indexOf("-");for(var a in r={},n){var s,o=n[a];eQ&&"children"===a&&"noscript"===t||"value"===a&&"defaultValue"in n&&null==o||("defaultValue"===a&&"value"in n&&null==n.value?a="value":"download"===a&&!0===o?o="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+t)&&(s=n.type,!("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(s))?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():i&&eG.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===o&&(o=void 0),/^oninput$/i.test(a)&&r[a=a.toLowerCase()]&&(a="oninputCapture"),r[a]=o)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=ep(n.children).forEach(function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)})),"select"==t&&null!=r.defaultValue&&(r.value=ep(n.children).forEach(function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value})),e.props=r,n.class!=n.className&&(eX.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",eX))}e.$$typeof=eq,e0&&e0(e)};var e1=$.__r;$.__r=function(e){e1&&e1(e),e.__c};const e4=[],e3=new Map;function e2(e){e4.push(e),e3.forEach(t=>{e5(t,e)})}function e6(e){let t=e3.get(e);if(!t||!t.isConnected){if(!(t=e.querySelector("style[data-fullcalendar]"))){(t=document.createElement("style")).setAttribute("data-fullcalendar","");let r=(void 0===n&&(n=function(){let e=document.querySelector('meta[name="csp-nonce"]');if(e&&e.hasAttribute("content"))return e.getAttribute("content");let t=document.querySelector("script[nonce]");return t&&t.nonce||""}()),n);r&&(t.nonce=r);let i=e===document?document.head:e,a=e===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(t,a)}e3.set(e,t),function(e){for(let t of e4)e5(e,t)}(t)}}function e5(e,t){let{sheet:n}=e,r=n.cssRules.length;t.split("}").forEach((e,t)=>{(e=e.trim())&&n.insertRule(e+"}",r+t)})}"undefined"!=typeof document&&e6(document),e2(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');class e8{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==e?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:n}=this;e in n&&(t?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function e7(e){e.parentNode&&e.parentNode.removeChild(e)}function e9(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{var n,r;if(n=e,r=t,(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,r))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType)return null}const te=/(top|left|right|bottom|width|height)$/i;function tt(e,t){for(let n in t)tn(e,n,t[n])}function tn(e,t,n){null==n?e.style[t]="":"number"==typeof n&&te.test(t)?e.style[t]=`${n}px`:e.style[t]=n}function tr(e){var t,n;return null!=(n=null==(t=e.composedPath)?void 0:t.call(e)[0])?n:e.target}let ti=0;function ta(){return"fc-dom-"+(ti+=1)}function ts(e){e.preventDefault()}function to(e,t,n,r){let i=e=>{let t=e9(e.target,n);t&&r.call(t,e,t)};return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}const tl=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function tc(e){return Object.assign({onClick:e},td(e))}function td(e){return{tabIndex:0,onKeyDown(t){("Enter"===t.key||" "===t.key)&&(e(t),t.preventDefault())}}}let tu=0;function th(){return String(tu+=1)}function tf(){document.body.classList.add("fc-not-allowed")}function tp(){document.body.classList.remove("fc-not-allowed")}function tg(e,t){let n=String(e);return"000".substr(0,t-n.length)+n}function tm(e,t,n){return"function"==typeof e?e(...t):"string"==typeof e?t.reduce((e,t,n)=>e.replace("$"+n,t||""),e):n}function tv(e,t){return e-t}const tb=["years","months","days","milliseconds"],ty=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function tw(e,t){return"string"==typeof e?function(e){let t=ty.exec(e);if(t){let e=t[1]?-1:1;return{years:0,months:0,days:e*(t[2]?parseInt(t[2],10):0),milliseconds:e*((t[3]?parseInt(t[3],10):0)*36e5+(t[4]?parseInt(t[4],10):0)*6e4+(t[5]?parseInt(t[5],10):0)*1e3+(t[6]?parseInt(t[6],10):0))}}return null}(e):"object"==typeof e&&e?tE(e):"number"==typeof e?tE({[t||"milliseconds"]:e}):null}function tE(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:36e5*(e.hours||e.hour||0)+6e4*(e.minutes||e.minute||0)+1e3*(e.seconds||e.second||0)+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=7*n,t.specifiedWeeks=!0),t}function tA(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function tS(e){return tC(e)/864e5}function tC(e){return e.years*(365*864e5)+e.months*(30*864e5)+864e5*e.days+e.milliseconds}function t_(e,t){let n=null;for(let r=0;r<tb.length;r+=1){let i=tb[r];if(t[i]){let r=e[i]/t[i];if(r%1!=0||null!==n&&n!==r)return null;n=r}else if(e[i])return null}return n}function tT(e){let t=e.milliseconds;if(t){if(t%1e3!=0)return{unit:"millisecond",value:t};if(t%6e4!=0)return{unit:"second",value:t/1e3};if(t%36e5!=0)return{unit:"minute",value:t/6e4};if(t)return{unit:"hour",value:t/36e5}}return e.days?e.specifiedWeeks&&e.days%7==0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function tD(e,t,n){let r;if(e===t)return!0;let i=e.length;if(i!==t.length)return!1;for(r=0;r<i;r+=1)if(!(n?n(e[r],t[r]):e[r]===t[r]))return!1;return!0}const tx=["sun","mon","tue","wed","thu","fri","sat"];function tI(e,t){let n=tU(e);return n[2]+=7*t,tj(n)}function tk(e,t){let n=tU(e);return n[2]+=t,tj(n)}function tR(e,t){let n=tU(e);return n[6]+=t,tj(n)}function tM(e,t){return(t.valueOf()-e.valueOf())/864e5}function tP(e,t){return tB(e)===tB(t)?Math.round(tM(e,t)):null}function tO(e){return tj([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function tN(e,t,n,r){var i;let a;return Math.floor(Math.round(tM(tj([t,0,1+(-((7+tj([t,0,a=7+(i=n)-r]).getUTCDay()-i)%7)+a-1)]),tO(e)))/7)+1}function tL(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function tH(e){return new Date(e[0],e[1]||0,null==e[2]?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function tU(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function tj(e){return 1===e.length&&(e=e.concat([0])),new Date(Date.UTC(...e))}function tF(e){return!isNaN(e.valueOf())}function tB(e){return 36e5*e.getUTCHours()+6e4*e.getUTCMinutes()+1e3*e.getUTCSeconds()+e.getUTCMilliseconds()}function tz(e,t,n=!1){let r=e.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(null==t?r=r.replace("Z",""):0!==t&&(r=r.replace("Z",tV(t,!0)))),r}function t$(e){return e.toISOString().replace(/T.*$/,"")}function tV(e,t=!1){let n=e<0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=Math.round(r%60);return t?`${n+tg(i,2)}:${tg(a,2)}`:`GMT${n}${i}${a?`:${tg(a,2)}`:""}`}function tW(e,t,n){let r,i;return function(...a){if(r){if(!tD(r,a)){n&&n(i);let r=e.apply(this,a);t&&t(r,i)||(i=r)}}else i=e.apply(this,a);return r=a,i}}function tq(e,t,n){let r,i;return a=>{if(r){if(!nf(r,a)){n&&n(i);let r=e.call(this,a);t&&t(r,i)||(i=r)}}else i=e.call(this,a);return r=a,i}}const tG={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},tQ={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},tY=/\s*([ap])\.?m\.?/i,tK=/,/g,tJ=/\s+/g,tZ=/\u200e/g,tX=/UTC|GMT/;class t0{constructor(e){let t={},n={},r=9;for(let i in e)i in tG?(n[i]=e[i],tG[i]<9&&(r=Math.min(tG[i],r))):(t[i]=e[i],i in tQ&&(r=Math.min(tQ[i],r)));this.standardDateProps=t,this.extendedSettings=n,this.smallestUnitNum=r,this.buildFormattingFunc=tW(t1)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,n,r){var i,a,s;let{standardDateProps:o,extendedSettings:l}=this,c=(i=e.marker,a=t.marker,(s=n.calendarSystem).getMarkerYear(i)!==s.getMarkerYear(a)?5:s.getMarkerMonth(i)!==s.getMarkerMonth(a)?4:s.getMarkerDay(i)!==s.getMarkerDay(a)?2:+(tB(i)!==tB(a)));if(!c)return this.format(e,n);let d=c;d>1&&("numeric"===o.year||"2-digit"===o.year)&&("numeric"===o.month||"2-digit"===o.month)&&("numeric"===o.day||"2-digit"===o.day)&&(d=1);let u=this.format(e,n),h=this.format(t,n);if(u===h)return u;let f=t1(function(e,t){let n={};for(let r in e)r in tQ&&!(tQ[r]<=t)||(n[r]=e[r]);return n}(o,d),l,n),p=f(e),g=f(t),m=function(e,t,n,r){let i=0;for(;i<e.length;){let a=e.indexOf(t,i);if(-1===a)break;let s=e.substr(0,a);i=a+t.length;let o=e.substr(i),l=0;for(;l<n.length;){let e=n.indexOf(r,l);if(-1===e)break;let t=n.substr(0,e);l=e+r.length;let i=n.substr(l);if(s===t&&o===i)return{before:s,after:o}}}return null}(u,p,h,g),v=l.separator||r||n.defaultSeparator||"";return m?m.before+p+v+g+m.after:u+v+h}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function t1(e,t,n){let r=Object.keys(e).length;return 1===r&&"short"===e.timeZoneName?e=>tV(e.timeZoneOffset):0===r&&t.week?e=>{var r,i,a,s,o;let l;return r=n.computeWeekNumber(e.marker),i=n.weekText,a=n.weekTextLong,s=n.locale,o=t.week,l=[],"long"===o?l.push(a):("short"===o||"narrow"===o)&&l.push(i),("long"===o||"short"===o)&&l.push(" "),l.push(s.simpleNumberFormat.format(r)),"rtl"===s.options.direction&&l.reverse(),l.join("")}:function(e,t,n){var r,i;let a;e=Object.assign({},e),t=Object.assign({},t),r=e,i=t,r.timeZoneName&&(r.hour||(r.hour="2-digit"),r.minute||(r.minute="2-digit")),"long"===r.timeZoneName&&(r.timeZoneName="short"),i.omitZeroMinute&&(r.second||r.millisecond)&&delete i.omitZeroMinute,e.timeZone="UTC";let s=new Intl.DateTimeFormat(n.locale.codes,e);if(t.omitZeroMinute){let t=Object.assign({},e);delete t.minute,a=new Intl.DateTimeFormat(n.locale.codes,t)}return r=>{var i,o,l,c,d,u,h;let f,{marker:p}=r;return i=(a&&!p.getUTCMinutes()?a:s).format(p),o=r,l=e,c=t,d=n,i=i.replace(tZ,""),"short"===l.timeZoneName&&(u=i,h="UTC"===d.timeZone||null==o.timeZoneOffset?"UTC":tV(o.timeZoneOffset),f=!1,u=u.replace(tX,()=>(f=!0,h)),f||(u+=` ${h}`),i=u),c.omitCommas&&(i=i.replace(tK,"").trim()),c.omitZeroMinute&&(i=i.replace(":00","")),!1===c.meridiem?i=i.replace(tY,"").trim():"narrow"===c.meridiem?i=i.replace(tY,(e,t)=>t.toLocaleLowerCase()):"short"===c.meridiem?i=i.replace(tY,(e,t)=>`${t.toLocaleLowerCase()}m`):"lowercase"===c.meridiem&&(i=i.replace(tY,e=>e.toLocaleLowerCase())),i=(i=i.replace(tJ," ")).trim()}}(e,t,n)}function t4(e,t){let n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function t3(e,t,n,r){let i=t4(e,n.calendarSystem);return{date:i,start:i,end:t?t4(t,n.calendarSystem):null,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class t2{constructor(e){this.cmdStr=e}format(e,t,n){return t.cmdFormatter(this.cmdStr,t3(e,null,t,n))}formatRange(e,t,n,r){return n.cmdFormatter(this.cmdStr,t3(e,t,n,r))}}class t6{constructor(e){this.func=e}format(e,t,n){return this.func(t3(e,null,t,n))}formatRange(e,t,n,r){return this.func(t3(e,t,n,r))}}function t5(e){return"object"==typeof e&&e?new t0(e):"string"==typeof e?new t2(e):"function"==typeof e?new t6(e):null}const t8={navLinkDayClick:ns,navLinkWeekClick:ns,duration:tw,bootstrapFontAwesome:ns,buttonIcons:ns,customButtons:ns,defaultAllDayEventDuration:tw,defaultTimedEventDuration:tw,nextDayThreshold:tw,scrollTime:tw,scrollTimeReset:Boolean,slotMinTime:tw,slotMaxTime:tw,dayPopoverFormat:t5,slotDuration:tw,snapDuration:tw,headerToolbar:ns,footerToolbar:ns,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:t5,dayHeaderClassNames:ns,dayHeaderContent:ns,dayHeaderDidMount:ns,dayHeaderWillUnmount:ns,dayCellClassNames:ns,dayCellContent:ns,dayCellDidMount:ns,dayCellWillUnmount:ns,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:ns,weekNumbers:Boolean,weekNumberClassNames:ns,weekNumberContent:ns,weekNumberDidMount:ns,weekNumberWillUnmount:ns,editable:Boolean,viewClassNames:ns,viewDidMount:ns,viewWillUnmount:ns,nowIndicator:Boolean,nowIndicatorClassNames:ns,nowIndicatorContent:ns,nowIndicatorDidMount:ns,nowIndicatorWillUnmount:ns,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:ns,locale:ns,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:ns,eventOrder:function(e){let t,n,r=[],i=[];for("string"==typeof e?i=e.split(/\s*,\s*/):"function"==typeof e?i=[e]:Array.isArray(e)&&(i=e),t=0;t<i.length;t+=1)"string"==typeof(n=i[t])?r.push("-"===n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&r.push({func:n});return r},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:ns,contentHeight:ns,direction:String,weekNumberFormat:t5,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:ns,initialDate:ns,now:ns,eventDataTransform:ns,stickyHeaderDates:ns,stickyFooterScrollbar:ns,viewHeight:ns,defaultAllDay:Boolean,eventSourceFailure:ns,eventSourceSuccess:ns,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:ns,eventConstraint:ns,eventAllow:ns,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:ns,eventContent:ns,eventDidMount:ns,eventWillUnmount:ns,selectConstraint:ns,selectOverlap:ns,selectAllow:ns,droppable:Boolean,unselectCancel:String,slotLabelFormat:ns,slotLaneClassNames:ns,slotLaneContent:ns,slotLaneDidMount:ns,slotLaneWillUnmount:ns,slotLabelClassNames:ns,slotLabelContent:ns,slotLabelDidMount:ns,slotLabelWillUnmount:ns,dayMaxEvents:ns,dayMaxEventRows:ns,dayMinWidth:Number,slotLabelInterval:tw,allDayText:String,allDayClassNames:ns,allDayContent:ns,allDayDidMount:ns,allDayWillUnmount:ns,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:t5,rerenderDelay:Number,moreLinkText:ns,moreLinkHint:ns,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:ns,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:tw,hiddenDays:ns,fixedWeekCount:Boolean,validRange:ns,visibleRange:ns,titleFormat:ns,eventInteractive:Boolean,noEventsText:String,viewHint:ns,navLinkHint:ns,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:ns,moreLinkClassNames:ns,moreLinkContent:ns,moreLinkDidMount:ns,moreLinkWillUnmount:ns,monthStartFormat:t5,handleCustomRendering:ns,customRenderingMetaMap:ns,customRenderingReplaces:Boolean},t7={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},t9={datesSet:ns,eventsSet:ns,eventAdd:ns,eventChange:ns,eventRemove:ns,windowResize:ns,eventClick:ns,eventMouseEnter:ns,eventMouseLeave:ns,select:ns,unselect:ns,loading:ns,_unmount:ns,_beforeprint:ns,_afterprint:ns,_noEventDrop:ns,_noEventResize:ns,_resize:ns,_scrollRequest:ns},ne={buttonText:ns,buttonHints:ns,views:ns,plugins:ns,initialEvents:ns,events:ns,eventSources:ns},nt={headerToolbar:nn,footerToolbar:nn,buttonText:nn,buttonHints:nn,buttonIcons:nn,dateIncrement:nn,plugins:nr,events:nr,eventSources:nr,resources:nr};function nn(e,t){return"object"==typeof e&&"object"==typeof t&&e&&t?nf(e,t):e===t}function nr(e,t){return Array.isArray(e)&&Array.isArray(t)?tD(e,t):e===t}const ni={type:String,component:ns,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:ns,usesMinMaxTime:Boolean,classNames:ns,content:ns,didMount:ns,willUnmount:ns};function na(e,t){let n={},r={};for(let r in t)r in e&&(n[r]=t[r](e[r]));for(let n in e)n in t||(r[n]=e[n]);return{refined:n,extra:r}}function ns(e){return e}const{hasOwnProperty:no}=Object.prototype;function nl(e,t){let n={};if(t){for(let r in t)if(t[r]===nn){let t=[];for(let i=e.length-1;i>=0;i-=1){let a=e[i][r];if("object"==typeof a&&a)t.unshift(a);else if(void 0!==a){n[r]=a;break}}t.length&&(n[r]=nl(t))}}for(let t=e.length-1;t>=0;t-=1){let r=e[t];for(let e in r)e in n||(n[e]=r[e])}return n}function nc(e,t){let n={};for(let r in e)t(e[r],r)&&(n[r]=e[r]);return n}function nd(e,t){let n={};for(let r in e)n[r]=t(e[r],r);return n}function nu(e){let t={};for(let n of e)t[n]=!0;return t}function nh(e){let t=[];for(let n in e)t.push(e[n]);return t}function nf(e,t){if(e===t)return!0;for(let n in e)if(no.call(e,n)&&!(n in t))return!1;for(let n in t)if(no.call(t,n)&&e[n]!==t[n])return!1;return!0}const np=/^on[A-Z]/;function ng(e,t,n={}){if(e===t)return!0;for(let s in t){var r,i,a;if(!(s in e&&(r=e[s],i=t[s],a=n[s],r===i||!0===a||a&&a(r,i))))return!1}for(let n in e)if(!(n in t))return!1;return!0}let nm={};nm.gregory=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return tj(e)}markerToArray(e){return tU(e)}};const nv=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class nb{constructor(e){let t=this.timeZone=e.timeZone,n="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=new nm[e.calendarSystem],this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof e.firstDay&&(this.weekDow=e.firstDay),"function"==typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=null!=e.weekText?e.weekText:e.locale.options.weekText,this.weekTextLong=(null!=e.weekTextLong?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return null===t?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):tj(tL(new Date))}createMarkerMeta(e){if("string"==typeof e)return this.parse(e);let t=null;return("number"==typeof e?t=this.timestampToMarker(e):e instanceof Date?isNaN(e=e.valueOf())||(t=this.timestampToMarker(e)):Array.isArray(e)&&(t=tj(e)),null!==t&&tF(t))?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(e){let t=function(e){let t=nv.exec(e);if(t){let e=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number(`0.${t[12]}`):0));if(tF(e)){let n=null;return t[13]&&(n=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:e,isTimeUnspecified:!t[6],timeZoneOffset:n}}}return null}(e);if(null===t)return null;let{marker:n}=t,r=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-6e4*t.timeZoneOffset):r=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)}addMonths(e,t){let n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,t){let{calendarSystem:n}=this;return tB(e)===tB(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:n}=this;return tB(e)===tB(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+(n.getMarkerYear(t)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let n,r=this.diffWholeYears(e,t);return null!==r?{unit:"year",value:r}:null!==(r=this.diffWholeMonths(e,t))?{unit:"month",value:r}:null!==(r=null!==(n=tP(e,t))&&n%7==0?n/7:null)?{unit:"week",value:r}:null!==(r=tP(e,t))?{unit:"day",value:r}:(r=(t.valueOf()-e.valueOf())/36e5)%1==0?{unit:"hour",value:r}:(r=(t.valueOf()-e.valueOf())/6e4)%1==0?{unit:"minute",value:r}:(r=(t.valueOf()-e.valueOf())/1e3)%1==0?{unit:"second",value:r}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}}countDurationsBetween(e,t,n){let r;return n.years&&null!==(r=this.diffWholeYears(e,t))?r/(tS(n)/365):n.months&&null!==(r=this.diffWholeMonths(e,t))?r/(tS(n)/30):n.days&&null!==(r=tP(e,t))?r/tS(n):(t.valueOf()-e.valueOf())/tC(n)}startOf(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?tO(e):"hour"===t?tj([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()]):"minute"===t?tj([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()]):"second"===t?tj([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()]):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):function(e,t,n){let r=e.getUTCFullYear(),i=tN(e,r,t,n);if(i<1)return tN(e,r-1,t,n);let a=tN(e,r+1,t,n);return a>=1?Math.min(i,a):i}(e,this.weekDow,this.weekDoy)}format(e,t,n={}){return t.format({marker:e,timeZoneOffset:null!=n.forcedTzo?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,n,r={}){return r.isEndExclusive&&(t=tR(t,-1)),n.formatRange({marker:e,timeZoneOffset:null!=r.forcedStartTzo?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=r.forcedEndTzo?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let n=null;return t.omitTimeZoneOffset||(n=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(e)),tz(e,n,t.omitTime)}timestampToMarker(e){return"local"===this.timeZone?tj(tL(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?tj(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)}offsetForMarker(e){return"local"===this.timeZone?-tH(tU(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(tU(e)):null}toDate(e,t){return"local"===this.timeZone?tH(tU(e)):new Date("UTC"===this.timeZone?e.valueOf():this.namedTimeZoneImpl?e.valueOf()-6e4*this.namedTimeZoneImpl.offsetForArray(tU(e)):e.valueOf()-(t||0))}}class ny{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,n;if("object"==typeof e&&e){for(n in t=Object.assign({},this.iconClasses),e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else!1===e&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&0!==e.indexOf(t)&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let n;return(n=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e])?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption])?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}function nw(e){e();let t=$.debounceRendering,n=[];for($.debounceRendering=function(e){n.push(e)},ew(et(nE,{}),document.createElement("div"));n.length;)n.shift()();$.debounceRendering=t}ny.prototype.classes={},ny.prototype.iconClasses={},ny.prototype.baseIconClass="",ny.prototype.iconOverridePrefix="";class nE extends ec{render(){return et("div",{})}componentDidMount(){this.setState({})}}function nA(e){var t,n;let r=(n={__c:t="__cC"+Y++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(function(e){e.__e=!0,eu(e)})},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}}).Provider.__=n.Consumer.contextType=n,i=r.Provider;return r.Provider=function(){let e=!this.getChildContext,t=i.apply(this,arguments);if(e){let e=[];this.shouldComponentUpdate=t=>{this.props.value!==t.value&&e.forEach(e=>{e.context=t.value,e.forceUpdate()})},this.sub=t=>{e.push(t);let n=t.componentWillUnmount;t.componentWillUnmount=()=>{e.splice(e.indexOf(t),1),n&&n.call(t)}}}return t},r}class nS{constructor(e,t,n,r){this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=r,this.handleScrollRequest=e=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},e),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const nC=nA({});function n_(e,t,n,r,i,a,s,o,l,c,d,u,h,f){return{dateEnv:i,nowManager:a,options:n,pluginHooks:o,emitter:d,dispatch:l,getCurrentData:c,calendarApi:u,viewSpec:e,viewApi:t,dateProfileGenerator:r,theme:s,isRtl:"rtl"===n.direction,addResizeHandler(e){d.on("_resize",e)},removeResizeHandler(e){d.off("_resize",e)},createScrollResponder:e=>new nS(e,d,tw(n.scrollTime),n.scrollTimeReset),registerInteractiveComponent:h,unregisterInteractiveComponent:f}}class nT extends ec{shouldComponentUpdate(e,t){return!ng(this.props,e,this.propEquality)||!ng(this.state,t,this.stateEquality)}safeSetState(e){ng(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}nT.addPropsEquality=function(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t},nT.addStateEquality=function(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t},nT.contextType=nC,nT.prototype.propEquality={},nT.prototype.stateEquality={};class nD extends nT{}function nx(e,t){"function"==typeof e?e(t):e&&(e.current=t)}nD.contextType=nC;class nI extends nD{constructor(){super(...arguments),this.id=th(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{let{options:t}=this.context,{generatorName:n}=this.props;t.customRenderingReplaces&&nk(n,t)||this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&nx(this.props.elRef,e)}}render(){let e,t,{props:n,context:r}=this,{options:i}=r,{customGenerator:a,defaultGenerator:s,renderProps:o}=n,l=nR(n,[],this.handleEl),c=!1,d=[];if(null!=a){let n="function"==typeof a?a(o,et):a;if(!0===n)c=!0;else{let r=n&&"object"==typeof n;if(r&&"html"in n)l.dangerouslySetInnerHTML={__html:n.html};else if(r&&"domNodes"in n)d=Array.prototype.slice.call(n.domNodes);else(r?null!=n&&void 0===n.constructor:"function"!=typeof n)?e=n:t=n}}else c=!nk(n.generatorName,i);return c&&s&&(e=s(o)),this.queuedDomNodes=d,this.currentGeneratorMeta=t,et(n.elTag,l,e)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;let{props:n,context:r}=this,{handleCustomRendering:i,customRenderingMetaMap:a}=r.options;if(i){let r=null!=(t=this.currentGeneratorMeta)?t:null==a?void 0:a[n.generatorName];r&&i(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:r},n),{elClasses:(n.elClasses||[]).filter(nM)}))}}applyQueueudDomNodes(){let{queuedDomNodes:e,currentDomNodes:t}=this,n=this.base;if(!tD(e,t)){for(let r of(t.forEach(e7),e))n.appendChild(r);this.currentDomNodes=e}}}function nk(e,t){var n;return!!(t.handleCustomRendering&&e&&(null==(n=t.customRenderingMetaMap)?void 0:n[e]))}function nR(e,t,n){let r=Object.assign(Object.assign({},e.elAttrs),{ref:n});return(e.elClasses||t)&&(r.className=(e.elClasses||[]).concat(t||[]).concat(r.className||[]).filter(Boolean).join(" ")),e.elStyle&&(r.style=e.elStyle),r}function nM(e){return!!e}nI.addPropsEquality({elClasses:tD,elStyle:nf,elAttrs:function(e,t){for(let n of function(e,t){let n=[];for(let r in e)!no.call(e,r)||r in t||n.push(r);for(let r in t)no.call(t,r)&&e[r]!==t[r]&&n.push(r);return n}(e,t))if(!np.test(n))return!1;return!0},renderProps:nf});const nP=nA(0);class nO extends ec{constructor(){super(...arguments),this.InnerContent=nN.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(nx(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){let{props:e}=this,t=function(e,t){let n="function"==typeof e?e(t):e||[];return"string"==typeof n?[n]:n}(e.classNameGenerator,e.renderProps);if(!e.children)return et(nI,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}));{let n=nR(e,t,this.handleEl),r=e.children(this.InnerContent,e.renderProps,n);return e.elTag?et(e.elTag,n,r):r}}componentDidMount(){var e,t;this.el?null==(t=(e=this.props).didMount)||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;null==(t=(e=this.props).willUnmount)||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}function nN(e,t){let n=e.props;return et(nI,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:e.context},t))}nO.contextType=nP;class nL extends nD{render(){let{props:e,context:t}=this,{options:n}=t,r={view:t.viewApi};return et(nO,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...nH(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount},()=>e.children)}}function nH(e){return[`fc-${e.type}-view`,"fc-view"]}function nU(e,t){let n,r,i=[],{start:a}=t;for(e.sort(nj),n=0;n<e.length;n+=1)(r=e[n]).start>a&&i.push({start:a,end:r.start}),r.end>a&&(a=r.end);return a<t.end&&i.push({start:a,end:t.end}),i}function nj(e,t){return e.start.valueOf()-t.start.valueOf()}function nF(e,t){let{start:n,end:r}=e,i=null;return null!==t.start&&(n=null===n?t.start:new Date(Math.max(n.valueOf(),t.start.valueOf()))),null!=t.end&&(r=null===r?t.end:new Date(Math.min(r.valueOf(),t.end.valueOf()))),(null===n||null===r||n<r)&&(i={start:n,end:r}),i}function nB(e,t){return(null===e.end||null===t.start||e.end>t.start)&&(null===e.start||null===t.end||e.start<t.end)}function nz(e,t){return(null===e.start||null!==t.start&&t.start>=e.start)&&(null===e.end||null!==t.end&&t.end<=e.end)}function n$(e,t){return(null===e.start||t>=e.start)&&(null===e.end||t<e.end)}function nV(e){let t=Math.floor(tM(e.start,e.end))||1,n=tO(e.start),r=tk(n,t);return{start:n,end:r}}function nW(e,t=tw(0)){let n=null,r=null;if(e.end){r=tO(e.end);let n=e.end.valueOf()-r.valueOf();n&&n>=tC(t)&&(r=tk(r,1))}return e.start&&(n=tO(e.start),r&&r<=n&&(r=tk(n,1))),{start:n,end:r}}function nq(e,t,n,r){let i,a;return"year"===r?tw(n.diffWholeYears(e,t),"year"):"month"===r?tw(n.diffWholeMonths(e,t),"month"):{years:0,months:0,days:Math.round(tM(i=tO(e),a=tO(t))),milliseconds:t.valueOf()-a.valueOf()-(e.valueOf()-i.valueOf())}}class nG{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,n){let{dateEnv:r}=this.props,i=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,-1,n)}buildNext(e,t,n){let{dateEnv:r}=this.props,i=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,1,n)}build(e,t,n=!0){var r,i;let a,s,o,l,c,d,{props:u}=this;return a=this.buildValidRange(),a=this.trimHiddenDays(a),n&&(r=e,e=null!=(i=a).start&&r<i.start?i.start:null!=i.end&&r>=i.end?new Date(i.end.valueOf()-1):r),s=this.buildCurrentRangeInfo(e,t),o=/^(year|month|week|day)$/.test(s.unit),l=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,o),c=l=this.trimHiddenDays(l),u.showNonCurrentDates||(c=nF(c,s.range)),c=nF(c=this.adjustActiveRange(c),a),d=nB(s.range,a),n$(l,e)||(e=l.start),{currentDate:e,validRange:a,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:o,activeRange:c,renderRange:l,slotMinTime:u.slotMinTime,slotMaxTime:u.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,t="function"==typeof e?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let n,{props:r}=this,i=null,a=null,s=null;return r.duration?(i=r.duration,a=r.durationUnit,s=this.buildRangeFromDuration(e,t,i,a)):(n=this.props.dayCount)?(a="day",s=this.buildRangeFromDayCount(e,t,n)):(s=this.buildCustomVisibleRange(e))?a=r.dateEnv.greatestWholeUnit(s.start,s.end).unit:(a=tT(i=this.getFallbackDuration()).unit,s=this.buildRangeFromDuration(e,t,i,a)),{duration:i,unit:a,range:s}}getFallbackDuration(){return tw({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:r,slotMaxTime:i}=this.props,{start:a,end:s}=e;return n&&(0>tS(r)&&(a=tO(a),a=t.add(a,r)),tS(i)>1&&(s=tk(s=tO(s),-1),s=t.add(s,i))),{start:a,end:s}}buildRangeFromDuration(e,t,n,r){let i,a,s,{dateEnv:o,dateAlignment:l}=this.props;if(!l){let{dateIncrement:e}=this.props;l=e&&tC(e)<tC(n)?tT(e).unit:r}function c(){i=o.startOf(e,l),a=o.add(i,n),s={start:i,end:a}}return 1>=tS(n)&&this.isHiddenDay(i)&&(i=tO(i=this.skipHiddenDays(i,t))),c(),this.trimHiddenDays(s)||(e=this.skipHiddenDays(e,t),c()),s}buildRangeFromDayCount(e,t,n){let r,{dateEnv:i,dateAlignment:a}=this.props,s=0,o=e;a&&(o=i.startOf(o,a)),o=tO(o),r=o=this.skipHiddenDays(o,t);do r=tk(r,1),this.isHiddenDay(r)||(s+=1);while(s<n)return{start:o,end:r}}buildCustomVisibleRange(e){let{props:t}=this,n=t.visibleRangeInput,r="function"==typeof n?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,i=this.refineRange(r);return i&&(null==i.start||null==i.end)?null:i}buildRenderRange(e,t,n){return e}buildDateIncrement(e){let t,{dateIncrement:n}=this.props;return n||((t=this.props.dateAlignment)?tw(1,t):e||tw({days:1}))}refineRange(e){if(e){var t;let n,r,i=(t=this.props.dateEnv,n=null,r=null,(e.start&&(n=t.createMarker(e.start)),e.end&&(r=t.createMarker(e.end)),!n&&!r||n&&r&&r<n)?null:{start:n,end:r});return i&&(i=nW(i)),i}return null}initHiddenDays(){let e,t=this.props.hiddenDays||[],n=[],r=0;for(!1===this.props.weekends&&t.push(0,6),e=0;e<7;e+=1)(n[e]=-1!==t.indexOf(e))||(r+=1);if(!r)throw Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:t,end:n}=e;return(t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),null==t||null==n||t<n)?{start:t,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=tk(e,t);return e}}function nQ(e,t,n,r){return{instanceId:th(),defId:e,range:t,forcedStartTzo:null==n?null:n,forcedEndTzo:null==r?null:r}}function nY(e,t,n){let{dateEnv:r,pluginHooks:i,options:a}=n,{defs:s,instances:o}=e;for(let e in o=nc(o,e=>!s[e.defId].recurringDef),s){let n=s[e];if(n.recurringDef){let{duration:s}=n.recurringDef;for(let l of(s||(s=n.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration),function(e,t,n,r,i){let a=i[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:r.subtract(n.start,t),end:n.end},r);return e.allDay&&(a=a.map(tO)),a}(n,s,t,r,i.recurringTypes))){let t=nQ(e,{start:l,end:r.add(l,s)});o[t.instanceId]=t}}}return{defs:s,instances:o}}const nK={id:String,groupId:String,title:String,url:String,interactive:Boolean},nJ={start:ns,end:ns,date:ns,allDay:Boolean},nZ=Object.assign(Object.assign(Object.assign({},nK),nJ),{extendedProps:ns});function nX(e,t,n,r,i=n1(n),a,s){var o,l;let c,{refined:d,extra:u}=n0(e,n,i),h=(o=t,l=n,c=null,o&&(c=o.defaultAllDay),null==c&&(c=l.options.defaultAllDay),c),f=function(e,t,n,r){for(let i=0;i<r.length;i+=1){let a=r[i].parse(e,n);if(a){let{allDay:n}=e;return null==n&&null==(n=t)&&null==(n=a.allDayGuess)&&(n=!1),{allDay:n,duration:a.duration,typeData:a.typeData,typeId:i}}}return null}(d,h,n.dateEnv,n.pluginHooks.recurringTypes);if(f){let e=n4(d,u,t?t.sourceId:"",f.allDay,!!f.duration,n,a);return e.recurringDef={typeId:f.typeId,typeData:f.typeData,duration:f.duration},{def:e,instance:null}}let p=function(e,t,n,r){let i,a,{allDay:s}=e,o=null,l=!1,c=null,d=null!=e.start?e.start:e.date;if(i=n.dateEnv.createMarkerMeta(d))o=i.marker;else if(!r)return null;return null!=e.end&&(a=n.dateEnv.createMarkerMeta(e.end)),null==s&&(s=null!=t?t:(!i||i.isTimeUnspecified)&&(!a||a.isTimeUnspecified)),s&&o&&(o=tO(o)),a&&(c=a.marker,s&&(c=tO(c)),o&&c<=o&&(c=null)),c?l=!0:r||(l=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,s?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:s,hasEnd:l,range:{start:o,end:c},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:a?a.forcedTzo:null}}(d,h,n,r);if(p){let e=n4(d,u,t?t.sourceId:"",p.allDay,p.hasEnd,n,a),r=nQ(e.defId,p.range,p.forcedStartTzo,p.forcedEndTzo);return s&&e.publicId&&s[e.publicId]&&(r.instanceId=s[e.publicId]),{def:e,instance:r}}return null}function n0(e,t,n=n1(t)){return na(e,n)}function n1(e){return Object.assign(Object.assign(Object.assign({},re),nZ),e.pluginHooks.eventRefiners)}function n4(e,t,n,r,i,a,s){let o={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(s&&e.id?s[e.id]:"")||th(),sourceId:n,allDay:r,hasEnd:i,interactive:e.interactive,ui:rn(e,a),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let t of a.pluginHooks.eventDefMemberAdders)Object.assign(o,t(e));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function n3(e,t,n,r,i,a){let s=n5(),o=n1(n);for(let l of e){let e=nX(l,t,n,r,o,i,a);e&&n2(e,s)}return s}function n2(e,t=n5()){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function n6(e,t){let n=e.instances[t];if(n){let t=e.defs[n.defId],r=n7(e,e=>{var n,r;return n=t,r=e,!!(n.groupId&&n.groupId===r.groupId)});return r.defs[t.defId]=t,r.instances[n.instanceId]=n,r}return n5()}function n5(){return{defs:{},instances:{}}}function n8(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function n7(e,t){let n=nc(e.defs,t),r=nc(e.instances,e=>n[e.defId]);return{defs:n,instances:r}}function n9(e){return Array.isArray(e)?e:"string"==typeof e?e.split(/\s+/):[]}const re={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:ns,overlap:ns,allow:ns,className:n9,classNames:n9,color:String,backgroundColor:String,borderColor:String,textColor:String},rt={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function rn(e,t){var n;let r=(n=e.constraint,Array.isArray(n)?n3(n,null,t,!0):"object"==typeof n&&n?n3([n],null,t,!0):null!=n?String(n):null);return{display:e.display||null,startEditable:null!=e.startEditable?e.startEditable:e.editable,durationEditable:null!=e.durationEditable?e.durationEditable:e.editable,constraints:null!=r?[r]:[],overlap:null!=e.overlap?e.overlap:null,allows:null!=e.allow?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function rr(e){return e.reduce(ri,rt)}function ri(e,t){return{display:null!=t.display?t.display:e.display,startEditable:null!=t.startEditable?t.startEditable:e.startEditable,durationEditable:null!=t.durationEditable?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:"boolean"==typeof t.overlap?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}const ra={id:String,defaultAllDay:Boolean,url:String,format:String,events:ns,eventDataTransform:ns,success:ns,failure:ns};function rs(e,t,n=ro(t)){let r;if("string"==typeof e?r={url:e}:"function"==typeof e||Array.isArray(e)?r={events:e}:"object"==typeof e&&e&&(r=e),r){let{refined:i,extra:a}=na(r,n),s=function(e,t){let n=t.pluginHooks.eventSourceDefs;for(let t=n.length-1;t>=0;t-=1){let r=n[t].parseMeta(e);if(r)return{sourceDefId:t,meta:r}}return null}(i,t);if(s)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:th(),sourceDefId:s.sourceDefId,meta:s.meta,ui:rn(i,t),extendedProps:a}}return null}function ro(e){return Object.assign(Object.assign(Object.assign({},re),ra),e.pluginHooks.eventSourceRefiners)}function rl(e,t,n){let r=n.options.eventDataTransform,i=t?t.eventDataTransform:null;return i&&(e=rc(e,i)),r&&(e=rc(e,r)),e}function rc(e,t){let n;if(t)for(let r of(n=[],e)){let e=t(r);e?n.push(e):null==e&&n.push(r)}else n=e;return n}function rd(e,t,n){let{defs:r}=e,i=nd(e.instances,e=>r[e.defId].allDay?e:Object.assign(Object.assign({},e),{range:{start:n.createMarker(t.toDate(e.range.start,e.forcedStartTzo)),end:n.createMarker(t.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:e.forcedEndTzo}));return{defs:r,instances:i}}function ru(e,t){return n7(e,e=>e.sourceId!==t)}class rh{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){var n,r,i;n=this.handlers,r=e,i=t,(n[r]||(n[r]=[])).push(i)}off(e,t){var n,r,i;n=this.handlers,r=e,(i=t)?n[r]&&(n[r]=n[r].filter(e=>e!==i)):delete n[r]}trigger(e,...t){let n=this.handlers[e]||[];for(let r of[].concat(this.options&&this.options[e]||[],n))r.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}const rf={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function rp(e,t,n){n.emitter.trigger("select",Object.assign(Object.assign({},rg(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function rg(e,t){var n,r;let i={};for(let n of t.pluginHooks.dateSpanTransforms)Object.assign(i,n(e,t));return Object.assign(i,(n=e,r=t.dateEnv,Object.assign(Object.assign({},rO(n.range,r,n.allDay)),{allDay:n.allDay}))),i}function rm(e,t,n){let{dateEnv:r,options:i}=n,a=t;return e?(a=tO(a),a=r.add(a,i.defaultAllDayEventDuration)):a=r.add(a,i.defaultTimedEventDuration),a}function rv(e,t,n,r){let i=rC(e.defs,t),a=n5();for(let t in e.defs){let s=e.defs[t];a.defs[t]=function(e,t,n,r){let i=n.standardProps||{};null==i.hasEnd&&t.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},e),i),{ui:Object.assign(Object.assign({},e.ui),i.ui)});for(let e of(n.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),n.extendedProps)),r.pluginHooks.eventDefMutationAppliers))e(a,n,r);return!a.hasEnd&&r.options.forceEventDuration&&(a.hasEnd=!0),a}(s,i[t],n,r)}for(let t in e.instances){let s=e.instances[t],o=a.defs[s.defId];a.instances[t]=function(e,t,n,r,i){let{dateEnv:a}=i,s=r.standardProps&&!0===r.standardProps.allDay,o=r.standardProps&&!1===r.standardProps.hasEnd,l=Object.assign({},e);return s&&(l.range=nV(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:a.add(l.range.start,r.datesDelta),end:a.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:a.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:a.add(l.range.end,r.endDelta)}),o&&(l.range={start:l.range.start,end:rm(t.allDay,l.range.start,i)}),t.allDay&&(l.range={start:tO(l.range.start),end:tO(l.range.end)}),l.range.end<l.range.start&&(l.range.end=rm(t.allDay,l.range.start,i)),l}(s,o,i[s.defId],n,r)}return a}class rb{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class ry{constructor(e,t,n){this._context=e,this._def=t,this._instance=n||null}setProp(e,t){if(e in nJ)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===e)t=nK[e](t),this.mutate({standardProps:{publicId:t}});else if(e in nK)t=nK[e](t),this.mutate({standardProps:{[e]:t}});else if(e in re){let n=re[e](t);n="color"===e?{backgroundColor:t,borderColor:t}:"editable"===e?{startEditable:t,durationEditable:t}:{[e]:t},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:n}=this._context,r=n.createMarker(e);if(r&&this._instance){let e=nq(this._instance.range.start,r,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:e}):this.mutate({startDelta:e})}}setEnd(e,t={}){let n,{dateEnv:r}=this._context;if((null==e||(n=r.createMarker(e)))&&this._instance)if(n){let e=nq(this._instance.range.end,n,r,t.granularity);this.mutate({endDelta:e})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,n={}){let r,{dateEnv:i}=this._context,a={allDay:n.allDay},s=i.createMarker(e);if(s){if(null!=t&&!(r=i.createMarker(t)))return;if(this._instance){let e=this._instance.range;!0===n.allDay&&(e=nV(e));let t=nq(e.start,s,i,n.granularity);if(r){let s=nq(e.end,r,i,n.granularity);t.years===s.years&&t.months===s.months&&t.days===s.days&&t.milliseconds===s.milliseconds?this.mutate({datesDelta:t,standardProps:a}):this.mutate({startDelta:t,endDelta:s,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:t,standardProps:a})}}}moveStart(e){let t=tw(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=tw(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=tw(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let n={allDay:e},{maintainDuration:r}=t;null==r&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=r),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:t}=this._context,n=this._instance,r=t5(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,r,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,r,{forcedTzo:n.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let n=this._def,r=this._context,{eventStore:i}=r.getCurrentData(),a=n6(i,t.instanceId);a=rv(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let s=new ry(r,n,t);this._def=a.defs[n.defId],this._instance=a.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:a}),r.emitter.trigger("eventChange",{oldEvent:s,event:this,relatedEvents:rE(a,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:i})}})}}remove(){let e=this._context,t=rw(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new rb(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:n}=t,{startStr:r,endStr:i}=this,a={allDay:t.allDay};return t.title&&(a.title=t.title),r&&(a.start=r),i&&(a.end=i),t.publicId&&(a.id=t.publicId),t.groupId&&(a.groupId=t.groupId),t.url&&(a.url=t.url),n.display&&"auto"!==n.display&&(a.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?a.color=n.backgroundColor:(n.backgroundColor&&(a.backgroundColor=n.backgroundColor),n.borderColor&&(a.borderColor=n.borderColor)),n.textColor&&(a.textColor=n.textColor),n.classNames.length&&(a.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(a,t.extendedProps):a.extendedProps=t.extendedProps),a}toJSON(){return this.toPlainObject()}}function rw(e){let t=e._def,n=e._instance;return{defs:{[t.defId]:t},instances:n?{[n.instanceId]:n}:{}}}function rE(e,t,n){let{defs:r,instances:i}=e,a=[],s=n?n.instanceId:"";for(let e in i){let n=i[e],o=r[n.defId];n.instanceId!==s&&a.push(new ry(t,o,n))}return a}function rA(e,t,n,r){let i={},a={},s={},o=[],l=[],c=rC(e.defs,t);for(let t in e.defs){let n=e.defs[t];"inverse-background"===c[n.defId].display&&(n.groupId?(i[n.groupId]=[],s[n.groupId]||(s[n.groupId]=n)):a[t]=[])}for(let t in e.instances){let s=e.instances[t],d=e.defs[s.defId],u=c[d.defId],h=s.range,f=!d.allDay&&r?nW(h,r):h,p=nF(f,n);p&&("inverse-background"===u.display?d.groupId?i[d.groupId].push(p):a[s.defId].push(p):"none"!==u.display&&("background"===u.display?o:l).push({def:d,ui:u,instance:s,range:p,isStart:f.start&&f.start.valueOf()===p.start.valueOf(),isEnd:f.end&&f.end.valueOf()===p.end.valueOf()}))}for(let e in i)for(let t of nU(i[e],n)){let n=s[e],r=c[n.defId];o.push({def:n,ui:r,instance:null,range:t,isStart:!1,isEnd:!1})}for(let t in a)for(let r of nU(a[t],n))o.push({def:e.defs[t],ui:c[t],instance:null,range:r,isStart:!1,isEnd:!1});return{bg:o,fg:l}}function rS(e){return e.fcSeg||e.parentNode.fcSeg||null}function rC(e,t){return nd(e,e=>r_(e,t))}function r_(e,t){let n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),rr(n)}function rT(e,t){let n=e.map(rD);return n.sort((e,n)=>(function(e,t,n){let r,i;for(r=0;r<n.length;r+=1)if(i=function(e,t,n){var r,i;return n.func?n.func(e,t):(r=e[n.field],i=t[n.field],(r||i?null==i?-1:null==r?1:"string"==typeof r||"string"==typeof i?String(r).localeCompare(String(i)):r-i:0)*(n.order||1))}(e,t,n[r]))return i;return 0})(e,n,t)),n.map(e=>e._seg)}function rD(e){let{eventRange:t}=e,n=t.def,r=t.instance?t.instance.range:t.range,i=r.start?r.start.valueOf():0,a=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:a,duration:a-i,allDay:Number(n.allDay),_seg:e})}function rx(e,t,n,r,i,a,s){let{dateEnv:o,options:l}=n,{displayEventTime:c,displayEventEnd:d}=l,u=e.eventRange.def,h=e.eventRange.instance;null==c&&(c=!1!==r),null==d&&(d=!1!==i);let f=h.range.start,p=h.range.end,g=a||e.start||e.eventRange.range.start,m=s||e.end||e.eventRange.range.end,v=tO(f).valueOf()===tO(g).valueOf(),b=tO(tR(p,-1)).valueOf()===tO(tR(m,-1)).valueOf();return c&&!u.allDay&&(v||b)?(g=v?f:g,m=b?p:m,d&&u.hasEnd)?o.formatRange(g,m,t,{forcedStartTzo:a?null:h.forcedStartTzo,forcedEndTzo:s?null:h.forcedEndTzo}):o.format(g,t,{forcedTzo:a?null:h.forcedStartTzo}):""}function rI(e,t,n){let r=e.eventRange.range;return{isPast:r.end<=(n||t.start),isFuture:r.start>=(n||t.end),isToday:t&&n$(t,r.start)}}function rk(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function rR(e,t){let{def:n,instance:r}=e.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:a,options:s}=t,{eventInteractive:o}=s;return(null==o&&null==(o=n.interactive)&&(o=!!a.hasHandlers("eventClick")),o)?td(e=>{a.trigger("eventClick",{el:e.target,event:new ry(t,n,r),jsEvent:e,view:t.viewApi})}):{}}const rM={start:ns,end:ns,allDay:Boolean};function rP(e,t,n){return Object.assign(Object.assign({},rO(e,t,n)),{timeZone:t.timeZone})}function rO(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}class rN extends Error{constructor(e,t){super(e),this.response=t}}function rL(){return null==r&&(r=function(){if("undefined"==typeof document)return!0;let e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);let t=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),t}()),r}class rH extends nD{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{nw(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{nw(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:n}=this.state,r=n||"auto"===t.height||"auto"===t.contentHeight,i=r||null==t.height?"":t.height,a=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return rL()||a.push("fc-liquid-hack"),e.children(a,i,r,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class rU{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function rj(e){return{[e.component.uid]:e}}const rF={};class rB extends ec{constructor(e,t){super(e,t),this.handleRefresh=()=>{let e=this.computeTiming();e.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(e.state),this.clearTimeout(),this.setTimeout(e.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let e,t,{props:n,context:r}=this,i=r.nowManager.getDateMarker(),a=r.dateEnv.startOf(i,n.unit),s=r.dateEnv.add(a,tw(1,n.unit)).valueOf()-i.valueOf();return s=Math.min(864e5,s),{state:{nowDate:a,todayRange:(t=tk(e=tO(a),1),{start:e,end:t})},waitMs:s}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{let e=this.computeTiming();this.setState(e.state,()=>{this.setTimeout(e.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}rB.contextType=nC;class rz{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let n,r=this.getCurrentData();t=t||"day",n=r.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),n?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:n.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let t,n,{viewSpecs:r,toolbarConfig:i}=this.getCurrentData(),a=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]);for(let e in r)a.push(e);for(t=0;t<a.length;t+=1)if((n=r[a[t]])&&n.singleUnit===e)return n;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),n=tw(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),t5(t))}formatRange(e,t,n){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),t5(n),n)}formatIso(e,t){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:t})}select(e,t){let n;n=null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t};let r=this.getCurrentData(),i=function(e,t,n){let r=function(e,t){let{refined:n,extra:r}=na(e,rM),i=n.start?t.createMarkerMeta(n.start):null,a=n.end?t.createMarkerMeta(n.end):null,{allDay:s}=n;return null==s&&(s=i&&i.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:a?a.marker:null},allDay:s},r)}(e,t),{range:i}=r;if(!i.start)return null;if(!i.end){if(null==n)return null;i.end=t.add(i.start,n)}return r}(n,r.dateEnv,tw({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),rp(i,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}addEvent(e,t){let n;if(e instanceof ry){let t=e._def,n=e._instance;return this.getCurrentData().eventStore.defs[t.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:n2({def:t,instance:n})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData();if(t instanceof rb)n=t.internalEventSource;else if("boolean"==typeof t)t&&([n]=nh(r.eventSources));else if(null!=t){let e=this.getEventSourceById(t);if(!e)return console.warn(`Could not find an event source with ID "${t}"`),null;n=e.internalEventSource}let i=nX(e,n,r,!1);if(i){let e=new ry(r,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:n2(i)}),this.triggerEventAdd(e),e}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:rw(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:n,instances:r}=t.eventStore;for(let i in e=String(e),n){let a=n[i];if(a.publicId===e){if(a.recurringDef)return new ry(t,a,null);for(let e in r){let n=r[e];if(n.defId===a.defId)return new ry(t,a,n)}}}return null}getEvents(){let e=this.getCurrentData();return rE(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,n=[];for(let r in t)n.push(new rb(e,t[r]));return n}getEventSourceById(e){let t=this.getCurrentData(),n=t.eventSources;for(let r in e=String(e),n)if(n[r].publicId===e)return new rb(t,n[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof rb)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=rs(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new rb(t,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=tw(e);t&&this.trigger("_scrollRequest",{time:t})}}function r$(e,t){let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}const rV=n5();class rW{constructor(){this.getKeysForEventDefs=tW(this._getKeysForEventDefs),this.splitDateSelection=tW(this._splitDateSpan),this.splitEventStore=tW(this._splitEventStore),this.splitIndividualUi=tW(this._splitIndividualUi),this.splitEventDrag=tW(this._splitInteraction),this.splitEventResize=tW(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),i=this.splitIndividualUi(e.eventUiBases,n),a=this.splitEventStore(e.eventStore,n),s=this.splitEventDrag(e.eventDrag),o=this.splitEventResize(e.eventResize),l={};for(let n in this.eventUiBuilders=nd(t,(e,t)=>this.eventUiBuilders[t]||tW(rq)),t){let c=t[n],d=a[n]||rV,u=this.eventUiBuilders[n];l[n]={businessHours:c.businessHours||e.businessHours,dateSelection:r[n]||null,eventStore:d,eventUiBases:u(e.eventUiBases[""],c.ui,i[n]),eventSelection:d.instances[e.eventSelection]?e.eventSelection:"",eventDrag:s[n]||null,eventResize:o[n]||null}}return l}_splitDateSpan(e){let t={};if(e)for(let n of this.getKeysForDateSpan(e))t[n]=e;return t}_getKeysForEventDefs(e){return nd(e.defs,e=>this.getKeysForEventDef(e))}_splitEventStore(e,t){let{defs:n,instances:r}=e,i={};for(let e in n)for(let r of t[e])i[r]||(i[r]=n5()),i[r].defs[e]=n[e];for(let e in r){let n=r[e];for(let r of t[n.defId])i[r]&&(i[r].instances[e]=n)}return i}_splitIndividualUi(e,t){let n={};for(let r in e)if(r)for(let i of t[r])n[i]||(n[i]={}),n[i][r]=e[r];return n}_splitInteraction(e){let t={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),i=this._splitEventStore(e.mutatedEvents,r),a=r=>{t[r]||(t[r]={affectedEvents:n[r]||rV,mutatedEvents:i[r]||rV,isEvent:e.isEvent})};for(let e in n)a(e);for(let e in i)a(e)}return t}}function rq(e,t,n){let r=[];e&&r.push(e),t&&r.push(t);let i={"":rr(r)};return n&&Object.assign(i,n),i}function rG(e,t,n,r){return{dow:e.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!n$(r.activeRange,e))),isOther:!!(r&&!n$(r.currentRange,e)),isToday:!!(t&&n$(t,e)),isPast:!!(n?e<n:!!t&&e<t.start),isFuture:!!(n?e>n:!!t&&e>=t.end)}}function rQ(e,t){let n=["fc-day",`fc-day-${tx[e.dow]}`];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}const rY=t5({year:"numeric",month:"long",day:"numeric"}),rK=t5({week:"long"});function rJ(e,t,n="day",r=!0){let{dateEnv:i,options:a,calendarApi:s}=e,o=i.format(t,"week"===n?rK:rY);if(a.navLinks){let e=i.toDate(t),l=e=>{let r="day"===n?a.navLinkDayClick:"week"===n?a.navLinkWeekClick:null;"function"==typeof r?r.call(s,i.toDate(t),e):("string"==typeof r&&(n=r),s.zoomTo(t,n))};return Object.assign({title:tm(a.navLinkHint,[o,e],o),"data-navlink":""},r?tc(l):{onClick:l})}return{"aria-label":o}}let rZ=null;function rX(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function r0(e){let t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function r1(e){let t=[];for(;e instanceof HTMLElement;){let n=window.getComputedStyle(e);if("fixed"===n.position)break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}class r4{constructor(e,t,n,r){this.els=t;let i=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(i.left),r&&this.buildElVerticals(i.top)}buildElHorizontals(e){let t=[],n=[];for(let r of this.els){let i=r.getBoundingClientRect();t.push(i.left-e),n.push(i.right-e)}this.lefts=t,this.rights=n}buildElVerticals(e){let t=[],n=[];for(let r of this.els){let i=r.getBoundingClientRect();t.push(i.top-e),n.push(i.bottom-e)}this.tops=t,this.bottoms=n}leftToIndex(e){let t,{lefts:n,rights:r}=this,i=n.length;for(t=0;t<i;t+=1)if(e>=n[t]&&e<r[t])return t}topToIndex(e){let t,{tops:n,bottoms:r}=this,i=n.length;for(t=0;t<i;t+=1)if(e>=n[t]&&e<r[t])return t}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return r3(this.tops||[],e.tops||[])&&r3(this.bottoms||[],e.bottoms||[])&&r3(this.lefts||[],e.lefts||[])&&r3(this.rights||[],e.rights||[])}}function r3(e,t){let n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(Math.round(e[r])!==Math.round(t[r]))return!1;return!0}class r2{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class r6 extends r2{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class r5 extends r2{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class r8 extends nD{constructor(){super(...arguments),this.uid=th()}prepareHits(){}queryHit(e,t,n,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!e9(e,".fc-event-mirror")}isValidDateDownEl(e){return!e9(e,".fc-event:not(.fc-bg-event)")&&!e9(e,".fc-more-link")&&!e9(e,"a[data-navlink]")&&!e9(e,".fc-popover")}}class r7{constructor(e=e=>e.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let n of e)this.insertEntry(n,t);return t}insertEntry(e,t){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,t)}isInsertionValid(e,t){return(-1===this.maxCoord||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(-1===this.maxStackCnt||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,n){if(this.allowReslicing&&e.touchingEntry){let r=Object.assign(Object.assign({},t),{span:it(t.span,e.touchingEntry.span)});n.push(r),this.splitEntry(t,e.touchingEntry,n)}else n.push(t)}splitEntry(e,t,n){let r=e.span,i=t.span;r.start<i.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:i.start}},n),r.end>i.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.end,end:r.end}},n)}insertEntryAt(e,t){let{entriesByLevel:n,levelCoords:r}=this;-1===t.lateral?(ir(r,t.level,t.levelCoord),ir(n,t.level,[e])):ir(n[t.level],t.lateral,e),this.stackCnts[ie(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:n,strictOrder:r,stackCnts:i}=this,a=t.length,s=0,o=-1,l=-1,c=null,d=0;for(let u=0;u<a;u+=1){let a,h=t[u];if(!r&&h>=s+this.getEntryThickness(e))break;let f=n[u],p=ii(f,e.span.start,r9),g=p[0]+p[1];for(;(a=f[g])&&a.span.start<e.span.end;){let e=h+this.getEntryThickness(a);e>s&&(s=e,c=a,o=u,l=g),e===s&&(d=Math.max(d,i[ie(a)]+1)),g+=1}}let u=0;if(c)for(u=o+1;u<a&&t[u]<s;)u+=1;let h=-1;return u<a&&t[u]===s&&(h=ii(n[u],e.span.end,r9)[0]),{touchingLevel:o,touchingLateral:l,touchingEntry:c,stackCnt:d,levelCoord:s,level:u,lateral:h}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,n=e.length,r=[];for(let i=0;i<n;i+=1){let n=e[i],a=t[i];for(let e of n)r.push(Object.assign(Object.assign({},e),{thickness:this.getEntryThickness(e),levelCoord:a}))}return r}}function r9(e){return e.span.end}function ie(e){return e.index+":"+e.span.start}function it(e,t){let n=Math.max(e.start,t.start),r=Math.min(e.end,t.end);return n<r?{start:n,end:r}:null}function ir(e,t,n){e.splice(t,0,n)}function ii(e,t,n){let r=0,i=e.length;if(!i||t<n(e[r]))return[0,0];if(t>n(e[i-1]))return[i,0];for(;r<i;){let a=Math.floor(r+(i-r)/2),s=n(e[a]);if(t<s)i=a;else{if(!(t>s))return[a,1];r=a+1}}return[r,0]}class ia{constructor(e,t){this.emitter=new rh}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const is={},io="fc-col-header-cell";function il(e){return e.text}class ic extends nD{render(){let{dateEnv:e,options:t,theme:n,viewApi:r}=this.context,{props:i}=this,{date:a,dateProfile:s}=i,o=rG(a,i.todayRange,null,s),l=[io].concat(rQ(o,n)),c=e.format(a,i.dayHeaderFormat),d=!o.isDisabled&&i.colCnt>1?rJ(this.context,a):{},u=e.toDate(a);e.namedTimeZoneImpl&&(u=tR(u,36e5));let h=Object.assign(Object.assign(Object.assign({date:u,view:r},i.extraRenderProps),{text:c}),o);return et(nO,{elTag:"th",elClasses:l,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":o.isDisabled?void 0:t$(a)},i.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:il,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},e=>et("div",{className:"fc-scrollgrid-sync-inner"},!o.isDisabled&&et(e,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]})))}}const id=t5({weekday:"long"});class iu extends nD{render(){let{props:e}=this,{dateEnv:t,theme:n,viewApi:r,options:i}=this.context,a=tk(new Date(2592e5),e.dow),s={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},o=t.format(a,e.dayHeaderFormat),l=Object.assign(Object.assign(Object.assign(Object.assign({date:a},s),{view:r}),e.extraRenderProps),{text:o});return et(nO,{elTag:"th",elClasses:[io,...rQ(s,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:l,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:il,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},n=>et("div",{className:"fc-scrollgrid-sync-inner"},et(n,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(a,id)}})))}}class ih extends nD{constructor(){super(...arguments),this.createDayHeaderFormatter=tW(ip)}render(){let{context:e}=this,{dates:t,dateProfile:n,datesRepDistinctDays:r,renderIntro:i}=this.props,a=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return et(rB,{unit:"day"},(e,s)=>et("tr",{role:"row"},i&&i("day"),t.map(e=>r?et(ic,{key:e.toISOString(),date:e,dateProfile:n,todayRange:s,colCnt:t.length,dayHeaderFormat:a}):et(iu,{key:e.getUTCDay(),dow:e.getUTCDay(),dayHeaderFormat:a}))))}}function ip(e,t,n){return e||(!t||n>10?t5({weekday:"short"}):n>1?t5({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):t5({weekday:"long"}))}class ig{constructor(e,t){let n=e.start,{end:r}=e,i=[],a=[],s=-1;for(;n<r;)t.isHiddenDay(n)?i.push(s+.5):(i.push(s+=1),a.push(n)),n=tk(n,1);this.dates=a,this.indices=i,this.cnt=a.length}sliceRange(e){let t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(tk(e.end,-1)),r=Math.max(0,t),i=Math.min(this.cnt-1,n);return(r=Math.ceil(r))<=(i=Math.floor(i))?{firstIndex:r,lastIndex:i,isStart:t===r,isEnd:n===i}:null}getDateDayIndex(e){let{indices:t}=this,n=Math.floor(tM(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]}}class im{constructor(e,t){let n,r,i,{dates:a}=e;if(t){for(n=1,r=a[0].getUTCDay();n<a.length&&a[n].getUTCDay()!==r;n+=1);i=Math.ceil(a.length/n)}else i=1,n=a.length;this.rowCnt=i,this.colCnt=n,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let n=[];for(let e=0;e<this.colCnt;e+=1)n.push(this.buildCell(t,e));e.push(n)}return e}buildCell(e,t){let n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,n=this.daySeries.sliceRange(e),r=[];if(n){let{firstIndex:e,lastIndex:i}=n,a=e;for(;a<=i;){let s=Math.floor(a/t),o=Math.min((s+1)*t,i+1);r.push({row:s,firstCol:a%t,lastCol:(o-1)%t,isStart:n.isStart&&a===e,isEnd:n.isEnd&&o-1===i}),a=o}}return r}}class iv{constructor(){this.sliceBusinessHours=tW(this._sliceBusinessHours),this.sliceDateSelection=tW(this._sliceDateSpan),this.sliceEventStore=tW(this._sliceEventStore),this.sliceEventDrag=tW(this._sliceInteraction),this.sliceEventResize=tW(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,n,r,...i){let{eventUiBases:a}=e,s=this.sliceEventStore(e.eventStore,a,t,n,...i);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,n,a,r,...i),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,n,r,...i),fgEventSegs:s.fg,bgEventSegs:s.bg,eventDrag:this.sliceEventDrag(e.eventDrag,a,t,n,...i),eventResize:this.sliceEventResize(e.eventResize,a,t,n,...i),eventSelection:e.eventSelection}}sliceNowDate(e,t,n,r,...i){return this._sliceDateSpan({range:{start:e,end:tR(e,1)},allDay:!1},t,n,{},r,...i)}_sliceBusinessHours(e,t,n,r,...i){return e?this._sliceEventStore(nY(e,ib(t,!!n),r),{},t,n,...i).bg:[]}_sliceEventStore(e,t,n,r,...i){if(e){let a=rA(e,t,ib(n,!!r),r);return{bg:this.sliceEventRanges(a.bg,i),fg:this.sliceEventRanges(a.fg,i)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,n,r,...i){if(!e)return null;let a=rA(e.mutatedEvents,t,ib(n,!!r),r);return{segs:this.sliceEventRanges(a.fg,i),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,n,r,i,...a){if(!e)return[];let s=ib(t,!!n),o=nF(e.range,s);if(o){var l;let t,n,s=(l=e=Object.assign(Object.assign({},e),{range:o}),{def:n=n4((t=n0({editable:!1},i)).refined,t.extra,"",l.allDay,!0,i),ui:r_(n,r),instance:nQ(n.defId,l.range),range:l.range,isStart:!0,isEnd:!0}),c=this.sliceRange(e.range,...a);for(let e of c)e.eventRange=s;return c}return[]}sliceEventRanges(e,t){let n=[];for(let r of e)n.push(...this.sliceEventRange(r,t));return n}sliceEventRange(e,t){let n=e.range;this.forceDayIfListItem&&"list-item"===e.ui.display&&(n={start:n.start,end:tk(n.start,1)});let r=this.sliceRange(n,...t);for(let t of r)t.eventRange=e,t.isStart=e.isStart&&t.isStart,t.isEnd=e.isEnd&&t.isEnd;return r}}function ib(e,t){let n=e.activeRange;return t?n:{start:tR(n.start,e.slotMinTime.milliseconds),end:tR(n.end,e.slotMaxTime.milliseconds-864e5)}}function iy(e,t,n){let{instances:r}=e.mutatedEvents;for(let e in r)if(!nz(t.validRange,r[e].range))return!1;return iw({eventDrag:e},n)}function iw(e,t){let n=t.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||function(e,t,n={},r){return(!e.eventDrag||!!function(e,t,n,r){var i,a;let s=t.getCurrentData(),o=e.eventDrag,l=o.mutatedEvents,c=l.defs,d=l.instances,u=rC(c,o.isEvent?e.eventUiBases:{"":s.selectionConfig});r&&(u=nd(u,r));let h=(i=e.eventStore,a=o.affectedEvents.instances,{defs:i.defs,instances:nc(i.instances,e=>!a[e.instanceId])}),f=h.defs,p=h.instances,g=rC(f,e.eventUiBases);for(let r in d){let i=d[r],a=i.range,l=u[i.defId],m=c[i.defId];if(!iE(l.constraints,a,h,e.businessHours,t))return!1;let{eventOverlap:v}=t.options,b="function"==typeof v?v:null;for(let e in p){let n=p[e];if(nB(a,n.range)&&(!1===g[n.defId].overlap&&o.isEvent||!1===l.overlap||b&&!b(new ry(t,f[n.defId],n),new ry(t,m,i))))return!1}let y=s.eventStore;for(let e of l.allows){let a,s=Object.assign(Object.assign({},n),{range:i.range,allDay:m.allDay}),o=y.defs[m.defId],l=y.instances[r];if(a=o?new ry(t,o,l):new ry(t,m),!e(rg(s,t),a))return!1}}return!0}(e,t,n,r))&&(!e.dateSelection||!!function(e,t,n,r){let i=e.eventStore,a=i.defs,s=i.instances,o=e.dateSelection,l=o.range,{selectionConfig:c}=t.getCurrentData();if(r&&(c=r(c)),!iE(c.constraints,l,i,e.businessHours,t))return!1;let{selectOverlap:d}=t.options,u="function"==typeof d?d:null;for(let e in s){let n=s[e];if(nB(l,n.range)&&(!1===c.overlap||u&&!u(new ry(t,a[n.defId],n),null)))return!1}for(let e of c.allows)if(!e(rg(Object.assign(Object.assign({},n),o),t),null))return!1;return!0}(e,t,n,r))})(r,t)}function iE(e,t,n,r,i){for(let a of e)if(!function(e,t){for(let n of e)if(nz(n,t))return!0;return!1}(function(e,t,n,r,i){return"businessHours"===e?iA(nY(r,t,i)):"string"==typeof e?iA(n7(n,t=>t.groupId===e)):"object"==typeof e&&e?iA(nY(e,t,i)):[]}(a,t,n,r,i),t))return!1;return!0}function iA(e){let{instances:t}=e,n=[];for(let e in t)n.push(t[e].range);return n}const iS=/^(visible|hidden)$/;class iC extends nD{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,nx(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:n}=e,r=t&&n,i=["fc-scroller"];return t&&(n?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),et("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(iS.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let e=0;e<n.length;e+=1)if(n[e].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(iS.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let e=0;e<n.length;e+=1)if(n[e].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return iS.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return iS.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class i_{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(e,t)=>{let{depths:n,currentMap:r}=this,i=!1,a=!1;null!==e?(i=t in r,r[t]=e,n[t]=(n[t]||0)+1,a=!0):(n[t]-=1,n[t]||(delete r[t],delete this.callbackMap[t],i=!0)),this.masterCallback&&(i&&this.masterCallback(null,String(t)),a&&this.masterCallback(e,String(t)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=t=>{this.handleValue(t,String(e))}),t}collect(e,t,n){return function(e,t=0,n,r=1){let i=[];null==n&&(n=Object.keys(e).length);for(let a=t;a<n;a+=r){let t=e[a];void 0!==t&&i.push(t)}return i}(this.currentMap,e,t,n)}getAll(){return nh(this.currentMap)}}function iT(e,t){return e.liquid&&t.liquid}function iD(e,t){return tD(e,t,nf)}function ix(e,t){let n=[];for(let i of e){let e=i.span||1;for(let a=0;a<e;a+=1){var r;n.push(et("col",{style:{width:"shrink"===i.width?null==(r=t)?4:r:i.width||"",minWidth:i.minWidth||""}}))}}return et("colgroup",{},...n)}function iI(e){return et("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function ik(e){let{stickyHeaderDates:t}=e;return(null==t||"auto"===t)&&(t="auto"===e.height||"auto"===e.viewHeight),t}function iR(e){let{stickyFooterScrollbar:t}=e;return(null==t||"auto"===t)&&(t="auto"===e.height||"auto"===e.viewHeight),t}class iM extends nD{constructor(){super(...arguments),this.processCols=tW(e=>e,iD),this.renderMicroColGroup=tW(ix),this.scrollerRefs=new i_,this.scrollerElRefs=new i_(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){var e;let t,n,{props:r,state:i,context:a}=this,s=r.sections||[],o=this.processCols(r.cols),l=this.renderMicroColGroup(o,i.shrinkWidth),c=(e=r.liquid,t=["fc-scrollgrid",a.theme.getClass("table")],e&&t.push("fc-scrollgrid-liquid"),t);r.collapsibleWidth&&c.push("fc-scrollgrid-collapsible");let d=s.length,u=0,h=[],f=[],p=[];for(;u<d&&"header"===(n=s[u]).type;)h.push(this.renderSection(n,l,!0)),u+=1;for(;u<d&&"body"===(n=s[u]).type;)f.push(this.renderSection(n,l,!1)),u+=1;for(;u<d&&"footer"===(n=s[u]).type;)p.push(this.renderSection(n,l,!0)),u+=1;let g=!rL(),m={role:"rowgroup"};return et("table",{role:"grid",className:c.join(" "),style:{height:r.height}},!!(!g&&h.length)&&et("thead",m,...h),!!(!g&&f.length)&&et("tbody",m,...f),!!(!g&&p.length)&&et("tfoot",m,...p),g&&et("tbody",m,...h,...f,...p))}renderSection(e,t,n){var r;let i;return"outerContent"in e?et(ei,{key:e.key},e.outerContent):et("tr",{key:e.key,role:"presentation",className:(r=this.props.liquid,i=["fc-scrollgrid-section",`fc-scrollgrid-section-${e.type}`,e.className],r&&e.liquid&&null==e.maxHeight&&i.push("fc-scrollgrid-section-liquid"),e.isSticky&&i.push("fc-scrollgrid-section-sticky"),i).join(" ")},this.renderChunkTd(e,t,e.chunk,n))}renderChunkTd(e,t,n,r){if("outerContent"in n)return n.outerContent;let{props:i}=this,{forceYScrollbars:a,scrollerClientWidths:s,scrollerClientHeights:o}=this.state,l=null!=e.maxHeight||iT(i,e),c=iT(i,e),d=i.liquid?a?"scroll":l?"auto":"hidden":"visible",u=e.key,h=function(e,t,n,r){let{expandRows:i}=n;return"function"==typeof t.content?t.content(n):et("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,et(r?"thead":"tbody",{role:"presentation"},"function"==typeof t.rowContent?t.rowContent(n):t.rowContent))}(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:i.collapsibleWidth||void 0===s[u]?null:s[u],clientHeight:void 0!==o[u]?o[u]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return et(r?"th":"td",{ref:n.elRef,role:"presentation"},et("div",{className:`fc-scroller-harness${c?" fc-scroller-harness-liquid":""}`},et(iC,{ref:this.scrollerRefs.createRef(u),elRef:this.scrollerElRefs.createRef(u),overflowY:d,overflowX:i.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:c,liquidIsAbsolute:!0},h)))}_handleScrollerEl(e,t){let n=function(e,t){for(let n of e)if(n.key===t)return n;return null}(this.props.sections,t);n&&nx(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return!function(e){for(let t of e)if("shrink"===t.width)return!0;return!1}(this.props.cols)?0:function(e){let t=function(e,t){let n=e instanceof HTMLElement?[e]:e,r=[];for(let e=0;e<n.length;e+=1){let i=n[e].querySelectorAll(t);for(let e=0;e<i.length;e+=1)r.push(i[e])}return r}(e,".fc-scrollgrid-shrink"),n=0;for(let e of t)n=Math.max(n,function(e){let t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}(e));return Math.ceil(n)}(this.scrollerElRefs.getAll())}computeScrollerDims(){let e,t,n=(i||((e=document.createElement("div")).style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e),t=rX(e),document.body.removeChild(e),i=t),i),{scrollerRefs:r,scrollerElRefs:a}=this,s=!1,o={},l={};for(let e in r.currentMap){let t=r.currentMap[e];if(t&&t.needsYScrolling()){s=!0;break}}for(let e of this.props.sections){let t=e.key,r=a.currentMap[t];if(r){let e=r.parentNode;o[t]=Math.floor(e.getBoundingClientRect().width-(s?n.y:0)),l[t]=Math.floor(e.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:o,scrollerClientHeights:l}}}iM.addStateEquality({scrollerClientWidths:nf,scrollerClientHeights:nf});class iP extends nD{constructor(){super(...arguments),this.buildPublicEvent=tW((e,t,n)=>new ry(e,t,n)),this.handleEl=e=>{this.el=e,nx(this.props.elRef,e),e&&(e.fcSeg=this.props.seg)}}render(){var e;let t,{props:n,context:r}=this,{options:i}=r,{seg:a}=n,{eventRange:s}=a,{ui:o}=s,l={event:this.buildPublicEvent(r,s.def,s.instance),view:r.viewApi,timeText:n.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!n.disableDragging&&function(e,t){let{pluginHooks:n}=t,r=n.isDraggableTransformers,{def:i,ui:a}=e.eventRange,s=a.startEditable;for(let e of r)s=e(s,i,a,t);return s}(a,r),isStartResizable:!n.disableResizing&&a.isStart&&a.eventRange.ui.durationEditable&&r.options.eventResizableFromStart,isEndResizable:!n.disableResizing&&(e=a).isEnd&&e.eventRange.ui.durationEditable,isMirror:!!(n.isDragging||n.isResizing||n.isDateSelecting),isStart:!!a.isStart,isEnd:!!a.isEnd,isPast:!!n.isPast,isFuture:!!n.isFuture,isToday:!!n.isToday,isSelected:!!n.isSelected,isDragging:!!n.isDragging,isResizing:!!n.isResizing};return et(nO,{elRef:this.handleEl,elTag:n.elTag,elAttrs:n.elAttrs,elClasses:[...(t=["fc-event"],l.isMirror&&t.push("fc-event-mirror"),l.isDraggable&&t.push("fc-event-draggable"),(l.isStartResizable||l.isEndResizable)&&t.push("fc-event-resizable"),l.isDragging&&t.push("fc-event-dragging"),l.isResizing&&t.push("fc-event-resizing"),l.isSelected&&t.push("fc-event-selected"),l.isStart&&t.push("fc-event-start"),l.isEnd&&t.push("fc-event-end"),l.isPast&&t.push("fc-event-past"),l.isToday&&t.push("fc-event-today"),l.isFuture&&t.push("fc-event-future"),t),...a.eventRange.ui.classNames,...n.elClasses||[]],elStyle:n.elStyle,renderProps:l,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:n.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount},n.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&(this.el.fcSeg=this.props.seg)}}class iO extends nD{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{ui:i}=r.eventRange,a=rx(r,n.eventTimeFormat||e.defaultTimeFormat,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return et(iP,Object.assign({},e,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:rR(r,t),defaultGenerator:iN,timeText:a}),(e,t)=>et(ei,null,et(e,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:t.textColor}}),!!t.isStartResizable&&et("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!t.isEndResizable&&et("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function iN(e){return et("div",{className:"fc-event-main-frame"},e.timeText&&et("div",{className:"fc-event-time"},e.timeText),et("div",{className:"fc-event-title-container"},et("div",{className:"fc-event-title fc-sticky"},e.event.title||et(ei,null," "))))}iO.addPropsEquality({seg:nf});const iL=e=>et(nC.Consumer,null,t=>{let{options:n}=t,r={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return et(nO,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},e.children)}),iH=t5({day:"numeric"});class iU extends nD{constructor(){super(...arguments),this.refineRenderProps=tq(iF)}render(){let{props:e,context:t}=this,{options:n}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return et(nO,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":t$(e.date)}),elClasses:[...rQ(r,t.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount},e.children)}}function ij(e){return!!(e.dayCellContent||nk("dayCellContent",e))}function iF(e){let{date:t,dateEnv:n,dateProfile:r,isMonthStart:i}=e,a=rG(t,e.todayRange,null,r),s=e.showDayNumber?n.format(t,i?e.monthStartFormat:iH):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(t),view:e.viewApi},a),{isMonthStart:i,dayNumberText:s}),e.extraRenderProps)}class iB extends nD{render(){let{props:e}=this,{seg:t}=e;return et(iP,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:iz,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function iz(e){let{title:t}=e.event;return t&&et("div",{className:"fc-event-title"},e.event.title)}function i$(e){return et("div",{className:`fc-${e}`})}const iV=e=>et(nC.Consumer,null,t=>{let{dateEnv:n,options:r}=t,{date:i}=e,a=r.weekNumberFormat||e.defaultFormat,s=n.computeWeekNumber(i),o=n.format(i,a);return et(nO,{elRef:e.elRef,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:{num:s,text:o,date:i},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:iW,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},e.children)});function iW(e){return e.text}class iq extends nD{constructor(){super(...arguments),this.state={titleId:ta()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&nx(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{let t=tr(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{"Escape"===e.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){var e,t,n;let{theme:r,options:i}=this.context,{props:a,state:s}=this,o=["fc-popover",r.getClass("popover")].concat(a.extraClassNames||[]);return e=et("div",Object.assign({},a.extraAttrs,{id:a.id,className:o.join(" "),"aria-labelledby":s.titleId,ref:this.handleRootEl}),et("div",{className:"fc-popover-header "+r.getClass("popoverHeader")},et("span",{className:"fc-popover-title",id:s.titleId},a.title),et("span",{className:"fc-popover-close "+r.getIconClass("close"),title:i.closeHint,onClick:this.handleCloseClick})),et("div",{className:"fc-popover-body "+r.getClass("popoverContent")},a.children)),(n=et(eW,{__v:e,i:t=a.parentEl})).containerInfo=t,n}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:n}=this.props,{rootEl:r}=this,i=function(e){let t=r1(e),n=e.getBoundingClientRect();for(let e of t){let t=r$(n,e.getBoundingClientRect());if(!t)return null;n=t}return n}(t);if(i){let a=r.getBoundingClientRect(),s=n?e9(t,".fc-scrollgrid").getBoundingClientRect().top:i.top,o=e?i.right-a.width:i.left;s=Math.max(s,10),o=Math.max(o=Math.min(o,document.documentElement.clientWidth-10-a.width),10);let l=r.offsetParent.getBoundingClientRect();tt(r,{top:s-l.top,left:o-l.left})}}}class iG extends r8{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:n}=this,{startDate:r,todayRange:i,dateProfile:a}=n,s=t.format(r,e.dayPopoverFormat);return et(iU,{elRef:this.handleRootEl,date:r,dateProfile:a,todayRange:i},(t,r,i)=>et(iq,{elRef:i.ref,id:n.id,title:s,extraClassNames:["fc-more-popover"].concat(i.className||[]),extraAttrs:i,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},ij(e)&&et(t,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,t,n,r){let{rootEl:i,props:a}=this;return e>=0&&e<n&&t>=0&&t<r?{dateProfile:a.dateProfile,dateSpan:Object.assign({allDay:!a.forceTimed,range:{start:a.startDate,end:a.endDate}},a.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:n,bottom:r},layer:1}:null}}class iQ extends nD{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:ta()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&nx(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:n}=this,{moreLinkClick:r}=n.options,i=iK(t).start;function a(e){let{def:t,instance:r,range:i}=e.eventRange;return{event:new ry(n,t,r),start:n.dateEnv.toDate(i.start),end:n.dateEnv.toDate(i.end),isStart:e.isStart,isEnd:e.isEnd}}"function"==typeof r&&(r=r({date:i,allDay:!!t.allDayDate,allSegs:t.allSegs.map(a),hiddenSegs:t.hiddenSegs.map(a),jsEvent:e,view:n.viewApi})),r&&"popover"!==r?"string"==typeof r&&n.calendarApi.zoomTo(i,r):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return et(nC.Consumer,null,n=>{let{viewApi:r,options:i,calendarApi:a}=n,{moreLinkText:s}=i,{moreCnt:o}=e,l=iK(e),c="function"==typeof s?s.call(a,o):`+${o} ${s}`,d=tm(i.moreLinkHint,[o],c),u={num:o,shortText:`+${o}`,text:c,view:r};return et(ei,null,!!e.moreCnt&&et(nO,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),tc(this.handleClick)),{title:d,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:u,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:e.defaultGenerator||iY,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},e.children),t.isPopoverOpen&&et(iG,{id:t.popoverId,startDate:l.start,endDate:l.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=e9(this.linkEl,".fc-view-harness"))}}function iY(e){return e.text}function iK(e){if(e.allDayDate)return{start:e.allDayDate,end:tk(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:iJ(t),end:t.reduce(iX).eventRange.range.end}}function iJ(e){return e.reduce(iZ).eventRange.range.start}function iZ(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function iX(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}const i0=[],i1={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},i4=Object.assign(Object.assign({},i1),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(e,t)=>"day"===t?"Today":`This ${e}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:e=>`Show ${e} more event${1===e?"":"s"}`});function i3(e){let t=e.length>0?e[0].code:"en",n=i0.concat(e),r={en:i4};for(let e of n)r[e.code]=e;return{map:r,defaultCode:t}}function i2(e,t){var n,r;let i,a;return"object"!=typeof e||Array.isArray(e)?(n=e,r=t,a=function(e,t){for(let n=0;n<e.length;n+=1){let r=e[n].toLocaleLowerCase().split("-");for(let e=r.length;e>0;e-=1){let n=r.slice(0,e).join("-");if(t[n])return t[n]}}return null}(i=[].concat(n||[]),r)||i4,i6(n,i,a)):i6(e.code,[e.code],e)}function i6(e,t,n){let r=nl([i1,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:e,codes:t,week:i,simpleNumberFormat:new Intl.NumberFormat(e),options:r}}function i5(e){return{id:th(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}class i8 extends ny{}function i7(e,t,n,r){if(t[e])return t[e];let i=function(e,t,n,r){let i=n[e],a=r[e],s=e=>i&&null!==i[e]?i[e]:a&&null!==a[e]?a[e]:null,o=s("component"),l=s("superType"),c=null;if(l){if(l===e)throw Error("Can't have a custom view type that references itself");c=i7(l,t,n,r)}return(!o&&c&&(o=c.component),o)?{type:e,component:o,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),a?a.rawOptions:{})}:null}(e,t,n,r);return i&&(t[e]=i),i}i8.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},i8.prototype.baseIconClass="fc-icon",i8.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},i8.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},i8.prototype.iconOverrideOption="buttonIcons",i8.prototype.iconOverrideCustomButtonOption="icon",i8.prototype.iconOverridePrefix="fc-icon-";function i9(e){let t="function"==typeof e?{component:e}:e,{component:n}=t;return t.content?n=ae(t):!n||n.prototype instanceof nD||(n=ae(Object.assign(Object.assign({},t),{content:n}))),{superType:t.type,component:n,rawOptions:t}}function ae(e){return t=>et(nC.Consumer,null,n=>et(nO,{elTag:"div",elClasses:nH(n.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:e.content,classNameGenerator:e.classNames,didMount:e.didMount,willUnmount:e.willUnmount}))}function at(e,t,n,r){let i=nd(e,i9),a=nd(t.views,i9);return nd(function(e,t){let n,r={};for(n in e)i7(n,r,e,t);for(n in t)i7(n,r,e,t);return r}(i,a),e=>(function(e,t,n,r,i){var a;let s,o,l=e.overrides.duration||e.defaults.duration||r.duration||n.duration,c=null,d="",u="",h={};if(l&&(void 0===(o=an[s=JSON.stringify(a=l)])&&(o=tw(a),an[s]=o),c=o)){let e=tT(c);d=e.unit,1===e.value&&(u=d,h=t[d]?t[d].rawOptions:{})}let f=t=>{let n=t.buttonText||{},r=e.defaults.buttonTextKey;return null!=r&&null!=n[r]?n[r]:null!=n[e.type]?n[e.type]:null!=n[u]?n[u]:null},p=t=>{let n=t.buttonHints||{},r=e.defaults.buttonTextKey;return null!=r&&null!=n[r]?n[r]:null!=n[e.type]?n[e.type]:null!=n[u]?n[u]:null};return{type:e.type,component:e.component,duration:c,durationUnit:d,singleUnit:u,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},h),e.overrides),buttonTextOverride:f(r)||f(n)||e.overrides.buttonText,buttonTextDefault:f(i)||e.defaults.buttonText||f(t7)||e.type,buttonTitleOverride:p(r)||p(n)||e.overrides.buttonHint,buttonTitleDefault:p(i)||e.defaults.buttonHint||p(t7)}})(e,a,t,n,r))}let an={};function ar(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function ai(e,t,n,r){let i={};for(let e of t)i[e.sourceId]=e;return n&&(i=aa(i,n,r)),Object.assign(Object.assign({},e),i)}function aa(e,t,n){return as(e,nc(e,e=>{var r,i,a;return r=e,i=t,al(r,a=n)?!a.options.lazyFetching||!r.fetchRange||r.isFetching||i.start<r.fetchRange.start||i.end>r.fetchRange.end:!r.latestFetchId}),t,!1,n)}function as(e,t,n,r,i){let a={};for(let s in e){let o=e[s];t[s]?a[s]=function(e,t,n,r){let{options:i,calendarApi:a}=r,s=r.pluginHooks.eventSourceDefs[e.sourceDefId],o=th();return s.fetch({eventSource:e,range:t,isRefetch:n,context:r},n=>{let{rawEvents:s}=n;i.eventSourceSuccess&&(s=i.eventSourceSuccess.call(a,s,n.response)||s),e.success&&(s=e.success.call(a,s,n.response)||s),r.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:o,fetchRange:t,rawEvents:s})},n=>{let s=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(a,n),s=!0),e.failure&&(e.failure(n),s=!0),s||console.warn(n.message,n),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:o,fetchRange:t,error:n})}),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:o})}(o,n,r,i):a[s]=o}return a}function ao(e,t){return nc(e,e=>al(e,t))}function al(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function ac(e,t,n,r,i){return{header:e.headerToolbar?ad(e.headerToolbar,e,t,n,r,i):null,footer:e.footerToolbar?ad(e.footerToolbar,e,t,n,r,i):null}}function ad(e,t,n,r,i,a){let s={},o=[],l=!1;for(let c in e){let d=function(e,t,n,r,i,a){let s="rtl"===t.direction,o=t.customButtons||{},l=n.buttonText||{},c=t.buttonText||{},d=n.buttonHints||{},u=t.buttonHints||{},h=e?e.split(" "):[],f=[],p=!1;return{widgets:h.map(e=>e.split(",").map(e=>{let n,h,g,m,v,b;if("title"===e)return p=!0,{buttonName:e};if(n=o[e])g=e=>{n.click&&n.click.call(e.target,e,e.target)},(m=r.getCustomButtonIconClass(n))||(m=r.getIconClass(e,s))||(v=n.text),b=n.hint||n.text;else if(h=i[e]){f.push(e),g=()=>{a.changeView(e)},(v=h.buttonTextOverride)||(m=r.getIconClass(e,s))||(v=h.buttonTextDefault);let n=h.buttonTextOverride||h.buttonTextDefault;b=tm(h.buttonTitleOverride||h.buttonTitleDefault||t.viewHint,[n,e],n)}else if(a[e])if(g=()=>{a[e]()},(v=l[e])||(m=r.getIconClass(e,s))||(v=c[e]),"prevYear"===e||"nextYear"===e){let t="prevYear"===e?"prev":"next";b=tm(d[t]||u[t],[c.year||"year","year"],c[e])}else b=t=>tm(d[e]||u[e],[c[t]||t,t],c[e]);return{buttonName:e,buttonClick:g,buttonIcon:m,buttonText:v,buttonHint:b}})),viewsWithButtons:f,hasTitle:p}}(e[c],t,n,r,i,a);s[c]=d.widgets,o.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:s,viewsWithButtons:o,hasTitle:l}}class au{constructor(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}const ah=i5({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:e=>Array.isArray(e.events)?e.events:null,fetch(e,t){t({rawEvents:e.eventSource.meta})}}]}),af=i5({name:"func-event-source",eventSourceDefs:[{parseMeta:e=>"function"==typeof e.events?e.events:null,fetch(e,t,n){var r;let i,a,s,o,{dateEnv:l}=e.context;r=e.eventSource.meta.bind(null,rP(e.range,l)),i=!1,(o=r(a=function(e){i||(i=!0,(e=>t({rawEvents:e}))(e))},s=function(e){i||(i=!0,n(e))}))&&"function"==typeof o.then&&o.then(a,s)}}]}),ap=i5({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:ns,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:e=>e.url&&("json"===e.format||!e.format)?{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}:null,fetch(e,t,n){let{meta:r}=e.eventSource,i=function(e,t,n){let r,i,a,{dateEnv:s,options:o}=n,l={};return null==(r=e.startParam)&&(r=o.startParam),null==(i=e.endParam)&&(i=o.endParam),null==(a=e.timeZoneParam)&&(a=o.timeZoneParam),Object.assign(l,"function"==typeof e.extraParams?e.extraParams():e.extraParams||{}),l[r]=s.formatIso(t.start),l[i]=s.formatIso(t.end),"local"!==s.timeZone&&(l[a]=s.timeZone),l}(r,e.range,e.context);(function(e,t,n){let r={method:e=e.toUpperCase()};return"GET"===e?t+=(-1===t.indexOf("?")?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,r).then(e=>{if(e.ok)return e.json().then(t=>[t,e],()=>{throw new rN("Failure parsing JSON",e)});throw new rN("Request failed",e)})})(r.method,r.url,i).then(([e,n])=>{t({rawEvents:e,response:n})},n)}}]}),ag=i5({name:"simple-recurring-event",recurringTypes:[{parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){var n,r;let i,a={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null,dateEnv:t};return e.duration&&(i=e.duration),!i&&e.startTime&&e.endTime&&(n=e.endTime,r=e.startTime,i={years:n.years-r.years,months:n.months-r.months,days:n.days-r.days,milliseconds:n.milliseconds-r.milliseconds}),{allDayGuess:!!(!e.startTime&&!e.endTime),duration:i,typeData:a}}return null},expand(e,t,n){let r=nF(t,{start:e.startRecur,end:e.endRecur});return r?function(e,t,n,r,i){let a=e?nu(e):null,s=tO(i.start),o=i.end,l=[];for(;s<o;){let e;(!a||a[s.getUTCDay()])&&(e=t?r.add(s,t):s,l.push(r.createMarker(n.toDate(e)))),s=tk(s,1)}return l}(e.daysOfWeek,e.startTime,e.dateEnv,n,r):[]}}],eventRefiners:{daysOfWeek:ns,startTime:tw,endTime:tw,duration:tw,startRecur:ns,endRecur:ns}});function am(e,t){let n=nh(t.getCurrentData().eventSources);if(1===n.length&&1===e.length&&Array.isArray(n[0]._raw)&&Array.isArray(e[0]))return void t.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:e[0]});let r=[];for(let t of e){let e=!1;for(let r=0;r<n.length;r+=1)if(n[r]._raw===t){n.splice(r,1),e=!0;break}e||r.push(t)}for(let e of n)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:e.sourceId});for(let e of r)t.calendarApi.addEventSource(e)}const av=[ah,af,ap,ag,i5({name:"change-handler",optionChangeHandlers:{events(e,t){am([e],t)},eventSources:am}}),i5({name:"misc",isLoadingFuncs:[e=>ar(e.eventSources)],propSetHandlers:{dateProfile:function(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},rP(e.activeRange,t.dateEnv)),{view:t.viewApi}))},eventStore:function(e,t){let{emitter:n}=t;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",rE(e,t))}}})];class ab{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new e8(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t,n=[];for(;t=e.shift();)this.runTask(t),n.push(t);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function ay(e,t,n){let r;return r=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange,n.formatRange(r.start,r.end,t5(t.titleFormat||function(e){let{currentRangeUnit:t}=e;if("year"===t)return{year:"numeric"};if("month"===t)return{year:"numeric",month:"long"};let n=tP(e.currentRange.start,e.currentRange.end);return null!==n&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}class aw{constructor(){this.resetListeners=new Set}handleInput(e,t){let n=this.dateEnv;if(e!==n&&("function"==typeof t?this.nowFn=t:n||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(let e of this.resetListeners.values())e()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class aE{constructor(e){var t,n,r,i;let a,s,o,l,c;this.computeCurrentViewData=tW(this._computeCurrentViewData),this.organizeRawLocales=tW(i3),this.buildLocale=tW(i2),this.buildPluginHooks=(s=[],o=[],(e,t)=>(a&&tD(e,s)&&tD(t,o)||(a=function(e,t){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(e){for(let t of e){let e=t.name,a=n[e];void 0===a?(n[e]=t.id,i(t.deps),r=function(e,t){var n,r;return{premiumReleaseDate:(n=e.premiumReleaseDate,r=t.premiumReleaseDate,void 0===n?r:void 0===r?n:new Date(Math.max(n.valueOf(),r.valueOf()))),reducers:e.reducers.concat(t.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:e.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},e.eventRefiners),t.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},e.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},e.views),t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},e.themeClasses),t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||t.initialView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},e.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||e.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},e.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},e.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},e.propSetHandlers),t.propSetHandlers)}}(r,t)):a!==t.id&&console.warn(`Duplicate plugin '${e}'`)}}return e&&i(e),i(t),r}(e,t)),s=e,o=t,a)),this.buildDateEnv=tW(aA),this.buildTheme=tW(aS),this.parseToolbars=tW(ac),this.buildViewSpecs=tW(at),this.buildDateProfileGenerator=tq(aC),this.buildViewApi=tW(a_),this.buildViewUiProps=tq(ax),this.buildEventUiBySource=tW(aT,nf),this.buildEventUiBases=tW(aD),this.parseContextBusinessHours=tq(ak),this.buildTitle=tW(ay),this.nowManager=new aw,this.emitter=new rh,this.actionRunner=new ab(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=e=>{this.actionRunner.request(e)},this.props=e,this.actionRunner.pause(),this.nowManager=new aw;let d={},u=this.computeOptionsData(e.optionOverrides,d,e.calendarApi),h=u.calendarOptions.initialView||u.pluginHooks.initialView,f=this.computeCurrentViewData(h,u,e.optionOverrides,d);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(f.options);let p={nowManager:this.nowManager,dateEnv:u.dateEnv,options:u.calendarOptions,pluginHooks:u.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},g=(t=u.calendarOptions,n=u.dateEnv,r=this.nowManager,null!=(l=t.initialDate)?n.createMarker(l):r.getDateMarker()),m=f.dateProfileGenerator.build(g);for(let e of(n$(m.activeRange,g)||(g=m.currentRange.start),u.pluginHooks.contextInit))e(p);let v=(i=u.calendarOptions,c=m?m.activeRange:null,ai({},function(e,t){let n=ro(t),r=[].concat(e.eventSources||[]),i=[];for(let a of(e.initialEvents&&r.unshift(e.initialEvents),e.events&&r.unshift(e.events),r)){let e=rs(a,t,n);e&&i.push(e)}return i}(i,p),c,p)),b={dynamicOptionOverrides:d,currentViewType:h,currentDate:g,dateProfile:m,businessHours:this.parseContextBusinessHours(p),eventSources:v,eventUiBases:{},eventStore:n5(),renderableEventStore:n5(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(p).selectionConfig},y=Object.assign(Object.assign({},p),b);for(let e of u.pluginHooks.reducers)Object.assign(b,e(null,null,y));aI(b,p)&&this.emitter.trigger("loading",!0),this.state=b,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:n}=this;void 0===t?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(void 0===t||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){var t,n,r;let{props:i,state:a,emitter:s}=this,o=(t=a.dynamicOptionOverrides,"SET_OPTION"===e.type?Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue}):t),l=this.computeOptionsData(i.optionOverrides,o,i.calendarApi),c=(n=a.currentViewType,"CHANGE_VIEW_TYPE"===e.type&&(n=e.viewType),n),d=this.computeCurrentViewData(c,l,i.optionOverrides,o);i.calendarApi.currentDataManager=this,s.setThisContext(i.calendarApi),s.setOptions(d.options);let u={nowManager:this.nowManager,dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:i.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},{currentDate:h,dateProfile:f}=a;this.data&&this.data.dateProfileGenerator!==d.dateProfileGenerator&&(f=d.dateProfileGenerator.build(h)),r=h,h="CHANGE_DATE"===e.type?e.dateMarker:r,f=function(e,t,n,r){let i;switch(t.type){case"CHANGE_VIEW_TYPE":return r.build(t.dateMarker||n);case"CHANGE_DATE":return r.build(t.dateMarker);case"PREV":if((i=r.buildPrev(e,n)).isValid)return i;break;case"NEXT":if((i=r.buildNext(e,n)).isValid)return i}return e}(f,e,h,d.dateProfileGenerator),"PREV"!==e.type&&"NEXT"!==e.type&&n$(f.currentRange,h)||(h=f.currentRange.start);let p=function(e,t,n,r){var i,a,s,o,l,c;let d=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return ai(e,t.sources,d,r);case"REMOVE_EVENT_SOURCE":return i=e,a=t.sourceId,nc(i,e=>e.sourceId!==a);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":if(n)return aa(e,d,r);return e;case"FETCH_EVENT_SOURCES":return as(e,t.sourceIds?nu(t.sourceIds):ao(e,r),d,t.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":let u;return s=e,o=t.sourceId,l=t.fetchId,c=t.fetchRange,(u=s[o])&&l===u.latestFetchId?Object.assign(Object.assign({},s),{[o]:Object.assign(Object.assign({},u),{isFetching:!1,fetchRange:c})}):s;case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}(a.eventSources,e,f,u),g=function(e,t,n,r,i){switch(t.type){case"RECEIVE_EVENTS":return function(e,t,n,r,i,a){if(t&&n===t.latestFetchId){let n=n3(rl(i,t,a),t,a);return r&&(n=nY(n,r,a)),n8(ru(e,t.sourceId),n)}return e}(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,i);case"RESET_RAW_EVENTS":return function(e,t,n,r,i){let{defIdMap:a,instanceIdMap:s}=function(e){let{defs:t,instances:n}=e,r={},i={};for(let e in t){let{publicId:n}=t[e];n&&(r[n]=e)}for(let e in n){let{publicId:r}=t[n[e].defId];r&&(i[r]=e)}return{defIdMap:r,instanceIdMap:i}}(e);return nY(n3(rl(n,t,i),t,i,!1,a,s),r,i)}(e,n[t.sourceId],t.rawEvents,r.activeRange,i);case"ADD_EVENTS":var a,s,o,l;return a=e,s=t.eventStore,o=r?r.activeRange:null,l=i,o&&(s=nY(s,o,l)),n8(a,s);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return n8(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":if(r)return nY(e,r.activeRange,i);return e;case"REMOVE_EVENTS":return function(e,t){let{defs:n,instances:r}=e,i={},a={};for(let e in n)t.defs[e]||(i[e]=n[e]);for(let e in r)!t.instances[e]&&i[r[e].defId]&&(a[e]=r[e]);return{defs:i,instances:a}}(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return ru(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return n7(e,e=>!e.sourceId);case"REMOVE_ALL_EVENTS":return n5();default:return e}}(a.eventStore,e,p,f,u),m=ar(p)&&!d.options.progressiveEventRendering&&a.renderableEventStore||g,{eventUiSingleBase:v,selectionConfig:b}=this.buildViewUiProps(u),y=this.buildEventUiBySource(p),w=this.buildEventUiBases(m.defs,v,y),E={dynamicOptionOverrides:o,currentViewType:c,currentDate:h,dateProfile:f,eventSources:p,eventStore:g,renderableEventStore:m,selectionConfig:b,eventUiBases:w,businessHours:this.parseContextBusinessHours(u),dateSelection:function(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}(a.dateSelection,e),eventSelection:function(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}(a.eventSelection,e),eventDrag:function(e,t){let n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}(a.eventDrag,e),eventResize:function(e,t){let n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}(a.eventResize,e)},A=Object.assign(Object.assign({},u),E);for(let t of l.pluginHooks.reducers)Object.assign(E,t(a,e,A));let S=aI(a,u),C=aI(E,u);!S&&C?s.trigger("loading",!0):S&&!C&&s.trigger("loading",!1),this.state=E,i.onAction&&i.onAction(e)}updateData(){let{props:e,state:t}=this,n=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),i=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),a=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,i.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),i),t),s=r.pluginHooks.optionChangeHandlers,o=n&&n.calendarOptions,l=r.calendarOptions;if(o&&o!==l){if(o.timeZone!==l.timeZone){var c,d;let e;c=a.eventSources,d=t.dateProfile,e=d?d.activeRange:null,t.eventSources=a.eventSources=as(c,ao(c,a),e,!0,a),t.eventStore=a.eventStore=rd(a.eventStore,n.dateEnv,a.dateEnv),t.renderableEventStore=a.renderableEventStore=rd(a.renderableEventStore,n.dateEnv,a.dateEnv)}for(let e in s)(-1!==this.optionsForHandling.indexOf(e)||o[e]!==l[e])&&s[e](l[e],a)}this.optionsForHandling=[],e.onData&&e.onData(a)}computeOptionsData(e,t,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:i,localeDefaults:a,availableLocaleData:s,extra:o}=this.processRawCalendarOptions(e,t);aR(o);let l=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,i,s,r.defaultRangeSeparator),c=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,a),d=this.buildTheme(r,i),u=this.parseToolbars(r,this.stableOptionOverrides,d,c,n);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:i,dateEnv:l,viewSpecs:c,theme:d,toolbarConfig:u,localeDefaults:a,availableRawLocales:s.map}}processRawCalendarOptions(e,t){let{locales:n,locale:r}=nl([t7,e,t],nt),i=this.organizeRawLocales(n),a=i.map,s=this.buildLocale(r||i.defaultCode,a).options,o=this.buildPluginHooks(e.plugins||[],av),l=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t8),t9),ne),o.listenerRefiners),o.optionRefiners),c={},d=nl([t7,s,e,t],nt),u={},h=this.currentCalendarOptionsInput,f=this.currentCalendarOptionsRefined,p=!1;for(let e in d)-1===this.optionsForRefining.indexOf(e)&&(d[e]===h[e]||nt[e]&&e in h&&nt[e](h[e],d[e]))?u[e]=f[e]:l[e]?(u[e]=l[e](d[e]),p=!0):c[e]=h[e];return p&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=u,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:o,availableLocaleData:i,localeDefaults:s,extra:c}}_computeCurrentViewData(e,t,n,r){let i=t.viewSpecs[e];if(!i)throw Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:a,extra:s}=this.processRawViewOptions(i,t.pluginHooks,t.localeDefaults,n,r);aR(s),this.nowManager.handleInput(t.dateEnv,a.now);let o=this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,fixedWeekCount:a.fixedWeekCount});return{viewSpec:i,options:a,dateProfileGenerator:o,viewApi:this.buildViewApi(e,this.getCurrentData,t.dateEnv)}}processRawViewOptions(e,t,n,r,i){let a=nl([t7,e.optionDefaults,n,r,e.optionOverrides,i],nt),s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t8),t9),ne),ni),t.listenerRefiners),t.optionRefiners),o={},l=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,d=!1,u={};for(let e in a)a[e]===l[e]||nt[e]&&nt[e](a[e],l[e])?o[e]=c[e]:(a[e]===this.currentCalendarOptionsInput[e]||nt[e]&&nt[e](a[e],this.currentCalendarOptionsInput[e])?e in this.currentCalendarOptionsRefined&&(o[e]=this.currentCalendarOptionsRefined[e]):s[e]?o[e]=s[e](a[e]):u[e]=a[e],d=!0);return d&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=o),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:u}}}function aA(e,t,n,r,i,a,s,o){let l=i2(t||s.defaultCode,s.map);return new nb({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:a.cmdFormatter,defaultSeparator:o})}function aS(e,t){return new(t.themeClasses[e.themeSystem]||i8)(e)}function aC(e){return new(e.dateProfileGeneratorClass||nG)(e)}function a_(e,t,n){return new au(e,t,n)}function aT(e){return nd(e,e=>e.ui)}function aD(e,t,n){let r={"":t};for(let t in e){let i=e[t];i.sourceId&&n[i.sourceId]&&(r[t]=n[i.sourceId])}return r}function ax(e){let{options:t}=e;return{eventUiSingleBase:rn({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:"boolean"==typeof t.eventOverlap?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:rn({constraint:t.selectConstraint,overlap:"boolean"==typeof t.selectOverlap?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function aI(e,t){for(let n of t.pluginHooks.isLoadingFuncs)if(n(e))return!0;return!1}function ak(e){var t,n;return t=e.options.businessHours,n3((!0===(n=t)?[{}]:Array.isArray(n)?n.filter(e=>e.daysOfWeek):"object"==typeof n&&n?[n]:[]).map(e=>Object.assign(Object.assign({},rf),e)),null,e)}function aR(e,t){for(let n in e)console.warn(`Unknown option '${n}'`+(t?` for view '${t}'`:""))}class aM extends nD{render(){return et("div",{className:"fc-toolbar-chunk"},...this.props.widgetGroups.map(e=>this.renderWidgetGroup(e)))}renderWidgetGroup(e){let{props:t}=this,{theme:n}=this.context,r=[],i=!0;for(let a of e){let{buttonName:e,buttonClick:s,buttonText:o,buttonIcon:l,buttonHint:c}=a;if("title"===e)i=!1,r.push(et("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let i=e===t.activeButton,a=!t.isTodayEnabled&&"today"===e||!t.isPrevEnabled&&"prev"===e||!t.isNextEnabled&&"next"===e,d=[`fc-${e}-button`,n.getClass("button")];i&&d.push(n.getClass("buttonActive")),r.push(et("button",{type:"button",title:"function"==typeof c?c(t.navUnit):c,disabled:a,"aria-pressed":i,className:d.join(" "),onClick:s},o||(l?et("span",{className:l,role:"img"}):"")))}}return r.length>1?et("div",{className:i&&n.getClass("buttonGroup")||""},...r):r[0]}}class aP extends nD{render(){let e,t,{model:n,extraClassName:r}=this.props,i=!1,a=n.sectionWidgets,s=a.center;return a.left?(i=!0,e=a.left):e=a.start,a.right?(i=!0,t=a.right):t=a.end,et("div",{className:[r||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",e||[]),this.renderSection("center",s||[]),this.renderSection("end",t||[]))}renderSection(e,t){let{props:n}=this;return et(aM,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class aO extends nD{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,nx(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:n}=e,r=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",a="";return n?null!==t.availableWidth?i=t.availableWidth/n:a=`${1/n*100}%`:i=e.height||"",et("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:i,paddingBottom:a}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class aN extends rU{constructor(e){super(e),this.handleSegClick=(e,t)=>{let{component:n}=this,{context:r}=n,i=rS(t);if(i&&n.isValidSegDownEl(e.target)){let a=e9(e.target,".fc-event-forced-url"),s=a?a.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:t,event:new ry(n.context,i.eventRange.def,i.eventRange.instance),jsEvent:e,view:r.viewApi}),s&&!e.defaultPrevented&&(window.location.href=s)}},this.destroy=to(e.el,"click",".fc-event",this.handleSegClick)}}class aL extends rU{constructor(e){var t,n,r,i;let a;super(e),this.handleEventElRemove=e=>{e===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(e,t)=>{rS(t)&&(this.currentSegEl=t,this.triggerEvent("eventMouseEnter",e,t))},this.handleSegLeave=(e,t)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",e,t))},this.removeHoverListeners=(t=e.el,n=".fc-event",r=this.handleSegEnter,i=this.handleSegLeave,to(t,"mouseover",n,(e,t)=>{if(t!==a){a=t,r(e,t);let n=e=>{a=null,i(e,t),t.removeEventListener("mouseleave",n)};t.addEventListener("mouseleave",n)}}))}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){let{component:r}=this,{context:i}=r,a=rS(n);(!t||r.isValidSegDownEl(t.target))&&i.emitter.trigger(e,{el:n,event:new ry(i,a.eventRange.def,a.eventRange.instance),jsEvent:t,view:i.viewApi})}}class aH extends nT{constructor(){super(...arguments),this.buildViewContext=tW(n_),this.buildViewPropTransformers=tW(aj),this.buildToolbarProps=tW(aU),this.headerRef=er(),this.footerRef=er(),this.interactionsStore={},this.state={viewLabelId:ta()},this.registerInteractiveComponent=(e,t)=>{let n={component:e,el:t.el,useEventCenter:null==t.useEventCenter||t.useEventCenter,isHitComboAllowed:t.isHitComboAllowed||null},r=[aN,aL].concat(this.props.pluginHooks.componentInteractions).map(e=>new e(n));this.interactionsStore[e.uid]=r,rF[e.uid]=n},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let e of t)e.destroy();delete this.interactionsStore[e.uid]}delete(0,rF)[e.uid]},this.resizeRunner=new e8(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let e,{props:t}=this,{toolbarConfig:n,options:r}=t,i=!1,a="";t.isHeightAuto||t.forPrint?a="":null!=r.height?i=!0:null!=r.contentHeight?a=r.contentHeight:e=Math.max(r.aspectRatio,.5);let s=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.nowManager,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),o=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return et(nC.Provider,{value:s},et(rB,{unit:"day"},r=>{let s=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,r,t.viewTitle);return et(ei,null,n.header&&et(aP,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:o},s)),et(aO,{liquid:i,height:a,aspectRatio:e,labeledById:o},this.renderView(t),this.buildAppendContent()),n.footer&&et(aP,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},s)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(t=>new t(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let n in t)t[n](e[n],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:n}=t.pluginHooks;for(let r in n)t[r]!==e[r]&&n[r](t[r],t)}componentWillUnmount(){for(let e of(window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear(),this.calendarInteractions))e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this;return et(ei,{},...e.pluginHooks.viewContainerAppends.map(t=>t(e)))}renderView(e){let{pluginHooks:t}=e,{viewSpec:n}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint};for(let n of this.buildViewPropTransformers(t.viewPropsTransformers))Object.assign(r,n.transform(r,e));return et(n.component,Object.assign({},r))}}function aU(e,t,n,r,i,a){let s=n.build(i,void 0,!1),o=n.buildPrev(t,r,!1),l=n.buildNext(t,r,!1);return{title:a,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:s.isValid&&!n$(t.currentRange,i),isPrevEnabled:o.isValid,isNextEnabled:l.isValid}}function aj(e){return e.map(e=>new e)}class aF extends rz{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=e=>{switch(e.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=e=>{this.currentData=e,this.renderRunner.request(e.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:e}=this;nw(()=>{ew(et(rH,{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},(t,n,r,i)=>(this.setClassNames(t),this.setHeight(n),et(nP.Provider,{value:this.customContentRenderId},et(aH,Object.assign({isHeightAuto:r,forPrint:i},e))))),this.el)})}else this.isRendered&&(this.isRendered=!1,ew(null,this.el),this.setClassNames([]),this.setHeight(""))},e.isConnected&&e.getRootNode&&e6(e.getRootNode()),this.el=e,this.renderRunner=new e8(this.handleRenderRequest),new aE({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){nw(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!tD(e,this.currentClassNames)){let{classList:t}=this.el;for(let e of this.currentClassNames)t.remove(e);for(let n of e)t.add(n);this.currentClassNames=e}}setHeight(e){tn(this.el,"height",e)}}class aB extends r8{constructor(){super(...arguments),this.headerElRef=er()}renderSimpleLayout(e,t){let{props:n,context:r}=this,i=[],a=ik(r.options);return e&&i.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),i.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),et(nL,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},et(iM,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:i}))}renderHScrollLayout(e,t,n,r){let i=this.context.pluginHooks.scrollGridImpl;if(!i)throw Error("No ScrollGrid implementation");let{props:a,context:s}=this,o=!a.forPrint&&ik(s.options),l=!a.forPrint&&iR(s.options),c=[];return e&&c.push({type:"header",key:"header",isSticky:o,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),c.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),l&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:iI}]}),et(nL,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},et(i,{liquid:!a.isHeightAuto&&!a.forPrint,forPrint:a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:n,minWidth:r}]}],sections:c}))}}function az(e,t){let n=[];for(let e=0;e<t;e+=1)n[e]=[];for(let t of e)n[t.row].push(t);return n}function a$(e,t){let n=[];for(let e=0;e<t;e+=1)n[e]=[];for(let t of e)n[t.firstCol].push(t);return n}function aV(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)n[t.row].segs.push(t)}else for(let e=0;e<t;e+=1)n[e]=null;return n}const aW=t5({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function aq(e){let{display:t}=e.eventRange.ui;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class aG extends nD{render(){let{props:e}=this;return et(iO,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:aW,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class aQ extends nD{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,i=rx(r,n.eventTimeFormat||aW,t,!0,e.defaultDisplayEventEnd);return et(iP,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:rR(e.seg,t),defaultGenerator:aY,timeText:i,isResizing:!1,isDateSelecting:!1}))}}function aY(e){return et(ei,null,et("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&et("div",{className:"fc-event-time"},e.timeText),et("div",{className:"fc-event-title"},e.event.title||et(ei,null," ")))}class aK extends nD{constructor(){super(...arguments),this.compileSegs=tW(aJ)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return et(iQ,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let n=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return et(ei,null,t.map(t=>{let r=t.eventRange.instance.instanceId;return et("div",{className:"fc-daygrid-event-harness",key:r,style:{visibility:n[r]?"hidden":""}},aq(t)?et(aQ,Object.assign({seg:t,isDragging:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},rI(t,e.todayRange))):et(aG,Object.assign({seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},rI(t,e.todayRange))))}))}})}}function aJ(e){let t=[],n=[];for(let r of e)t.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:t,invisibleSegs:n}}const aZ=t5({week:"narrow"});class aX extends r8{constructor(){super(...arguments),this.rootElRef=er(),this.state={dayNumberId:ta()},this.handleRootEl=e=>{nx(this.rootElRef,e),nx(this.props.elRef,e)}}render(){let{context:e,props:t,state:n,rootElRef:r}=this,{options:i,dateEnv:a}=e,{date:s,dateProfile:o}=t,l=t.showDayNumber&&function(e,t,n){let{start:r,end:i}=t,a=tR(i,-1),s=n.getYear(r),o=n.getMonth(r),l=n.getYear(a),c=n.getMonth(a);return(s!==l||o!==c)&&!!(e.valueOf()===r.valueOf()||1===n.getDay(e)&&e.valueOf()<i.valueOf())}(s,o.currentRange,a);return et(iU,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:a0,date:s,dateProfile:o,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:l,extraRenderProps:t.extraRenderProps},(a,o)=>et("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&et(iV,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:rJ(e,s,"week"),date:s,defaultFormat:aZ}),!o.isDisabled&&(t.showDayNumber||ij(i)||t.forceDayTop)?et("div",{className:"fc-daygrid-day-top"},et(a,{elTag:"a",elClasses:["fc-daygrid-day-number",l&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},rJ(e,s)),{id:n.dayNumberId})})):t.showDayNumber?et("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},et("a",{className:"fc-daygrid-day-number"}," ")):void 0,et("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,et("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},et(aK,{allDayDate:s,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),et("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function a0(e){return e.dayNumberText||et(ei,null," ")}function a1(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function a4(e){return a1(e)+":"+e.lastCol}function a3(e,t,n,r){if(e.firstCol===t&&e.lastCol===n-1)return e;let i=e.eventRange,a=i.range,s=nF(a,{start:r[t].date,end:tk(r[n-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:s},isStart:e.isStart&&s.start.valueOf()===a.start.valueOf(),isEnd:e.isEnd&&s.end.valueOf()===a.end.valueOf()})}class a2 extends r7{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let t=super.addSegs(e),{entriesByLevel:n}=this,r=e=>!this.forceHidden[ie(e)];for(let e=0;e<n.length;e+=1)n[e]=n[e].filter(r);return t}handleInvalidInsertion(e,t,n){let{entriesByLevel:r,forceHidden:i}=this,{touchingEntry:a,touchingLevel:s,touchingLateral:o}=e;if(this.hiddenConsumes&&a){let e=ie(a);if(!i[e])if(this.allowReslicing){let e=Object.assign(Object.assign({},a),{span:it(a.span,t.span)});i[ie(e)]=!0,r[s][o]=e,n.push(e),this.splitEntry(a,t,n)}else i[e]=!0,n.push(a)}super.handleInvalidInsertion(e,t,n)}}class a6 extends r8{constructor(){super(...arguments),this.cellElRefs=new i_,this.frameElRefs=new i_,this.fgElRefs=new i_,this.segHarnessRefs=new i_,this.rootElRef=er(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:n}=this,{options:r}=n,i=e.cells.length,a=a$(e.businessHourSegs,i),s=a$(e.bgEventSegs,i),o=a$(this.getHighlightSegs(),i),l=a$(this.getMirrorSegs(),i),{singleColPlacements:c,multiColPlacements:d,moreCnts:u,moreMarginTops:h}=function(e,t,n,r,i,a,s){let o=new a2(t=>i[e[t.index].eventRange.instance.instanceId+":"+t.span.start+":"+(t.span.end-1)]||1);o.allowReslicing=!0,o.strictOrder=r,!0===t||!0===n?(o.maxCoord=a,o.hiddenConsumes=!0):"number"==typeof t?o.maxStackCnt=t:"number"==typeof n&&(o.maxStackCnt=n,o.hiddenConsumes=!0);let l=[],c=[];for(let t=0;t<e.length;t+=1){let n=e[t];null!=i[a4(n)]?l.push({index:t,span:{start:n.firstCol,end:n.lastCol+1}}):c.push(n)}let d=o.addSegs(l),{singleColPlacements:u,multiColPlacements:h,leftoverMargins:f}=function(e,t,n){let r=function(e,t){let n=[];for(let e=0;e<t;e+=1)n.push([]);for(let t of e)for(let e=t.span.start;e<t.span.end;e+=1)n[e].push(t);return n}(e,n.length),i=[],a=[],s=[];for(let e=0;e<n.length;e+=1){let o=r[e],l=[],c=0,d=0;for(let r of o){let i=t[r.index];l.push({seg:a3(i,e,e+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:r.levelCoord-c}),c=r.levelCoord+r.thickness}let u=[];for(let r of(c=0,d=0,o)){let i=t[r.index],a=r.span.end-r.span.start>1,s=r.span.start===e;d+=r.levelCoord-c,c=r.levelCoord+r.thickness,a?(d+=r.thickness,s&&u.push({seg:a3(i,r.span.start,r.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:r.levelCoord,marginTop:0})):s&&(u.push({seg:a3(i,r.span.start,r.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:d}),d=0)}i.push(l),a.push(u),s.push(d)}return{singleColPlacements:i,multiColPlacements:a,leftoverMargins:s}}(o.toRects(),e,s),p=[],g=[];for(let e of c){h[e.firstCol].push({seg:e,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let t=e.firstCol;t<=e.lastCol;t+=1)u[t].push({seg:a3(e,t,t+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<s.length;e+=1)p.push(0);for(let t of d){let n=e[t.index],r=t.span;h[r.start].push({seg:a3(n,r.start,r.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=r.start;e<r.end;e+=1)p[e]+=1,u[e].push({seg:a3(n,e,e+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<s.length;e+=1)g.push(f[e]);return{singleColPlacements:u,multiColPlacements:h,moreCnts:p,moreMarginTops:g}}(rT(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),f=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return et("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((t,n)=>{let r=this.renderFgSegs(n,e.forPrint?c[n]:d[n],e.todayRange,f),i=this.renderFgSegs(n,function(e,t){if(!e.length)return[];let n=function(e){let t={};for(let n of e)for(let e of n)t[e.seg.eventRange.instance.instanceId]=e.absoluteTop;return t}(t);return e.map(e=>({seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:n[e.eventRange.instance.instanceId],marginTop:0}))}(l[n],d),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return et(aX,{key:t.key,elRef:this.cellElRefs.createRef(t.key),innerElRef:this.frameElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&0===n,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:u[n],moreMarginTop:h[n],singlePlacements:c[n],fgContentElRef:this.fgElRefs.createRef(t.key),fgContent:et(ei,null,et(ei,null,r),et(ei,null,i)),bgContent:et(ei,null,this.renderFillSegs(o[n],"highlight"),this.renderFillSegs(a[n],"non-business"),this.renderFillSegs(s[n],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let n=this.props;this.updateSizing(!nf(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,n,r,i,a,s){let{context:o}=this,{eventSelection:l}=this.props,{framePositions:c}=this.state,d=1===this.props.cells.length,u=i||a||s,h=[];if(c)for(let e of t){let{seg:t}=e,{instanceId:f}=t.eventRange.instance,p=e.isVisible&&!r[f],g=e.isAbsolute,m="",v="";g&&(o.isRtl?(v=0,m=c.lefts[t.lastCol]-c.lefts[t.firstCol]):(m=0,v=c.rights[t.firstCol]-c.rights[t.lastCol])),h.push(et("div",{className:"fc-daygrid-event-harness"+(g?" fc-daygrid-event-harness-abs":""),key:a1(t),ref:u?null:this.segHarnessRefs.createRef(a4(t)),style:{visibility:p?"":"hidden",marginTop:g?"":e.marginTop,top:g?e.absoluteTop:"",left:m,right:v}},aq(t)?et(aQ,Object.assign({seg:t,isDragging:i,isSelected:f===l,defaultDisplayEventEnd:d},rI(t,n))):et(aG,Object.assign({seg:t,isDragging:i,isResizing:a,isDateSelecting:s,isSelected:f===l,defaultDisplayEventEnd:d},rI(t,n)))))}return h}renderFillSegs(e,t){let{isRtl:n}=this.context,{todayRange:r}=this.props,{framePositions:i}=this.state,a=[];if(i)for(let s of e){let e=n?{right:0,left:i.lefts[s.lastCol]-i.lefts[s.firstCol]}:{left:0,right:i.rights[s.firstCol]-i.rights[s.lastCol]};a.push(et("div",{key:rk(s.eventRange),className:"fc-daygrid-bg-harness",style:e},"bg-event"===t?et(iB,Object.assign({seg:s},rI(s,r))):i$(t)))}return et(ei,{},...a)}updateSizing(e){let{props:t,state:n,frameElRefs:r}=this;if(!t.forPrint&&null!==t.clientWidth){if(e){let e=t.cells.map(e=>r.currentMap[e.key]);if(e.length){let t=this.rootElRef.current,r=new r4(t,e,!0,!1);n.framePositions&&n.framePositions.similarTo(r)||this.setState({framePositions:new r4(t,e,!0,!1)})}}let i=this.state.segHeights,a=this.querySegHeights(),s=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({segHeights:Object.assign(Object.assign({},i),a),maxContentHeight:s?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let n in e){let r=Math.round(e[n].getBoundingClientRect().height);t[n]=Math.max(t[n]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}a6.addStateEquality({segHeights:nf});class a5 extends r8{constructor(){super(...arguments),this.splitBusinessHourSegs=tW(az),this.splitBgEventSegs=tW(a8),this.splitFgEventSegs=tW(az),this.splitDateSelectionSegs=tW(az),this.splitEventDrag=tW(aV),this.splitEventResize=tW(aV),this.rowRefs=new i_}render(){let{props:e,context:t}=this,n=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,n),i=this.splitBgEventSegs(e.bgEventSegs,n),a=this.splitFgEventSegs(e.fgEventSegs,n),s=this.splitDateSelectionSegs(e.dateSelectionSegs,n),o=this.splitEventDrag(e.eventDrag,n),l=this.splitEventResize(e.eventResize,n),c=n>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return et(rB,{unit:"day"},(t,d)=>et(ei,null,e.cells.map((t,u)=>et(a6,{ref:this.rowRefs.createRef(u),key:t.length?t[0].date.toISOString():u,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:d,dateProfile:e.dateProfile,cells:t,renderIntro:e.renderRowIntro,businessHourSegs:r[u],eventSelection:e.eventSelection,bgEventSegs:i[u],fgEventSegs:a[u],dateSelectionSegs:s[u],eventDrag:o[u],eventResize:l[u],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:c,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new r4(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new r4(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:n,rowPositions:r}=this,i=n.leftToIndex(e),a=r.topToIndex(t);if(null!=a&&null!=i){let e=this.props.cells[a][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(a,i),allDay:!0},e.extraDateSpan),dayEl:this.getCellEl(a,i),rect:{left:n.lefts[i],right:n.rights[i],top:r.tops[a],bottom:r.bottoms[a]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let n=this.props.cells[e][t].date,r=tk(n,1);return{start:n,end:r}}}function a8(e,t){return az(e.filter(a7),t)}function a7(e){return e.eventRange.def.allDay}class a9 extends r8{constructor(){super(...arguments),this.elRef=er(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:r}=e,i=!0===n||!0===t;i&&!r&&(i=!1,t=null,n=null);let a=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return et("div",{ref:this.elRef,className:a.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},et("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,et("tbody",{role:"presentation"},et(a5,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){var e,t;let n,r=(e=this.elRef.current,(t=this.props.dateProfile).currentRangeUnit.match(/year|month/)&&(n=e.querySelector(`[data-date="${t.currentDate.toISOString().match(/^\d{4}-\d{2}/)[0]}-01"]`)),n||(n=e.querySelector(`[data-date="${t$(t.currentDate)}"]`)),n);if(r){let e=r.closest(".fc-daygrid-body"),t=e.closest(".fc-scroller"),n=r.getBoundingClientRect().top-e.getBoundingClientRect().top;t.scrollTop=n?n+1:0}this.needsScrollReset=!1}}}class se extends iv{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class st extends r8{constructor(){super(...arguments),this.slicer=new se,this.tableRef=er()}render(){let{props:e,context:t}=this;return et(a9,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}function sn(e,t){return new im(new ig(e.renderRange,t),/year|month|week/.test(e.currentRangeUnit))}e2(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');var sr=i5({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class extends aB{constructor(){super(...arguments),this.buildDayTableModel=tW(sn),this.headerRef=er(),this.tableRef=er()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:n}=this,r=this.buildDayTableModel(n.dateProfile,t),i=e.dayHeaders&&et(ih,{ref:this.headerRef,dateProfile:n.dateProfile,dates:r.headerDates,datesRepDistinctDays:1===r.rowCnt}),a=t=>et(st,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:r,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(i,a,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(i,a)}},dateProfileGeneratorClass:class extends nG{buildRenderRange(e,t,n){let r=super.buildRenderRange(e,t,n),{props:i}=this;return function(e){let t,{dateEnv:n,currentRange:r}=e,{start:i,end:a}=r;if(e.snapToWeek&&(i=n.startOfWeek(i),(t=n.startOfWeek(a)).valueOf()!==a.valueOf()&&(a=tI(t,1))),e.fixedWeekCount){let e=Math.ceil(tM(n.startOfWeek(n.startOfMonth(tk(r.end,-1))),a)/7);a=tI(a,6-e)}return{start:i,end:a}}({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class si extends rW{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?"background"===e.ui.display||"inverse-background"===e.ui.display?["timed","allDay"]:["allDay"]:["timed"]}}const sa=t5({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function ss(e){let t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return et(nC.Consumer,null,n=>{if(!e.isLabeled)return et("td",{className:t.join(" "),"data-time":e.isoTimeStr});let{dateEnv:r,options:i,viewApi:a}=n,s=null==i.slotLabelFormat?sa:Array.isArray(i.slotLabelFormat)?t5(i.slotLabelFormat[0]):t5(i.slotLabelFormat),o={level:0,time:e.time,date:r.toDate(e.date),view:a,text:r.format(e.date,s)};return et(nO,{elTag:"td",elClasses:t,elAttrs:{"data-time":e.isoTimeStr},renderProps:o,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:so,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},e=>et("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},et(e,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function so(e){return e.text}class sl extends nD{render(){return this.props.slatMetas.map(e=>et("tr",{key:e.key},et(ss,Object.assign({},e))))}}const sc=t5({week:"short"});class sd extends r8{constructor(){super(...arguments),this.allDaySplitter=new si,this.headerElRef=er(),this.rootElRef=er(),this.scrollerElRef=er(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:n}=this.context,{dateProfile:r}=this.props,i=r.renderRange,a=1===tM(i.start,i.end)?rJ(this.context,i.start,"week"):{};return n.weekNumbers&&"day"===e?et(iV,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:i.start,defaultFormat:sc},e=>et("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:t}},et(e,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):et("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},et("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:n}=this.context;return et(nO,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:{text:t.allDayText,view:n},generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:su,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},t=>et("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==e?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},et(t,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,n){let{context:r,props:i}=this,a=[],s=ik(r.options);return e&&a.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(a.push({type:"body",key:"all-day",chunk:{content:t}}),a.push({type:"body",key:"all-day-divider",outerContent:et("tr",{role:"presentation",className:"fc-scrollgrid-section"},et("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),a.push({type:"body",key:"body",liquid:!0,expandRows:!!r.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),et(nL,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},et(iM,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[{width:"shrink"}],sections:a}))}renderHScrollLayout(e,t,n,r,i,a,s){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw Error("No ScrollGrid implementation");let{context:l,props:c}=this,d=!c.forPrint&&ik(l.options),u=!c.forPrint&&iR(l.options),h=[];e&&h.push({type:"header",key:"header",isSticky:d,syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>et("tr",{role:"presentation"},this.renderHeadAxis("day",e.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(h.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>et("tr",{role:"presentation"},this.renderTableRowAxis(e.rowSyncHeights[0]))},{key:"cols",content:t}]}),h.push({key:"all-day-divider",type:"body",outerContent:et("tr",{role:"presentation",className:"fc-scrollgrid-section"},et("td",{colSpan:2,className:"fc-timegrid-divider "+l.theme.getClass("tableCellShaded")}))}));let f=l.options.nowIndicator;return h.push({type:"body",key:"body",liquid:!0,expandRows:!!l.options.expandRows,chunks:[{key:"axis",content:e=>et("div",{className:"fc-timegrid-axis-chunk"},et("table",{"aria-hidden":!0,style:{height:e.expandRows?e.clientHeight:""}},e.tableColGroupNode,et("tbody",null,et(sl,{slatMetas:a}))),et("div",{className:"fc-timegrid-now-indicator-container"},et(rB,{unit:f?"minute":"day"},e=>{let t=f&&s&&s.safeComputeTop(e);return"number"==typeof t?et(iL,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:t},isAxis:!0,date:e}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),u&&h.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:iI},{key:"cols",content:iI}]}),et(nL,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:l.viewSpec},et(o,{liquid:!c.isHeightAuto&&!c.forPrint,forPrint:c.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:i}]}],sections:h}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(!0===e||!0===t)&&(e=void 0,t=5),{dayMaxEvents:e,dayMaxEventRows:t}}}function su(e){return e.text}class sh{constructor(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}safeComputeTop(e){let{dateProfile:t}=this;if(n$(t.currentRange,e)){let n=tO(e),r=e.valueOf()-n.valueOf();if(r>=tC(t.slotMinTime)&&r<tC(t.slotMaxTime))return this.computeTimeTop(tw(r))}return null}computeDateTop(e,t){return t||(t=tO(e)),this.computeTimeTop(tw(e.valueOf()-t.valueOf()))}computeTimeTop(e){let t,n,{positions:r,dateProfile:i}=this,a=r.els.length,s=(e.milliseconds-tC(i.slotMinTime))/tC(this.slotDuration);return t=Math.min(t=Math.floor(s=Math.min(a,s=Math.max(0,s))),a-1),n=s-t,r.tops[t]+r.getHeight(t)*n}}class sf extends nD{render(){let{props:e,context:t}=this,{options:n}=t,{slatElRefs:r}=e;return et("tbody",null,e.slatMetas.map((i,a)=>{let s={time:i.time,date:t.dateEnv.toDate(i.date),view:t.viewApi};return et("tr",{key:i.key,ref:r.createRef(i.key)},e.axis&&et(ss,Object.assign({},i)),et(nO,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!i.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":i.isoTimeStr},renderProps:s,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}}class sp extends nD{constructor(){super(...arguments),this.rootElRef=er(),this.slatElRefs=new i_}render(){let{props:e,context:t}=this;return et("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},et("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,et(sf,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){var e;let{context:t,props:n}=this;n.onCoords&&null!==n.clientWidth&&this.rootElRef.current.offsetHeight&&n.onCoords(new sh(new r4(this.rootElRef.current,(e=this.slatElRefs.currentMap,n.slatMetas.map(t=>e[t.key])),!1,!0),this.props.dateProfile,t.options.slotDuration))}}function sg(e,t){let n,r=[];for(n=0;n<t;n+=1)r.push([]);if(e)for(n=0;n<e.length;n+=1)r[e[n].col].push(e[n]);return r}function sm(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)n[t.col].segs.push(t)}else for(let e=0;e<t;e+=1)n[e]=null;return n}class sv extends nD{render(){let{props:e}=this;return et(iQ,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>sD(e.hiddenSegs,e),defaultGenerator:sb,forceTimed:!0},e=>et(e,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function sb(e){return e.shortText}function sy(e,t){if(!e)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=e,a=r,s=[];for(;a<i;)s.push(t(n,a)),a+=1;return s.sort(sw),[s.map(sE),s[0][1]]}function sw(e,t){return t[1]-e[1]}function sE(e){return e[0]}function sA(e,t){let n={};return(...r)=>{let i=e(...r);return i in n?n[i]:n[i]=t(...r)}}function sS(e,t,n=null,r=0){let i=[];if(n)for(let a=0;a<e.length;a+=1){let s=e[a],o=n.computeDateTop(s.start,t),l=Math.max(o+(r||0),n.computeDateTop(s.end,t));i.push({start:Math.round(o),end:Math.round(l)})}return i}const sC=t5({hour:"numeric",minute:"2-digit",meridiem:!1});class s_ extends nD{render(){return et(iO,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:sC}))}}class sT extends nD{constructor(){super(...arguments),this.sortEventSegs=tW(rT)}render(){let{props:e,context:t}=this,{options:n}=t,r=n.selectMirror,i=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||r&&e.dateSelectionSegs||[],a=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},s=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return et(iU,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},t=>et("div",{className:"fc-timegrid-col-frame"},et("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),et("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,a,!1,!1,!1)),et("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(i,{},!!e.eventDrag,!!e.eventResize,!!r,"mirror")),et("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),ij(n)&&et(t,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,n,r,i,a){let{props:s}=this;return s.forPrint?sD(e,s):this.renderPositionedFgSegs(e,t,n,r,i,a)}renderPositionedFgSegs(e,t,n,r,i,a){let{eventMaxStack:s,eventShortHeight:o,eventOrderStrict:l,eventMinHeight:c}=this.context.options,{date:d,slatCoords:u,eventSelection:h,todayRange:f,nowDate:p}=this.props,g=n||r||i,m=sS(e,d,u,c),{segPlacements:v,hiddenGroups:b}=function(e,t,n,r){let i,a,s=[],o=[];for(let n=0;n<e.length;n+=1){let r=t[n];r?s.push({index:n,thickness:1,span:r}):o.push(e[n])}let{segRects:l,hiddenGroups:c}=(i=new r7,null!=n&&(i.strictOrder=n),null!=r&&(i.maxStackCnt=r),a=function(e){let t=[];for(let i of e){let e=[],a={span:i.span,entries:[i]};for(let i of t){var n,r;it(i.span,a.span)?a={entries:i.entries.concat(a.entries),span:(n=i.span,r=a.span,{start:Math.min(n.start,r.start),end:Math.max(n.end,r.end)})}:e.push(i)}e.push(a),t=e}return t}(i.addSegs(s)),{segRects:function(e){let t=[],n=sA((e,t,n)=>ie(e),(e,n,i)=>{let a=Object.assign(Object.assign({},e),{levelCoord:n,stackDepth:i,stackForward:0});return t.push(a),a.stackForward=r(e.nextLevelNodes,n+e.thickness,i+1)+1});function r(e,t,r){let i=0;for(let a of e)i=Math.max(n(a,t,r),i);return i}return r(e,0,0),t}(function(e,t){let n=sA((e,t,n)=>ie(e),(e,t,r)=>{let i,{nextLevelNodes:a,thickness:s}=e,o=s+r,l=s/o,c=[];if(a.length)for(let e of a)if(void 0===i){let r=n(e,t,o);i=r[0],c.push(r[1])}else{let t=n(e,i,0);c.push(t[1])}else i=1;let d=(i-t)*l;return[i-d,Object.assign(Object.assign({},e),{thickness:d,nextLevelNodes:c})]});return e.map(e=>n(e,0,0)[1])}(function(e){let{entriesByLevel:t}=e,n=sA((e,t)=>e+":"+t,(r,i)=>{let a=sy(function(e,t,n){let{levelCoords:r,entriesByLevel:i}=e,a=i[t][n],s=r[t]+a.thickness,o=r.length,l=t;for(;l<o&&r[l]<s;l+=1);for(;l<o;l+=1){let e,t=i[l],n=ii(t,a.span.start,r9),r=n[0]+n[1],s=r;for(;(e=t[s])&&e.span.start<a.span.end;)s+=1;if(r<s)return{level:l,lateralStart:r,lateralEnd:s}}return null}(e,r,i),n),s=t[r][i];return[Object.assign(Object.assign({},s),{nextLevelNodes:a[0]}),s.thickness+a[1]]});return sy(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,n)[0]}(i),1)),hiddenGroups:a}),d=[];for(let t of l)d.push({seg:e[t.index],rect:t});for(let e of o)d.push({seg:e,rect:null});return{segPlacements:d,hiddenGroups:c}}(e,m,l,s);return et(ei,null,this.renderHiddenGroups(b,e),v.map(e=>{let{seg:s,rect:l}=e,c=s.eventRange.instance.instanceId,d=g||!!(!t[c]&&l),u=sx(l&&l.span),m=!g&&l?this.computeSegHStyle(l):{left:0,right:0},v=!!l&&l.stackForward>0,b=!!l&&l.span.end-l.span.start<o;return et("div",{className:"fc-timegrid-event-harness"+(v?" fc-timegrid-event-harness-inset":""),key:a||c,style:Object.assign(Object.assign({visibility:d?"":"hidden"},u),m)},et(s_,Object.assign({seg:s,isDragging:n,isResizing:r,isDateSelecting:i,isSelected:c===h,isShort:b},rI(s,f,p))))}))}renderHiddenGroups(e,t){let{extraDateSpan:n,dateProfile:r,todayRange:i,nowDate:a,eventSelection:s,eventDrag:o,eventResize:l}=this.props;return et(ei,null,e.map(e=>{var c,d;let u=sx(e.span),h=(c=e.entries,d=t,c.map(e=>d[e.index]));return et(sv,{key:tz(iJ(h)),hiddenSegs:h,top:u.top,bottom:u.bottom,extraDateSpan:n,dateProfile:r,todayRange:i,nowDate:a,eventSelection:s,eventDrag:o,eventResize:l})}))}renderFillSegs(e,t){let{props:n,context:r}=this,i=sS(e,n.date,n.slatCoords,r.options.eventMinHeight).map((r,i)=>{let a=e[i];return et("div",{key:rk(a.eventRange),className:"fc-timegrid-bg-harness",style:sx(r)},"bg-event"===t?et(iB,Object.assign({seg:a},rI(a,n.todayRange,n.nowDate))):i$(t))});return et(ei,null,i)}renderNowIndicator(e){let{slatCoords:t,date:n}=this.props;return t?e.map((e,r)=>et(iL,{key:r,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(e.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let t,n,{isRtl:r,options:i}=this.context,a=i.slotEventOverlap,s=e.levelCoord,o=e.levelCoord+e.thickness;a&&(o=Math.min(1,s+(o-s)*2)),r?(t=1-o,n=s):(t=s,n=1-o);let l={zIndex:e.stackDepth+1,left:100*t+"%",right:100*n+"%"};return a&&!e.stackForward&&(l[r?"marginLeft":"marginRight"]=20),l}}function sD(e,{todayRange:t,nowDate:n,eventSelection:r,eventDrag:i,eventResize:a}){let s=(i?i.affectedInstances:null)||(a?a.affectedInstances:null)||{};return et(ei,null,e.map(e=>{let i=e.eventRange.instance.instanceId;return et("div",{key:i,style:{visibility:s[i]?"hidden":""}},et(s_,Object.assign({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:i===r,isShort:!1},rI(e,t,n))))}))}function sx(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}class sI extends nD{constructor(){super(...arguments),this.splitFgEventSegs=tW(sg),this.splitBgEventSegs=tW(sg),this.splitBusinessHourSegs=tW(sg),this.splitNowIndicatorSegs=tW(sg),this.splitDateSelectionSegs=tW(sg),this.splitEventDrag=tW(sm),this.splitEventResize=tW(sm),this.rootElRef=er(),this.cellElRefs=new i_}render(){let{props:e,context:t}=this,n=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),r=e.cells.length,i=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitBgEventSegs(e.bgEventSegs,r),s=this.splitBusinessHourSegs(e.businessHourSegs,r),o=this.splitNowIndicatorSegs(e.nowIndicatorSegs,r),l=this.splitDateSelectionSegs(e.dateSelectionSegs,r),c=this.splitEventDrag(e.eventDrag,r),d=this.splitEventResize(e.eventResize,r);return et("div",{className:"fc-timegrid-cols",ref:this.rootElRef},et("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,et("tbody",{role:"presentation"},et("tr",{role:"row"},e.axis&&et("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},et("div",{className:"fc-timegrid-col-frame"},et("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof n&&et(iL,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((t,n)=>et(sT,{key:t.key,elRef:this.cellElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,fgEventSegs:i[n],bgEventSegs:a[n],businessHourSegs:s[n],nowIndicatorSegs:o[n],dateSelectionSegs:l[n],eventDrag:c[n],eventResize:d[n],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){var e;let{props:t}=this;t.onColCoords&&null!==t.clientWidth&&t.onColCoords(new r4(this.rootElRef.current,(e=this.cellElRefs.currentMap,t.cells.map(t=>e[t.key])),!0,!1))}}class sk extends r8{constructor(){super(...arguments),this.processSlotOptions=tW(sR),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:n}=this.state;if(t&&n){if(e.time){let r=n.computeTimeTop(e.time);(r=Math.ceil(r))&&(r+=1),t(r)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return et("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},et(sp,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),et(sI,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:n,options:r}=this.context,{colCoords:i}=this,{dateProfile:a}=this.props,{slatCoords:s}=this.state,{snapDuration:o,snapsPerSlot:l}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),c=i.leftToIndex(e),d=s.positions.topToIndex(t);if(null!=c&&null!=d){var u;let e=this.props.cells[c],r=s.positions.tops[d],h=s.positions.getHeight(d),f=Math.floor((t-r)/h*l),p=this.props.cells[c].date,g=tA(a.slotMinTime,(u=d*l+f,{years:o.years*u,months:o.months*u,days:o.days*u,milliseconds:o.milliseconds*u})),m=n.add(p,g),v=n.add(m,o);return{dateProfile:a,dateSpan:Object.assign({range:{start:m,end:v},allDay:!1},e.extraDateSpan),dayEl:i.els[c],rect:{left:i.lefts[c],right:i.rights[c],top:r,bottom:r+h},layer:0}}return null}}function sR(e,t){let n=t||e,r=t_(e,n);return null===r&&(n=e,r=1),{snapDuration:n,snapsPerSlot:r}}class sM extends iv{sliceRange(e,t){let n=[];for(let r=0;r<t.length;r+=1){let i=nF(e,t[r]);i&&n.push({start:i.start,end:i.end,isStart:i.start.valueOf()===e.start.valueOf(),isEnd:i.end.valueOf()===e.end.valueOf(),col:r})}return n}}class sP extends r8{constructor(){super(...arguments),this.buildDayRanges=tW(sO),this.slicer=new sM,this.timeColsRef=er()}render(){let{props:e,context:t}=this,{dateProfile:n,dayTableModel:r}=e,{nowIndicator:i,nextDayThreshold:a}=t.options,s=this.buildDayRanges(r,n,t.dateEnv);return et(rB,{unit:i?"minute":"day"},(o,l)=>et(sk,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,t,s),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:r.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:o,nowIndicatorSegs:i&&this.slicer.sliceNowDate(o,n,a,t,s),todayRange:l,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function sO(e,t,n){let r=[];for(let i of e.headerDates)r.push({start:n.add(i,t.slotMinTime),end:n.add(i,t.slotMaxTime)});return r}const sN=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function sL(e,t,n,r,i){let a=new Date(0),s=e,o=tw(0),l=n||function(e){let t,n,r;for(t=sN.length-1;t>=0;t-=1)if(null!==(r=t_(n=tw(sN[t]),e))&&r>1)return n;return e}(r),c=[];for(;tC(s)<tC(t);){let e=i.add(a,s),t=null!==t_(o,l);c.push({date:e,time:s,key:e.toISOString(),isoTimeStr:tg(e.getUTCHours(),2)+":"+tg(e.getUTCMinutes(),2)+":"+tg(e.getUTCSeconds(),2),isLabeled:t}),s=tA(s,r),o=tA(o,r)}return c}function sH(e,t){return new im(new ig(e.renderRange,t),!1)}e2('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');var sU=i5({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:class extends sd{constructor(){super(...arguments),this.buildTimeColsModel=tW(sH),this.buildSlatMetas=tW(sL)}render(){let{options:e,dateEnv:t,dateProfileGenerator:n}=this.context,{props:r}=this,{dateProfile:i}=r,a=this.buildTimeColsModel(i,n),s=this.allDaySplitter.splitProps(r),o=this.buildSlatMetas(i.slotMinTime,i.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:l}=e,c=!l,d=e.dayHeaders&&et(ih,{dates:a.headerDates,dateProfile:i,datesRepDistinctDays:!0,renderIntro:c?this.renderHeadAxis:null}),u=!1!==e.allDaySlot&&(t=>et(st,Object.assign({},s.allDay,{dateProfile:i,dayTableModel:a,nextDayThreshold:e.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:c?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),h=t=>et(sP,Object.assign({},s.timed,{dayTableModel:a,dateProfile:i,axis:c,slotDuration:e.slotDuration,slatMetas:o,forPrint:r.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return l?this.renderHScrollLayout(d,u,h,a.colCnt,l,o,this.state.slatCoords):this.renderSimpleLayout(d,u,h)}},usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});is.touchMouseIgnoreWait=500;let sj=0,sF=0,sB=!1;class sz{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=e=>{var t;if(!this.shouldIgnoreMouse()&&0===(t=e).button&&!t.ctrlKey&&this.tryStart(e)){let t=this.createEventFromMouse(e,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=e=>{let t=this.createEventFromMouse(e);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleMouseUp=e=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(e)),this.cleanup()},this.handleTouchStart=e=>{if(this.tryStart(e)){this.isTouchDragging=!0;let t=this.createEventFromTouch(e,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t);let n=e.target;this.shouldIgnoreMove||n.addEventListener("touchmove",this.handleTouchMove),n.addEventListener("touchend",this.handleTouchEnd),n.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=e=>{let t=this.createEventFromTouch(e);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleTouchEnd=e=>{if(this.isDragging){let t=e.target;t.removeEventListener("touchmove",this.handleTouchMove),t.removeEventListener("touchend",this.handleTouchEnd),t.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(e)),this.cleanup(),this.isTouchDragging=!1,sj+=1,setTimeout(()=>{sj-=1},is.touchMouseIgnoreWait)}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=e=>{if(!this.shouldIgnoreMove){let t=window.scrollX-this.prevScrollX+this.prevPageX,n=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:e,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:t,pageY:n,deltaX:t-this.origPageX,deltaY:n-this.origPageY})}},this.containerEl=e,this.emitter=new rh,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),1===(sF+=1)&&window.addEventListener("touchmove",s$,{passive:!1})}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),(sF-=1)||window.removeEventListener("touchmove",s$,{passive:!1})}tryStart(e){let t=this.querySubjectEl(e),n=e.target;return!!(t&&(!this.handleSelector||e9(n,this.handleSelector)))&&(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0)}cleanup(){sB=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?e9(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return sj||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(sB=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let n=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:r}}createEventFromTouch(e,t){let n,r,i=e.touches,a=0,s=0;return i&&i.length?(n=i[0].pageX,r=i[0].pageY):(n=e.pageX,r=e.pageY),t?(this.origPageX=n,this.origPageY=r):(a=n-this.origPageX,s=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:r,deltaX:a,deltaY:s}}}function s$(e){sB&&e.preventDefault()}class sV{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let n=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,t){let n,r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+t+"ms,left "+t+"ms",tt(r,{left:i.left,top:i.top}),n=t=>{(()=>{r.style.transition="",e()})(t),tl.forEach(e=>{r.removeEventListener(e,n)})},tl.forEach(e=>{r.addEventListener(e,n)})}cleanup(){this.mirrorEl&&(e7(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&tt(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),tt(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class sW extends r2{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class sq extends sW{constructor(e,t){super(new r6(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return function(e,t=!1,n){let r=r0(e),i=function(e,t=!1){let n,r,i=window.getComputedStyle(e),a=parseInt(i.borderLeftWidth,10)||0,s=parseInt(i.borderRightWidth,10)||0,o=parseInt(i.borderTopWidth,10)||0,l=parseInt(i.borderBottomWidth,10)||0,c=rX(e),d=c.y-a-s,u=c.x-o-l,h={borderLeft:a,borderRight:s,borderTop:o,borderBottom:l,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return(null===rZ&&(tt(n=document.createElement("div"),{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n),r=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left,e7(n),rZ=r),rZ&&"rtl"===i.direction)?h.scrollbarLeft=d:h.scrollbarRight=d,t&&(h.paddingLeft=parseInt(i.paddingLeft,10)||0,h.paddingRight=parseInt(i.paddingRight,10)||0,h.paddingTop=parseInt(i.paddingTop,10)||0,h.paddingBottom=parseInt(i.paddingBottom,10)||0),h}(e,t),a={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return t&&(a.left+=i.paddingLeft,a.right-=i.paddingRight,a.top+=i.paddingTop,a.bottom-=i.paddingBottom),a}(this.scrollController.el)}}class sG extends sW{constructor(e){super(new r5,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const sQ="function"==typeof performance?performance.now:Date.now;class sY{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=sQ();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let n=e-window.scrollX,r=t-window.scrollY,i=null===this.pointerScreenY?0:r-this.pointerScreenY,a=null===this.pointerScreenX?0:n-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(sQ()))}}stop(){if(this.isEnabled){for(let e of(this.isAnimating=!1,this.scrollCaches))e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:n}=e,{edgeThreshold:r}=this,i=r-e.distance,a=i*i/(r*r)*this.maxVelocity*t,s=1;switch(e.name){case"left":s=-1;case"right":n.setScrollLeft(n.getScrollLeft()+a*s);break;case"top":s=-1;case"bottom":n.setScrollTop(n.getScrollTop()+a*s)}}computeBestEdge(e,t){let{edgeThreshold:n}=this,r=null;for(let i of this.scrollCaches||[]){let a=i.clientRect,s=e-a.left,o=a.right-e,l=t-a.top,c=a.bottom-t;s>=0&&o>=0&&l>=0&&c>=0&&(l<=n&&this.everMovedUp&&i.canScrollUp()&&(!r||r.distance>l)&&(r={scrollCache:i,name:"top",distance:l}),c<=n&&this.everMovedDown&&i.canScrollDown()&&(!r||r.distance>c)&&(r={scrollCache:i,name:"bottom",distance:c}),s<=n&&this.everMovedLeft&&i.canScrollLeft()&&(!r||r.distance>s)&&(r={scrollCache:i,name:"left",distance:s}),o<=n&&this.everMovedRight&&i.canScrollRight()&&(!r||r.distance>o)&&(r={scrollCache:i,name:"right",distance:o}))}return r}buildCaches(e){return this.queryScrollEls(e).map(e=>e===window?new sG(!1):new sq(e,!1))}queryScrollEls(e){let t=[];for(let n of this.scrollQuery)"object"==typeof n?t.push(n):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return t}}class sK extends ia{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=e=>{if(!this.isDragging){var t;this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,(t=document.body).style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",ts),document.body.addEventListener("contextmenu",ts),e.isTouch||e.origEvent.preventDefault(),this.emitter.trigger("pointerdown",e),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(e.subjectEl,e.pageX,e.pageY),this.startDelay(e),this.minDistance||this.handleDistanceSurpassed(e))}},this.onPointerMove=e=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",e),!this.isDistanceSurpassed){let t=this.minDistance,{deltaX:n,deltaY:r}=e;n*n+r*r>=t*t&&this.handleDistanceSurpassed(e)}this.isDragging&&("scroll"!==e.origEvent.type&&(this.mirror.handleMove(e.pageX,e.pageY),this.autoScroller.handleMove(e.pageX,e.pageY)),this.emitter.trigger("dragmove",e))}},this.onPointerUp=e=>{if(this.isInteracting){var t;this.isInteracting=!1,(t=document.body).style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",ts),document.body.removeEventListener("contextmenu",ts),this.emitter.trigger("pointerup",e),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(e)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null)}};let n=this.pointer=new sz(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),t&&(n.selector=t),this.mirror=new sV,this.autoScroller=new sY}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class sJ{constructor(e){this.el=e,this.origRect=r0(e),this.scrollCaches=r1(e).map(e=>new sq(e,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let n={left:e,top:t};for(let e of this.scrollCaches){var r;if(!function(e){let t=e.tagName;return"HTML"===t||"BODY"===t}(e.getEventTarget())&&(r=e.clientRect,!(n.left>=r.left)||!(n.left<r.right)||!(n.top>=r.top)||!(n.top<r.bottom)))return!1}return!0}}class sZ{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=e=>{let{dragging:t}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(e),this.initialHit||!this.requireInitial?(t.setIgnoreMove(!1),this.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=e=>{this.emitter.trigger("dragstart",e),this.handleMove(e,!0)},this.handleDragMove=e=>{this.emitter.trigger("dragmove",e),this.handleMove(e)},this.handlePointerUp=e=>{this.releaseHits(),this.emitter.trigger("pointerup",e)},this.handleDragEnd=e=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,e),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",e)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new rh}processFirstCoord(e){var t,n,r;let i,a={left:e.pageX,top:e.pageY},s=a,o=e.subjectEl;o instanceof HTMLElement&&(i=r0(o),t=s,n=i,s={left:Math.min(Math.max(t.left,n.left),n.right),top:Math.min(Math.max(t.top,n.top),n.bottom)});let l=this.initialHit=this.queryHitForOffset(s.left,s.top);if(l){if(this.useSubjectCenter&&i){let e=r$(i,l.rect);e&&(s={left:(e.left+e.right)/2,top:(e.top+e.bottom)/2})}this.coordAdjust={left:(r=s).left-a.left,top:r.top-a.top}}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!sX(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=nd(this.droppableStore,e=>(e.component.prepareHits(),new sJ(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:n,offsetTrackers:r}=this,i=null;for(let a in n){let s=n[a].component,o=r[a];if(o&&o.isWithinClipping(e,t)){let n=o.computeLeft(),r=o.computeTop(),l=e-n,c=t-r,{origRect:d}=o,u=d.right-d.left,h=d.bottom-d.top;if(l>=0&&l<u&&c>=0&&c<h){let e=s.queryHit(l,c,u,h);e&&nz(e.dateProfile.activeRange,e.dateSpan.range)&&(this.disablePointCheck||o.el.contains(o.el.getRootNode().elementFromPoint(l+n-window.scrollX,c+r-window.scrollY)))&&(!i||e.layer>i.layer)&&(e.componentId=a,e.context=s.context,e.rect.left+=n,e.rect.right+=n,e.rect.top+=r,e.rect.bottom+=r,i=e)}}}return i}}function sX(e,t){var n,r,i,a;return!e&&!t||!!e==!!t&&(n=e.dateSpan,r=t.dateSpan,i=n.range,a=r.range,(null===i.start?null:i.start.valueOf())===(null===a.start?null:a.start.valueOf())&&(null===i.end?null:i.end.valueOf())===(null===a.end?null:a.end.valueOf())&&n.allDay===r.allDay&&function(e,t){for(let n in t)if("range"!==n&&"allDay"!==n&&e[n]!==t[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}(n,r))}function s0(e,t){var n,r;let i={};for(let n of t.pluginHooks.datePointTransforms)Object.assign(i,n(e,t));return Object.assign(i,(n=e,{date:(r=t.dateEnv).toDate(n.range.start),dateStr:r.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay})),i}class s1 extends rU{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let t=e.origEvent.target,{component:n,dragging:r}=this,{mirror:i}=r,{options:a}=n.context,s=n.context;this.subjectEl=e.subjectEl;let o=this.subjectSeg=rS(e.subjectEl),l=(this.eventRange=o.eventRange).instance.instanceId;this.relevantEvents=n6(s.getCurrentData().eventStore,l),r.minDistance=e.isTouch?0:a.eventDragMinDistance,r.delay=e.isTouch&&l!==n.props.eventSelection?function(e){let{options:t}=e.context,n=t.eventLongPressDelay;return null==n&&(n=t.longPressDelay),n}(n):null,a.fixedMirrorParent?i.parentNode=a.fixedMirrorParent:i.parentNode=e9(t,".fc"),i.revertDuration=a.dragRevertDuration;let c=n.isValidSegDownEl(t)&&!e9(t,".fc-event-resizer");r.setIgnoreMove(!c),this.isDragging=c&&e.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=e=>{let t=this.component.context,n=this.eventRange,r=n.instance.instanceId;e.isTouch?r!==this.component.props.eventSelection&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:r}):t.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(t.calendarApi.unselect(e),t.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new ry(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi}))},this.handleHitUpdate=(e,t)=>{if(!this.isDragging)return;let n=this.relevantEvents,r=this.hitDragging.initialHit,i=this.component.context,a=null,s=null,o=null,l=!1,c={affectedEvents:n,mutatedEvents:n5(),isEvent:!0};if(e){let t=(a=e.context).options;i===a||t.editable&&t.droppable?(s=function(e,t,n,r){let i=e.dateSpan,a=t.dateSpan,s=i.range.start,o=a.range.start,l={};i.allDay!==a.allDay&&(l.allDay=a.allDay,l.hasEnd=t.context.options.allDayMaintainDuration,s=a.allDay?tO(n):n);let c=nq(s,o,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);c.milliseconds&&(l.allDay=!1);let d={datesDelta:c,standardProps:l};for(let n of r)n(d,e,t);return d}(r,e,this.eventRange.instance.range.start,a.getCurrentData().pluginHooks.eventDragMutationMassagers))&&(c.mutatedEvents=o=rv(n,a.getCurrentData().eventUiBases,s,a),iy(c,e.dateProfile,a)||(l=!0,s=null,o=null,c.mutatedEvents=n5())):a=null}this.displayDrag(a,c),l?tf():tp(),t||(i===a&&sX(r,e)&&(s=null),this.dragging.setMirrorNeedsRevert(!s),this.dragging.setMirrorIsVisible(!e||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=a,this.validMutation=s,this.mutatedRelevantEvents=o)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=e=>{if(this.isDragging){let t=this.component.context,n=t.viewApi,{receivingContext:r,validMutation:i}=this,a=this.eventRange.def,s=this.eventRange.instance,o=new ry(t,a,s),l=this.relevantEvents,c=this.mutatedRelevantEvents,{finalHit:d}=this.hitDragging;if(this.clearDrag(),t.emitter.trigger("eventDragStop",{el:this.subjectEl,event:o,jsEvent:e.origEvent,view:n}),i){if(r===t){let r=new ry(t,c.defs[a.defId],s?c.instances[s.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:c});let d={oldEvent:o,event:r,relatedEvents:rE(c,t,s),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:l})}},u={};for(let e of t.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(u,e(i,t));t.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},d),u),{el:e.subjectEl,delta:i.datesDelta,jsEvent:e.origEvent,view:n})),t.emitter.trigger("eventChange",d)}else if(r){let i={event:o,relatedEvents:rE(l,t,s),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:l})}};t.emitter.trigger("eventLeave",Object.assign(Object.assign({},i),{draggedEl:e.subjectEl,view:n})),t.dispatch({type:"REMOVE_EVENTS",eventStore:l}),t.emitter.trigger("eventRemove",i);let u=c.defs[a.defId],h=c.instances[s.instanceId],f=new ry(r,u,h);r.dispatch({type:"MERGE_EVENTS",eventStore:c});let p={event:f,relatedEvents:rE(c,r,h),revert(){r.dispatch({type:"REMOVE_EVENTS",eventStore:c})}};r.emitter.trigger("eventAdd",p),e.isTouch&&r.dispatch({type:"SELECT_EVENT",eventInstanceId:s.instanceId}),r.emitter.trigger("drop",Object.assign(Object.assign({},s0(d.dateSpan,r)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:d.context.viewApi})),r.emitter.trigger("eventReceive",Object.assign(Object.assign({},p),{draggedEl:e.subjectEl,view:d.context.viewApi}))}}else t.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:n}=t.context,r=this.dragging=new sK(e.el);r.pointer.selector=s1.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.dragScroll;let i=this.hitDragging=new sZ(this.dragging,rF);i.useSubjectCenter=e.useEventCenter,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let n=this.component.context,r=this.receivingContext;r&&r!==e&&(r===n?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:n5(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}s1.SELECTOR=".fc-event-draggable, .fc-event-resizable",is.dataAttrPrefix="";var s4=i5({name:"@fullcalendar/interaction",componentInteractions:[class extends rU{constructor(e){super(e),this.handlePointerDown=e=>{let{dragging:t}=this,n=e.origEvent.target;t.setIgnoreMove(!this.component.isValidDateDownEl(n))},this.handleDragEnd=e=>{let{component:t}=this,{pointer:n}=this.dragging;if(!n.wasTouchScroll){let{initialHit:n,finalHit:r}=this.hitDragging;if(n&&r&&sX(n,r)){let{context:r}=t,i=Object.assign(Object.assign({},s0(n.dateSpan,r)),{dayEl:n.dayEl,jsEvent:e.origEvent,view:r.viewApi||r.calendarApi.view});r.emitter.trigger("dateClick",i)}}},this.dragging=new sK(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new sZ(this.dragging,rj(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class extends rU{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=e=>{let{component:t,dragging:n}=this,{options:r}=t.context,i=r.selectable&&t.isValidDateDownEl(e.origEvent.target);n.setIgnoreMove(!i),n.delay=e.isTouch?function(e){let{options:t}=e.context,n=t.selectLongPressDelay;return null==n&&(n=t.longPressDelay),n}(t):null},this.handleDragStart=e=>{this.component.context.calendarApi.unselect(e)},this.handleHitUpdate=(e,t)=>{let{context:n}=this.component,r=null,i=!1;if(e){var a,s;let t=this.hitDragging.initialHit;e.componentId===t.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(t,e)||(r=function(e,t,n){let r=e.dateSpan,i=t.dateSpan,a=[r.range.start,r.range.end,i.range.start,i.range.end];a.sort(tv);let s={};for(let r of n){let n=r(e,t);if(!1===n)return null;n&&Object.assign(s,n)}return s.range={start:a[0],end:a[3]},s.allDay=r.allDay,s}(t,e,n.pluginHooks.dateSelectionTransformers)),r&&(a=r,s=e.dateProfile,nz(s.validRange,a.range)&&iw({dateSelection:a},n))||(i=!0,r=null)}r?n.dispatch({type:"SELECT_DATES",selection:r}):t||n.dispatch({type:"UNSELECT_DATES"}),i?tf():tp(),t||(this.dragSelection=r)},this.handlePointerUp=e=>{this.dragSelection&&(rp(this.dragSelection,e,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:n}=t.context,r=this.dragging=new sK(e.el);r.touchScrollAllowed=!1,r.minDistance=n.selectMinDistance||0,r.autoScroller.isEnabled=n.dragScroll;let i=this.hitDragging=new sZ(this.dragging,rj(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},s1,class extends rU{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let{component:t}=this,n=rS(this.querySegEl(e)),r=this.eventRange=n.eventRange;this.dragging.minDistance=t.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&this.component.props.eventSelection!==r.instance.instanceId)},this.handleDragStart=e=>{let{context:t}=this.component,n=this.eventRange;this.relevantEvents=n6(t.getCurrentData().eventStore,this.eventRange.instance.instanceId);let r=this.querySegEl(e);this.draggingSegEl=r,this.draggingSeg=rS(r),t.calendarApi.unselect(),t.emitter.trigger("eventResizeStart",{el:r,event:new ry(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi})},this.handleHitUpdate=(e,t,n)=>{let{context:r}=this.component,i=this.relevantEvents,a=this.hitDragging.initialHit,s=this.eventRange.instance,o=null,l=null,c=!1,d={affectedEvents:i,mutatedEvents:n5(),isEvent:!0};e&&(e.componentId===a.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(a,e)||(o=function(e,t,n,r){let i=e.context.dateEnv,a=nq(e.dateSpan.range.start,t.dateSpan.range.start,i,e.largeUnit);if(n){if(i.add(r.start,a)<r.end)return{startDelta:a}}else if(i.add(r.end,a)>r.start)return{endDelta:a};return null}(a,e,n.subjectEl.classList.contains("fc-event-resizer-start"),s.range))),o&&(d.mutatedEvents=l=rv(i,r.getCurrentData().eventUiBases,o,r),iy(d,e.dateProfile,r)||(c=!0,o=null,l=null,d.mutatedEvents=null)),l?r.dispatch({type:"SET_EVENT_RESIZE",state:d}):r.dispatch({type:"UNSET_EVENT_RESIZE"}),c?tf():tp(),t||(o&&sX(a,e)&&(o=null),this.validMutation=o,this.mutatedRelevantEvents=l)},this.handleDragEnd=e=>{let{context:t}=this.component,n=this.eventRange.def,r=this.eventRange.instance,i=new ry(t,n,r),a=this.relevantEvents,s=this.mutatedRelevantEvents;if(t.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:i,jsEvent:e.origEvent,view:t.viewApi}),this.validMutation){let o=new ry(t,s.defs[n.defId],r?s.instances[r.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:s});let l={oldEvent:i,event:o,relatedEvents:rE(s,t,r),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:a})}};t.emitter.trigger("eventResize",Object.assign(Object.assign({},l),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||tw(0),endDelta:this.validMutation.endDelta||tw(0),jsEvent:e.origEvent,view:t.viewApi})),t.emitter.trigger("eventChange",l)}else t.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,n=this.dragging=new sK(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new sZ(this.dragging,rj(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return e9(e.subjectEl,".fc-event")}}],calendarInteractions:[class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=e=>{e.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=e=>{let t=this.context.options.unselectCancel,n=tr(e.origEvent);this.matchesCancel=!!e9(n,t),this.matchesEvent=!!e9(n,s1.SELECTOR)},this.onDocumentPointerUp=e=>{let{context:t}=this,{documentPointer:n}=this,r=t.getCurrentData();if(!n.wasTouchScroll){if(r.dateSelection&&!this.isRecentPointerDateSelect){let n=t.options.unselectAuto;!n||n&&this.matchesCancel||t.calendarApi.unselect(e)}r.eventSelection&&!this.matchesEvent&&t.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new sz(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:sK,optionRefiners:{fixedMirrorParent:ns},listenerRefiners:{dateClick:ns,eventDragStart:ns,eventDragStop:ns,eventDrop:ns,eventResizeStart:ns,eventResizeStop:ns,eventResize:ns,drop:ns,eventReceive:ns,eventLeave:ns}});class s3 extends nD{constructor(){super(...arguments),this.state={textId:ta()}}render(){let{theme:e,dateEnv:t,options:n,viewApi:r}=this.context,{cellId:i,dayDate:a,todayRange:s}=this.props,{textId:o}=this.state,l=rG(a,s),c=n.listDayFormat?t.format(a,n.listDayFormat):"",d=n.listDaySideFormat?t.format(a,n.listDaySideFormat):"",u=Object.assign({date:t.toDate(a),view:r,textId:o,text:c,sideText:d,navLinkAttrs:rJ(this.context,a),sideNavLinkAttrs:rJ(this.context,a,"day",!1)},l);return et(nO,{elTag:"tr",elClasses:["fc-list-day",...rQ(l,e)],elAttrs:{"data-date":t$(a)},renderProps:u,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:s2,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},t=>et("th",{scope:"colgroup",colSpan:3,id:i,"aria-labelledby":o},et(t,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}}function s2(e){return et(ei,null,e.text&&et("a",Object.assign({id:e.textId,className:"fc-list-day-text"},e.navLinkAttrs),e.text),e.sideText&&et("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},e.sideNavLinkAttrs),e.sideText))}const s6=t5({hour:"numeric",minute:"2-digit",meridiem:"short"});class s5 extends nD{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r,timeHeaderId:i,eventHeaderId:a,dateHeaderId:s}=e,o=n.eventTimeFormat||s6;return et(iP,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>{var e;return et("a",Object.assign({},rR(e=r,t)),e.eventRange.def.title)},seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(e,n)=>et(ei,null,function(e,t,n,r,i){let{options:a}=n;if(!1!==a.displayEventTime){let s,o=e.eventRange.def,l=e.eventRange.instance,c=!1;if(o.allDay)c=!0;else{let r;tM((r=nW(e.eventRange.range)).start,r.end)>1?e.isStart?s=rx(e,t,n,null,null,l.range.start,e.end):e.isEnd?s=rx(e,t,n,null,null,e.start,l.range.end):c=!0:s=rx(e,t,n)}return c?et(nO,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${r} ${i}`},renderProps:{text:n.options.allDayText,view:n.viewApi},generatorName:"allDayContent",customGenerator:a.allDayContent,defaultGenerator:s8,classNameGenerator:a.allDayClassNames,didMount:a.allDayDidMount,willUnmount:a.allDayWillUnmount}):et("td",{className:"fc-list-event-time"},s)}return null}(r,o,t,i,s),et("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},et("span",{className:"fc-list-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}})),et(e,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${a} ${s}`}})))}}function s8(e){return e.text}function s7(e){return e.text}function s9(e){let t=tO(e.renderRange.start),n=e.renderRange.end,r=[],i=[];for(;t<n;)r.push(t),i.push({start:t,end:tk(t,1)}),t=tk(t,1);return{dayDates:r,dayRanges:i}}function oe(e){return!1===e?null:t5(e)}e2(':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}');var ot=i5({name:"@fullcalendar/list",optionRefiners:{listDayFormat:oe,listDaySideFormat:oe,noEventsClassNames:ns,noEventsContent:ns,noEventsDidMount:ns,noEventsWillUnmount:ns},views:{list:{component:class extends r8{constructor(){super(...arguments),this.computeDateVars=tW(s9),this.eventStoreToSegs=tW(this._eventStoreToSegs),this.state={timeHeaderId:ta(),eventHeaderId:ta(),dateHeaderIdRoot:ta()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t}=this,{dayDates:n,dayRanges:r}=this.computeDateVars(e.dateProfile),i=this.eventStoreToSegs(e.eventStore,e.eventUiBases,r);return et(nL,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),!1!==t.options.stickyHeaderDates?"fc-list-sticky":""],viewSpec:t.viewSpec},et(iC,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},i.length>0?this.renderSegList(i,n):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context;return et(nO,{elTag:"div",elClasses:["fc-list-empty"],renderProps:{text:e.noEventsText,view:t},generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:s7,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},e=>et(e,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,t){let{theme:n,options:r}=this.context,{timeHeaderId:i,eventHeaderId:a,dateHeaderIdRoot:s}=this.state,o=function(e){let t,n,r=[];for(t=0;t<e.length;t+=1)(r[(n=e[t]).dayIndex]||(r[n.dayIndex]=[])).push(n);return r}(e);return et(rB,{unit:"day"},(e,l)=>{let c=[];for(let n=0;n<o.length;n+=1){let d=o[n];if(d){let o=t$(t[n]),u=s+"-"+o;for(let s of(c.push(et(s3,{key:o,cellId:u,dayDate:t[n],todayRange:l})),d=rT(d,r.eventOrder)))c.push(et(s5,Object.assign({key:o+":"+s.eventRange.instance.instanceId,seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:i,eventHeaderId:a,dateHeaderId:u},rI(s,l,e))))}}return et("table",{className:"fc-list-table "+n.getClass("table")},et("thead",null,et("tr",null,et("th",{scope:"col",id:i},r.timeHint),et("th",{scope:"col","aria-hidden":!0}),et("th",{scope:"col",id:a},r.eventHint))),et("tbody",null,c))})}_eventStoreToSegs(e,t,n){return this.eventRangesToSegs(rA(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)}eventRangesToSegs(e,t){let n=[];for(let r of e)n.push(...this.eventRangeToSegs(r,t));return n}eventRangeToSegs(e,t){let n,r,i,{dateEnv:a}=this.context,{nextDayThreshold:s}=this.context.options,o=e.range,l=e.def.allDay,c=[];for(n=0;n<t.length;n+=1)if((r=nF(o,t[n]))&&(c.push(i={component:this,eventRange:e,start:r.start,end:r.end,isStart:e.isStart&&r.start.valueOf()===o.start.valueOf(),isEnd:e.isEnd&&r.end.valueOf()===o.end.valueOf(),dayIndex:n}),!i.isEnd&&!l&&n+1<t.length&&o.end<a.add(t[n+1].start,s))){i.end=o.end,i.isEnd=!0;break}return c}},buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});const on={code:"pt-br",week:{dow:1,doy:4},buttonText:{prev:"Anterior",next:"Próximo",today:"Hoje",month:"Mês",week:"Semana",day:"Dia",list:"Lista"},weekText:"Sem",allDayText:"Dia inteiro",moreLinkText:function(e){return"+mais "+e},noEventsText:"Não há eventos para mostrar",dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]};class or{static{this.calendar=null}static{this.isInitialized=!1}static initializeCalendar(e,t){if(this.isInitialized&&this.calendar)return this.updateEvents(t),this.calendar;this.calendar&&this.calendar.destroy();let n={plugins:[sr,sU,s4,ot],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},initialView:"dayGridMonth",locale:on,height:"auto",events:this.convertAulasToEvents(t),eventClick:this.handleEventClick.bind(this),eventDidMount:this.handleEventDidMount.bind(this),dayMaxEvents:!0,moreLinkClick:"popover",eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},slotMinTime:"06:00:00",slotMaxTime:"22:00:00",slotDuration:"00:30:00",selectable:!0,selectMirror:!0,weekends:!0,editable:!1,selectConstraint:"businessHours",businessHours:{daysOfWeek:[1,2,3,4,5,6,0],startTime:"06:00",endTime:"22:00"}};try{return this.calendar=new aF(document.getElementById(e),n),this.calendar.render(),this.isInitialized=!0,this.calendar}catch(e){throw console.error("Erro ao inicializar calendário:",e),e}}static convertAulasToEvents(e){return e.map(e=>{let t=new Date(e.dataHora),n=new Date(t.getTime()+6e4*e.duracao),{backgroundColor:r,borderColor:i,textColor:a}=this.getEventColors(e.status);return{id:e.id,title:e.titulo,start:t,end:n,backgroundColor:r,borderColor:i,textColor:a,extendedProps:{aulaId:e.id,status:e.status,reservas:e.reservas||[],professorId:e.professorId,conteudo:e.conteudo,valor:e.valor,maxAlunos:e.maxAlunos,observacoes:e.observacoes}}})}static getEventColors(e){switch(e){case"disponivel":return{backgroundColor:"#28a745",borderColor:"#1e7e34",textColor:"#ffffff"};case"lotada":return{backgroundColor:"#007bff",borderColor:"#0056b3",textColor:"#ffffff"};case"cancelada":return{backgroundColor:"#dc3545",borderColor:"#c82333",textColor:"#ffffff"};case"reagendada":return{backgroundColor:"#ffc107",borderColor:"#e0a800",textColor:"#212529"};default:return{backgroundColor:"#6c757d",borderColor:"#545b62",textColor:"#ffffff"}}}static handleEventClick(e){try{let t=e.event,n=t.extendedProps.aulaId,r=new CustomEvent("aulaCalendarClick",{detail:{aulaId:n,event:{title:t.title,start:t.start?t.start.toISOString():null,end:t.end?t.end.toISOString():null,extendedProps:{...t.extendedProps}}}});document.dispatchEvent(r)}catch(e){console.error("Erro ao lidar com clique no evento:",e)}}static handleEventDidMount(e){try{let t=e.event,n=t.extendedProps.reservas||[];if(e.el){let r=`
          <div class="calendar-tooltip">
            <strong>${t.title}</strong><br>
            <small>Status: ${t.extendedProps.status}</small><br>
            <small>Reservas: ${n.length}/${t.extendedProps.maxAlunos}</small><br>
            <small>Valor: R$ ${t.extendedProps.valor?.toFixed(2)||"0.00"}</small>
          </div>
        `;e.el.setAttribute("title",r),e.el.setAttribute("data-bs-toggle","tooltip"),e.el.setAttribute("data-bs-html","true"),window.bootstrap&&window.bootstrap.Tooltip&&new window.bootstrap.Tooltip(e.el)}}catch(e){console.error("Erro ao montar evento:",e)}}static updateEvents(e){try{if(this.calendar){let t=this.convertAulasToEvents(e);this.calendar.removeAllEvents(),this.calendar.addEventSource(t)}}catch(e){console.error("Erro ao atualizar eventos:",e)}}static destroy(){try{this.calendar&&(this.calendar.destroy(),this.calendar=null,this.isInitialized=!1)}catch(e){console.error("Erro ao destruir calendário:",e)}}static getCalendar(){return this.calendar}}class oi{static{this.loadedModules=new Set}static async loadModule(e){if(this.loadedModules.has(e))return Promise.resolve();try{return this.loadedModules.add(e),Promise.resolve()}catch(t){throw console.error(`Erro ao carregar m\xf3dulo ${e}:`,t),t}}static debounce(e,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>e(...r),t)}}static throttle(e,t){let n;return(...r)=>{n||(e(...r),n=!0,setTimeout(()=>n=!1,t))}}static isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}static isSlowConnection(){if("connection"in navigator){let e=navigator.connection;return"slow-2g"===e.effectiveType||"2g"===e.effectiveType||"3g"===e.effectiveType}return!1}static applyOptimizations(){this.isMobile()&&document.documentElement.style.setProperty("--animation-duration","0.2s"),this.isSlowConnection()&&document.documentElement.style.setProperty("--enable-animations","false")}}const oa=new class{constructor(){this.level=2}shouldLog(e){return e>=this.level}formatMessage(e,t,...n){let r=new Date().toISOString();return`[${r}] [${e}] ${t}`}debug(e,...t){this.shouldLog(0)&&console.debug(this.formatMessage("DEBUG",e),...t)}info(e,...t){this.shouldLog(1)&&console.info(this.formatMessage("INFO",e),...t)}warn(e,...t){this.shouldLog(2)&&console.warn(this.formatMessage("WARN",e),...t)}error(e,...t){this.shouldLog(3)&&console.error(this.formatMessage("ERROR",e),...t)}};class os{static{this.currentAulaId=null}static async render(){try{let e=await B.loadDashboardData();return N.render(e)}catch(e){return this.renderErrorState()}}static async init(){oi.applyOptimizations(),this.setupEventListeners(),this.setupGlobalFunctions(),this.setupCalendar(),await this.refreshDashboard()}static setupEventListeners(){setTimeout(()=>{let e=document.getElementById("btn-logout");e&&e.addEventListener("click",this.handleLogout.bind(this));let t=document.getElementById("nova-aula-btn");t&&t.addEventListener("click",()=>{this.showNovaAulaModal()});let n=document.getElementById("btn-copiar-link");n&&n.addEventListener("click",this.handleCopyLink.bind(this));let r=document.getElementById("btn-editar-perfil");r&&r.addEventListener("click",e=>{e.preventDefault(),this.handleEditarPerfil()});let i=document.getElementById("formNovaAula");i&&i.addEventListener("submit",this.handleSubmitNovaAula.bind(this));let a=document.getElementById("formEditarAula");a&&a.addEventListener("submit",this.handleSubmitEditarAula.bind(this)),document.querySelectorAll('[data-bs-dismiss="modal"], .modal-footer .btn-secondary').forEach(e=>{e.addEventListener("click",()=>{let t=e.closest(".modal");if(t&&window.bootstrap){let e=window.bootstrap.Modal.getInstance(t);e&&e.hide()}this.resetForms()})})},100)}static setupGlobalFunctions(){window.editarAula=this.handleEditarAula.bind(this),window.excluirAula=this.handleExcluirAula.bind(this),window.navegarMes=this.handleNavegarMes.bind(this)}static setupCalendar(){let e=document.getElementById("calendario-tab");e&&e.addEventListener("shown.bs.tab",oi.debounce(()=>{this.initializeCalendar()},100)),document.addEventListener("aulaCalendarClick",e=>{this.handleCalendarEventClick(e.detail)}),setTimeout(async()=>{if(document.getElementById("calendario-container"))try{let e=await B.loadDashboardData();or.initializeCalendar("calendario-container",e.aulas),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(e){return new window.bootstrap.Tooltip(e)})}catch(e){console.error("Falha na inicialização imediata do calendário:",e)}},150)}static async initializeCalendar(){try{let e=await B.loadDashboardData();document.getElementById("calendario-container")&&(or.initializeCalendar("calendario-container",e.aulas),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(e){return new window.bootstrap.Tooltip(e)}))}catch(e){console.error("Erro ao inicializar calendário:",e),(0,h.mostrarToast)("Erro ao carregar calendário.","danger")}}static async handleCalendarEventClick(e){try{let{aulaId:t,event:n}=e,r=n.extendedProps||{},i=n.start?new Date(n.start).toISOString():new Date().toISOString(),a=n.end&&n.start?Math.max(0,Math.round((new Date(n.end).getTime()-new Date(n.start).getTime())/6e4)):0,s={id:String(t),titulo:n.title||"Aula",conteudo:r.conteudo||"",dataHora:i,duracao:a,valor:"number"==typeof r.valor?r.valor:0,maxAlunos:"number"==typeof r.maxAlunos?r.maxAlunos:Array.isArray(r.reservas)?r.reservas.length:0,status:r.status||"disponivel",observacoes:r.observacoes||"",reservas:Array.isArray(r.reservas)?r.reservas:[]},o=document.getElementById("modalAulaDetail"),l=o?o.querySelector(".modal-body"):null;l&&(l.innerHTML=O.renderContent(s),this.setupDetailModalButtons(String(t)),new window.bootstrap.Modal(o).show())}catch(e){console.error("Erro ao abrir detalhes da aula:",e),(0,h.mostrarToast)("Erro ao abrir detalhes da aula.","danger")}}static setupDetailModalButtons(e){let t=document.getElementById("btn-editar-aula-detail");t&&t.addEventListener("click",()=>{let t=window.bootstrap.Modal.getInstance(document.getElementById("modalAulaDetail"));t&&t.hide(),this.handleEditarAula(e)});let n=document.getElementById("btn-fechar-detail");n&&n.addEventListener("click",()=>{let e=window.bootstrap.Modal.getInstance(document.getElementById("modalAulaDetail"));e&&e.hide()});let r=document.getElementById("modalAulaDetail"),i=r?r.querySelector(".modal-footer"):null;if(!i&&r){let e=r.querySelector(".modal-content");e&&((i=document.createElement("div")).className="modal-footer",e.appendChild(i))}let a=document.getElementById("btn-reagendar-aula");!a&&i&&((a=document.createElement("button")).id="btn-reagendar-aula",a.type="button",a.className="btn btn-warning me-2",a.textContent="Reagendar",i.insertBefore(a,i.firstChild)),a&&(a.onclick=async()=>{try{var t;let n,r=document.getElementById("input-nova-data-hora");if(r&&r.value){let e=r.value,t=new Date(e);if(isNaN(t.getTime()))return void(0,h.mostrarToast)("Data/hora inválida.","danger");n=t.toISOString()}let i=await (t=n,H(`${L}/aulas/${e}/reagendar`,{method:"PUT",body:JSON.stringify(t?{nova_data_hora:t}:{})}));if(!i.ok){let e=await i.json().catch(()=>({}));(0,h.mostrarToast)(e.error||"Erro ao reagendar aula.","danger");return}(0,h.mostrarToast)("Aula reagendada com sucesso.","success");let a=window.bootstrap.Modal.getInstance(document.getElementById("modalAulaDetail"));a&&a.hide(),await this.refreshDashboard()}catch(e){(0,h.mostrarToast)("Erro ao reagendar aula.","danger")}})}static async handleLogout(){try{(await fetch(`${L}/auth/logout`,{method:"GET",credentials:"include"})).ok?((0,h.mostrarToast)("Logout realizado com sucesso!","success"),setTimeout(()=>{window.location.href="/login"},1e3)):(0,h.mostrarToast)("Erro ao fazer logout.","danger")}catch(e){(0,h.mostrarToast)("Erro ao conectar com o servidor.","danger")}}static async handleCopyLink(){let e=document.getElementById("input-link-publico");e&&(await B.copyToClipboard(e.value)?(0,h.mostrarToast)("Link copiado para a área de transferência!","success"):(0,h.mostrarToast)("Erro ao copiar link.","danger"))}static handleEditarPerfil(){window.location.href="/editar-perfil"}static showNovaAulaModal(){this.currentAulaId=null,new window.bootstrap.Modal(document.getElementById("modalNovaAula")).show()}static async handleEditarAula(e){try{let t=await H(`${L}/aulas/${e}`);if(t.ok){let n=await t.json();this.populateEditForm(n),this.currentAulaId=e,new window.bootstrap.Modal(document.getElementById("modalEditarAula")).show()}else{let e="Erro ao carregar dados da aula.";try{if(e=(await t.json()).error||e,401===t.status){(0,h.mostrarToast)("Sessão expirada. Faça login novamente.","danger"),setTimeout(()=>window.location.href="/login",1500);return}}catch{}(0,h.mostrarToast)(e,"danger")}}catch(e){console.error("Erro ao editar aula:",e),(0,h.mostrarToast)(e?.message||"Erro ao conectar com o servidor.","danger")}}static showExcluirAulaModal(e){let t=document.getElementById("modalExcluirAulaContainer");t||((t=document.createElement("div")).id="modalExcluirAulaContainer",document.body.appendChild(t)),t.innerHTML=`
      <div class="modal fade" id="modalExcluirAula" tabindex="-1">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Confirmar Exclus\xe3o</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
              Tem certeza que deseja excluir esta aula? Esta a\xe7\xe3o n\xe3o poder\xe1 ser desfeita.
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
              <button type="button" class="btn btn-danger" id="btnConfirmarExcluirAula">Excluir</button>
            </div>
          </div>
        </div>
      </div>
    `;let n=new window.bootstrap.Modal(document.getElementById("modalExcluirAula"));n.show();let r=document.getElementById("btnConfirmarExcluirAula");r&&(r.onclick=async()=>{await this.confirmarExcluirAula(e,n)})}static async confirmarExcluirAula(e,t){if(await B.excluirAula(e)){(0,h.mostrarToast)("Aula excluída com sucesso!","success"),t.hide();try{await this.refreshDashboard()}catch{window.location.reload()}}else(0,h.mostrarToast)("Erro ao excluir aula.","danger")}static async handleExcluirAula(e){this.showExcluirAulaModal(e)}static handleNavegarMes(e){oa.debug("Navegar mês:",e),this.initializeCalendar()}static async handleSubmitNovaAula(e){e.preventDefault();let t=this.getFormData(e.target);t.status||(t.status="disponivel");let n=B.validateAulaData(t);if(!n.isValid)return void n.errors.forEach(e=>(0,h.mostrarToast)(e,"danger"));try{if(await B.criarAula(t)){let e=window.bootstrap.Modal.getInstance(document.getElementById("modalNovaAula"));e&&e.hide(),this.resetForms();try{await this.refreshDashboard()}catch{window.location.reload()}}}catch(e){(0,h.mostrarToast)(e?.message||"Erro ao criar aula","danger")}}static async handleSubmitEditarAula(e){if(e.preventDefault(),!this.currentAulaId)return;let t=this.getFormData(e.target);t.status||(t.status="disponivel");let n=B.validateAulaData(t);if(!n.isValid)return void n.errors.forEach(e=>(0,h.mostrarToast)(e,"danger"));try{if(await B.editarAula(this.currentAulaId,t)){let e=document.getElementById("modalEditarAula");if(e){let t=window.bootstrap.Modal.getInstance(e);t&&t.hide()}this.resetForms(),(0,h.mostrarToast)("Aula editada com sucesso!","success"),setTimeout(()=>window.location.reload(),600)}}catch(e){if(e?.response?.status===401){(0,h.mostrarToast)("Sessão expirada. Faça login novamente.","danger"),setTimeout(()=>window.location.href="/login",1500);return}(0,h.mostrarToast)(e?.message||"Erro ao editar aula","danger")}}static getFormData(e){let t=new FormData(e),n=t.get("dataHora");return!n||n.endsWith("Z")||n.includes("T")||(n=n.replace(" ","T")),{titulo:t.get("titulo"),conteudo:t.get("conteudo"),valor:parseFloat(t.get("valor")),duracao:parseInt(t.get("duracao"),10),maxAlunos:Math.max(1,parseInt(t.get("maxAlunos")??"1",10)),dataHora:n,status:t.get("status")||"disponivel",observacoes:t.get("observacoes")||void 0}}static populateEditForm(e){let t=document.getElementById("formEditarAula");if(t){t.querySelector('[name="titulo"]').value=e.titulo,t.querySelector('[name="conteudo"]').value=e.conteudo,t.querySelector('[name="valor"]').value=e.valor,t.querySelector('[name="duracao"]').value=e.duracao,t.querySelector('[name="maxAlunos"]').value=e.maxAlunos;let n=t.querySelector('[name="dataHora"]'),r="";if(e.dataHora){let t=new Date(e.dataHora);isNaN(t.getTime())||(r=t.toISOString().slice(0,16))}n.value=r,n.setAttribute("data-original",r),t.querySelector('[name="status"]').value=e.status,t.querySelector('[name="observacoes"]').value=e.observacoes||""}}static resetForms(){["formNovaAula","formEditarAula"].forEach(e=>{let t=document.getElementById(e);t&&t.reset()}),this.currentAulaId=null}static async refreshDashboard(){try{let e=await B.loadDashboardData(),t=document.querySelector(".tab-content");if(t){let n=t.querySelector("#aulas .row");n&&(n.innerHTML=e.aulas.length>0?e.aulas.map(e=>`
                <div class="col-12 col-md-6 col-lg-4">
                  ${this.renderAulaCard(e)}
                </div>
              `).join(""):`
                <div class="col-12">
                  <div class="text-center py-5">
                    <i class="bi bi-calendar3 display-1 text-muted"></i>
                    <h4 class="mt-3 text-muted">Nenhuma aula cadastrada</h4>
                    <p class="text-muted">Clique em "Nova Aula" para come\xe7ar a criar suas aulas.</p>
                  </div>
                </div>
              `);let r=t.querySelector("#agendamentos");if(r){let t=r.querySelectorAll(".card .card-body");if(t.length>=2){let n=e.aulas.filter(e=>"reagendada"===(e.status||"").toLowerCase()),r=e.aulas.filter(e=>"reagendada"!==(e.status||"").toLowerCase()),i=e=>{let t="reagendada"===(e.status||"").toLowerCase()?"warning text-dark":"primary",n=e.titulo||"Aula",r="";try{let t=new Date(e.dataHora);r=isNaN(t.getTime())?String(e.dataHora||"-"):t.toLocaleString()}catch{r=String(e.dataHora||"-")}let i=Array.isArray(e.reservas)&&e.reservas.length>0?e.reservas.map(e=>(e=>{let t="cancelado"===e.status?'<span class="badge bg-danger ms-2">Cancelado</span>':'<span class="badge bg-success ms-2">Agendado</span>',n=e.pagamentoEfetivado?'<span class="badge bg-info ms-2">Pagamento Efetivado</span>':"";return`<li class="list-group-item d-flex justify-content-between align-items-center">
                <span><b>${e.nome}</b> <span class="text-muted">${e.email||""}</span><br><span class="text-muted">${e.telefone||""}</span></span>
                <span>${t} ${n}</span>
              </li>`})(e)).join(""):'<li class="list-group-item text-muted">Nenhuma reserva</li>';return`
                <div class="mb-4">
                  <div class="fw-bold mb-2">${n} <span class="badge bg-${t} ms-2">${(e.status||"").charAt(0).toUpperCase()+(e.status||"").slice(1)}</span></div>
                  <div class="mb-1 text-muted"><b>Data/Hora:</b> ${r}</div>
                  <div class="mb-2"><b>Reservas:</b></div>
                  <ul class="list-group mb-2">${i}</ul>
                </div>
              `};t[0].innerHTML=0===r.length?'<div class="text-muted">Nenhum agendamento realizado.</div>':r.map(i).join(""),t[1].innerHTML=0===n.length?'<div class="text-muted">Nenhuma aula reagendada.</div>':n.map(i).join("")}}}or.getCalendar()&&or.updateEvents(e.aulas)}catch(e){(0,h.mostrarToast)("Erro ao atualizar dashboard.","danger")}}static renderAulaCard(e){return k.render(e)}static renderErrorState(){return`
      <div class="container mt-5">
        <div class="row justify-content-center">
          <div class="col-md-8">
            <div class="card">
              <div class="card-body text-center">
                <i class="bi bi-exclamation-triangle text-danger display-1"></i>
                <h4 class="mt-3 text-danger">Erro ao carregar dashboard</h4>
                <p class="text-muted">N\xe3o foi poss\xedvel carregar os dados do dashboard.</p>
                <button class="btn btn-primary" onclick="location.reload()">
                  <i class="bi bi-arrow-clockwise"></i> Tentar novamente
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}}async function oo(e){try{e.innerHTML=await os.render(),await os.init()}catch(t){console.error("Erro ao renderizar dashboard:",t),e.innerHTML=`
      <div class="container mt-5">
        <div class="row justify-content-center">
          <div class="col-md-8">
            <div class="card">
              <div class="card-body text-center">
                <i class="bi bi-exclamation-triangle text-danger display-1"></i>
                <h4 class="mt-3 text-danger">Erro ao carregar dashboard</h4>
                <p class="text-muted">N\xe3o foi poss\xedvel carregar os dados do dashboard.</p>
                <button class="btn btn-primary" onclick="location.reload()">
                  <i class="bi bi-arrow-clockwise"></i> Tentar novamente
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}}class ol{static render(e={}){let t=e.professor||{},n=e.aulas||[];return`
      <div class="container py-5">
        <div class="row justify-content-center">
          <div class="col-lg-10">
            <div class="card shadow-lg border-0 mb-4">
              <div class="card-body d-flex flex-column flex-md-row align-items-md-center gap-4 p-4">
                <div class="text-center flex-shrink-0">
                  <i class="bi bi-person-circle display-1 text-primary"></i>
                  <h2 class="fw-bold mt-2 mb-1">${t.nome||"Professor(a)"}</h2>
                  <div class="text-muted mb-3 fs-5">${t.especialidade||""}</div>
                </div>
                <div class="flex-fill">
                  <div class="row g-2">
                    <div class="col-12 col-md-6">
                      <div class="mb-2"><i class="bi bi-mortarboard me-2 text-secondary"></i><b>Forma\xe7\xe3o:</b> <span class="text-dark">${t.formacao||"-"}</span></div>
                      <div class="mb-2"><i class="bi bi-briefcase me-2 text-secondary"></i><b>Experi\xeancia:</b> <span class="text-dark">${t.experiencia||"-"}</span></div>
                    </div>
                    <div class="col-12 col-md-6">
                      <div class="mb-2"><i class="bi bi-envelope me-2 text-secondary"></i><b>E-mail:</b> <span class="text-dark">${t.email||"-"}</span></div>
                      <div class="mb-2"><i class="bi bi-telephone me-2 text-secondary"></i><b>Telefone:</b> <span class="text-dark">${t.telefone||"-"}</span></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="card shadow-sm">
              <div class="card-header bg-primary text-white">
                <h4 class="mb-0"><i class="bi bi-calendar3"></i> Aulas Dispon\xedveis</h4>
              </div>
              <div class="card-body">
                ${e.errorMessage?`<div class='alert alert-danger'>${e.errorMessage}</div>`:""}
                ${e.successMessage?`<div class='alert alert-success'>${e.successMessage}</div>`:""}
                <div class="row g-4">
                  ${n.length>0?n.map(t=>`
                    <div class="col-12 col-md-6 col-lg-4">
                      <div class="card h-100 border-primary">
                        <div class="card-body">
                          <h5 class="card-title d-flex align-items-center justify-content-between">
                            <span>${t.titulo}</span>
                            ${"REAGENDADA"===t.status?"<span class='badge bg-warning text-dark ms-2'>Reagendada</span>":""}
                          </h5>
                          <div><b>Conte\xfado:</b> ${t.conteudo}</div>
                          <div><b>${"REAGENDADA"===t.status?"Nova Data/Hora":"Data/Hora"}:</b> ${new Date(t.dataHora).toLocaleString()}</div>
                          <div><b>Dura\xe7\xe3o:</b> ${t.duracao} min</div>
                          <div><b>Valor:</b> R$ ${t.valor?.toFixed(2)||"-"}</div>
                          <div><b>Vagas:</b> ${"number"==typeof t.vagas_restantes?t.vagas_restantes:"-"} / ${"number"==typeof t.vagas_total?t.vagas_total:"-"}</div>
                          <div class="mt-3">
                            <button class="btn btn-outline-primary w-100" ${t.vagas_restantes&&t.vagas_restantes>0?"":"disabled"} onclick="${e.onReservar||"handleReservarAula"}('${t.id}')">
                              <i class="bi bi-calendar-plus"></i> ${"REAGENDADA"===t.status?"Reservar (Reagendada)":"Reservar"}
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  `).join(""):`<div class='col-12 text-center text-muted'>Nenhuma aula dispon\xedvel no momento.</div>`}
                </div>
              </div>
            </div>
            <!-- Bot\xe3o e container para consultar agendamentos do aluno -->
            <div class="mt-5 text-center">
              <button id="btnAbrirConsultaAgendamento" class="btn btn-outline-secondary">
                <i class="bi bi-search"></i> Consultar meus agendamentos
              </button>
            </div>
            <div id="modalConsultaAgendamentoContainer"></div>
            <div id="resultadoConsultaAgendamento" class="mt-4"></div>
          </div>
        </div>
      </div>
    `}}var h=c("dfaKa");class oc{static async carregarProfessor(e){let t=await fetch(`${L}/professores/${e}`);if(!t.ok)throw Error("Erro ao carregar dados do professor");return await t.json()}static async carregarAulas(e){let t=await fetch(`${L}/professores/${e}/aulas`);if(!t.ok)throw Error("Erro ao carregar aulas");return await t.json()}static async reservarAula(e,t,n,r,i){try{var a;let s=await (a={aulaId:t,alunoNome:n,alunoTelefone:r,alunoEmail:i},fetch(`${L}/professor-publico/${encodeURIComponent(e)}/reservar?aulaId=${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}));if(s.ok)return(0,h.mostrarToast)("Reserva realizada com sucesso!","success"),{success:!0};{let e=await s.json();return{success:!1,error:e.error||"Erro desconhecido"}}}catch(e){return{success:!1,error:"Erro ao conectar com o servidor."}}}static async carregarPerfilEAulas(e){let t=await fetch(`${L}/professor-publico/${e}`);if(!t.ok)throw Error("Erro ao carregar dados do professor");return await t.json()}}var h=c("dfaKa");let od=null,ou=[],oh="",of=null;async function op(e,t){oh=t;try{let n=await oc.carregarPerfilEAulas(t);od=n.professor,ou=n.aulas||[],e.innerHTML=ol.render({professor:od,aulas:ou}),om(),oy(t),og(e)}catch(t){console.error("[renderProfessorPublicoPage] erro:",t),e.innerHTML=ol.render({errorMessage:"Erro ao carregar dados do professor."})}}function og(e){of&&clearInterval(of),of=setInterval(async()=>{try{let t=await oc.carregarPerfilEAulas(oh),n=t.aulas||[],r=JSON.stringify(ou.map(e=>({id:e.id,status:e.status,dataHora:e.dataHora,vagas_restantes:e.vagas_restantes}))),i=JSON.stringify(n.map(e=>({id:e.id,status:e.status,dataHora:e.dataHora,vagas_restantes:e.vagas_restantes})));r!==i&&(ou=n,od=t.professor||od,e.innerHTML=ol.render({professor:od,aulas:ou}),om(),oy(oh))}catch(e){}},15e3)}function om(){window.handleReservarAula=ov}function ov(e){!function(e){let t=ou.find(t=>String(t.id)===String(e));if(!t)return(0,h.mostrarToast)("Aula não encontrada.","danger");let n=`
    <div class="modal fade" id="modalReserva" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Reservar Aula: ${t.titulo}</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <form id="formReserva">
              <div class="mb-3">
                <label for="nome" class="form-label">Seu Nome</label>
                <input type="text" class="form-control" id="nome" name="nome" required>
              </div>
              <div class="mb-3">
                <label for="telefone" class="form-label">Telefone</label>
                <input type="tel" class="form-control" id="telefone" name="telefone" required>
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">E-mail</label>
                <input type="email" class="form-control" id="email" name="email" required>
              </div>
              <button type="submit" class="btn btn-primary w-100">Confirmar Reserva</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  `,r=document.getElementById("modalReservaContainer");r||((r=document.createElement("div")).id="modalReservaContainer",document.body.appendChild(r)),r.innerHTML=n;let i=document.getElementById("modalReserva"),a=new window.bootstrap.Modal(i);a.show();let s=document.getElementById("formReserva");s&&(s.onsubmit=t=>ob(t,e,a))}(e)}async function ob(e,t,n){e.preventDefault();let r=e.target,i=r.nome.value,a=r.telefone.value,s=r.email.value,o=null;try{let e=(await Promise.resolve(c("l9cRd"))).getPublicFcmToken;(o=e?await e():null)||console.warn("[Public] Sem FCM token (perm negada ou erro). Prosseguindo sem token.")}catch{}let l=await oc.reservarAula(oh,t,i,a,s,o);if(l.success){n.hide(),(0,h.mostrarToast)("Reserva realizada com sucesso!","success");try{let e=await oc.carregarPerfilEAulas(oh);ou=e.aulas||[],od=e.professor||od;let t=document.getElementById("root");t&&(t.innerHTML=ol.render({professor:od,aulas:ou,successMessage:"Reserva realizada com sucesso!"}),om(),oy(oh),og(t))}catch(e){console.warn("[handleReservaSubmit] não foi possível recarregar aulas:",e)}}else(0,h.mostrarToast)(l.error||"Erro ao reservar","danger")}function oy(e){let t=document.getElementById("btnAbrirConsultaAgendamento");t&&(t.onclick=()=>(function(e){let t=`
    <div class="modal fade" id="modalConsultaAgendamento" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Consultar Meus Agendamentos</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <form id="formConsultaAgendamento">
              <div class="mb-3">
                <label for="nomeConsulta" class="form-label">Nome</label>
                <input type="text" class="form-control" id="nomeConsulta" name="nome" required>
              </div>
              <div class="mb-3">
                <label for="telefoneConsulta" class="form-label">Telefone</label>
                <input type="tel" class="form-control" id="telefoneConsulta" name="telefone" required>
              </div>
              <div class="mb-3">
                <label for="emailConsulta" class="form-label">E-mail</label>
                <input type="email" class="form-control" id="emailConsulta" name="email" required>
              </div>
              <button type="submit" class="btn btn-primary w-100">Consultar</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  `,n=document.getElementById("modalConsultaAgendamentoContainer");n||((n=document.createElement("div")).id="modalConsultaAgendamentoContainer",document.body.appendChild(n)),n.innerHTML=t;let r=document.getElementById("modalConsultaAgendamento"),i=new window.bootstrap.Modal(r);i.show();let a=document.getElementById("formConsultaAgendamento");a&&(a.onsubmit=t=>oA(t,e,i))})(e))}async function ow(e){if(!e||!e.reservaId)return void(0,h.mostrarToast)("Reserva inválida.","danger");try{let t=`${L}/reservas/${e.reservaId}`;if((await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"}})).ok){(0,h.mostrarToast)("Reserva cancelada com sucesso!","success");try{if(window.lastConsultaAgendamento){let{linkUnico:e,nome:t,telefone:n,email:r}=window.lastConsultaAgendamento;await oE(e,t,n,r)}else document.getElementById("resultadoConsultaAgendamento")?.remove()}finally{setTimeout(()=>window.location.reload(),800)}}else(0,h.mostrarToast)("Erro ao cancelar reserva.","danger")}catch(e){(0,h.mostrarToast)("Erro ao cancelar reserva.","danger")}}async function oE(e,t,n,r){try{let i=`${L}/professor-publico/${encodeURIComponent(e)}/agendamentos?nome=${encodeURIComponent(t)}&telefone=${encodeURIComponent(n)}&email=${encodeURIComponent(r)}`,a=await fetch(i),s=await a.json();oS(s)}catch(e){(0,h.mostrarToast)("Erro ao atualizar agendamentos.","danger")}}async function oA(e,t,n){e.preventDefault();let r=e.target,i=r.nome.value,a=r.telefone.value,s=r.email.value;window.lastConsultaAgendamento={linkUnico:t,nome:i,telefone:a,email:s};try{let e=`${L}/professor-publico/${encodeURIComponent(t)}/agendamentos?nome=${encodeURIComponent(i)}&telefone=${encodeURIComponent(a)}&email=${encodeURIComponent(s)}`,r=await fetch(e),o=await r.json();n.hide(),oS(o)}catch(e){(0,h.mostrarToast)("Erro ao consultar agendamentos.","danger")}}function oS(e){document.getElementById("modalMeusAgendamentos");let t=`
    <div class="modal fade" id="modalMeusAgendamentos" tabindex="-1" style="display:none;">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header bg-primary text-white">
            <h5 class="modal-title">Meus Agendamentos</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            ${!e||0===e.length?"<div class='alert alert-info'>Nenhum agendamento encontrado para os dados informados.</div>":e.map(e=>{let t=`<span class='badge bg-secondary'>${e.statusAula||"-"}</span>`,n=(e.statusAula||"").toLowerCase();"disponivel"===n||"disponível"===n?t=`<span class='badge bg-success'>${e.statusAula}</span>`:"reagendada"===n?t="<span class='badge bg-warning text-dark'>Reagendada</span>":"cancelada"===n&&(t="<span class='badge bg-danger'>Cancelada</span>");let r=e.dataHora||e.data_hora,i="-";if(r)try{let e=new Date(r);i=isNaN(e.getTime())?String(r):e.toLocaleDateString()+" "+e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{i=String(r)}"-"===i&&r&&(i=String(r));let a=`<span class='badge bg-secondary'>${e.status||"-"}</span>`;return"ativa"===(e.status||"").toLowerCase()&&(a=`<span class='badge bg-success'>Dispon\xedvel</span>`),`
                  <div class='card border-2 border-primary shadow-sm mb-4'>
                    <div class='card-header bg-primary text-white d-flex justify-content-between align-items-center'>
                      <span><i class="bi bi-calendar-event"></i> ${e.titulo}</span>
                      ${t}
                    </div>
                    <div class='card-body d-flex flex-column flex-md-row flex-wrap justify-content-between'>
                      <div class='mb-2' style='min-width:220px;'>
                        <p class='mb-1'><b>Professor:</b> ${e.professorNome||"-"}</p>
                        <p class='mb-1'><b>Email:</b> ${e.professorEmail||"-"}</p>
                        <p class='mb-1'><b>Telefone:</b> ${e.professorTelefone||"-"}</p>
                      </div>
                      <div class='mb-2' style='min-width:180px;'>
                        <p class='mb-1'><b>${"reagendada"===n?"Nova Data/Hora":"Data/Hora"}:</b> <span class='text-primary'>${i}</span></p>
                        <p class='mb-1'><b>Status da Aula:</b> <span class='text-primary'>${e.statusAula||"-"}</span></p>
                        <p class='mb-1'><b>Status da Reserva:</b> ${a}</p>
                        
                      </div>
                      <div class='d-flex align-items-end justify-content-end flex-grow-1'>
                        <button class='btn btn-outline-danger btn-sm' onclick='if(confirm("Tem certeza que deseja cancelar a aula?")) handleCancelarAgendamentoAluno(${JSON.stringify(e)})'>Cancelar</button>
                      </div>
                    </div>
                  </div>
                  `}).join("")}
          </div>
        </div>
      </div>
    </div>
  `,n=document.createElement("div");n.innerHTML=t,document.body.appendChild(n);let r=document.getElementById("modalMeusAgendamentos");r&&new bootstrap.Modal(r).show()}window.handleCancelarAgendamentoAluno=ow;class oC{static render(e={}){let t=e.professor||{};return`
      <div class="container py-5">
        <div class="row justify-content-center">
          <div class="col-md-7 col-lg-6">
            <div class="card shadow-sm">
              <div class="card-header bg-primary text-white">
                <h3 class="mb-0">
                  <i class="bi bi-calendar-plus"></i> Agendar Aula
                </h3>
              </div>
              <div class="card-body p-4">
                <div class="mb-3 text-center">
                  <h5 class="fw-bold mb-1">${t.nome||"Professor(a)"}</h5>
                  <div class="text-muted">${t.especialidade||""}</div>
                </div>
                ${e.errorMessage?`<div class='alert alert-danger'>${e.errorMessage}</div>`:""}
                ${e.successMessage?`<div class='alert alert-success'>${e.successMessage}</div>`:""}
                <form id="form-agendamento" onsubmit="${e.onSubmit||"handleAgendamentoSubmit"}(event)">
                  <div class="mb-3">
                    <label for="nome" class="form-label">Seu Nome</label>
                    <input type="text" class="form-control" id="nome" name="nome" required>
                  </div>
                  <div class="mb-3">
                    <label for="telefone" class="form-label">Telefone</label>
                    <input type="tel" class="form-control" id="telefone" name="telefone" required placeholder="(11) 99999-9999">
                  </div>
                  <div class="mb-3">
                    <label for="dataHora" class="form-label">Data e Hora</label>
                    <input type="datetime-local" class="form-control" id="dataHora" name="dataHora" required>
                  </div>
                  <button type="submit" class="btn btn-primary w-100">
                    <i class="bi bi-calendar-check"></i> Agendar
                  </button>
                </form>
                <div class="mt-3 text-center">
                  <a href="/professor/${t.id||""}">Voltar ao perfil do professor</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}}var h=c("dfaKa");class o_{static async carregarProfessor(e){try{let t=await fetch(`${L}/professores/${e}`);if(t.ok)return await t.json();throw Error("Erro ao carregar dados do professor")}catch(e){throw(0,h.mostrarToast)("Erro ao carregar dados do professor.","danger"),e}}static validate(e){let t=[];return e.nome?.trim()||t.push("Nome é obrigatório"),e.telefone?.trim()||t.push("Telefone é obrigatório"),e.dataHora?.trim()||t.push("Data e hora são obrigatórios"),{isValid:0===t.length,errors:t}}static async agendar(e,t){try{let n=await fetch(`${L}/professores/${e}/agendamentos`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n.ok)return(0,h.mostrarToast)("Agendamento realizado com sucesso!","success"),{success:!0};{let e=await n.json();return{success:!1,error:e.error||"Erro desconhecido"}}}catch(e){return{success:!1,error:"Erro ao conectar com o servidor."}}}}var h=c("dfaKa");async function oT(e,t){try{let n=await o_.carregarProfessor(t);e.innerHTML=oC.render({professor:n}),function(e){let t=document.getElementById("form-agendamento");t&&(t.onsubmit=t=>oD(t,e)),window.handleAgendamentoSubmit=t=>oD(t,e)}(t)}catch(t){e.innerHTML=oC.render({errorMessage:"Erro ao carregar dados do professor."})}}async function oD(e,t){e.preventDefault();let n=e.target,r={nome:n.nome.value,telefone:n.telefone.value,dataHora:n.dataHora.value},i=o_.validate(r);if(!i.isValid)return void i.errors.forEach(e=>(0,h.mostrarToast)(e,"danger"));let a=await o_.agendar(t,r);if(a.success){n.reset(),(0,h.mostrarToast)("Agendamento realizado com sucesso!","success");try{let e=document.getElementById("root");e?await oT(e,t):window.location.reload()}catch{window.location.reload()}}else(0,h.mostrarToast)(a.error||"Erro ao agendar","danger")}class ox{static render(e={}){let t=e.usuario||{};return`
      <div class="container py-5">
        <div class="row justify-content-center">
          <div class="col-md-8 col-lg-6">
            <div class="card shadow-lg border-0 rounded-4">
              <div class="card-header bg-primary text-white rounded-top-4">
                <h3 class="mb-0">
                  <i class="bi bi-person-gear"></i> Editar Perfil
                </h3>
              </div>
              <div class="card-body p-4">
                ${e.errorMessage?`<div class='alert alert-danger'>${e.errorMessage}</div>`:""}
                <div class="mb-4 text-center">
                  <div class="d-inline-block position-relative">
                    <img id="foto-preview" src="${t.fotoUrl||"https://placehold.co/160x160?text=Foto"}" alt="Foto de perfil" class="rounded-circle border" style="width: 160px; height: 160px; object-fit: cover;">
                  </div>
                  <div class="mt-2">
                    <input type="file" id="foto" accept="image/*" class="form-control" style="max-width: 340px; margin: 0 auto;">
                    <small class="text-muted d-block mt-1">Tamanho m\xe1ximo 5MB. Formatos: JPG, PNG.</small>
                  </div>
                </div>
                <form id="form-editar-perfil" onsubmit="${e.onSubmit||"handleEditarPerfilSubmit"}(event)">
                  <div class="row g-3">
                    <div class="col-md-6 mb-3">
                      <label for="nome" class="form-label">Nome Completo</label>
                      <input type="text" class="form-control" id="nome" name="nome" value="${t.nome||""}" required>
                    </div>
                    <div class="col-md-6 mb-3">
                      <label for="telefone" class="form-label">Telefone</label>
                      <input type="tel" class="form-control" id="telefone" name="telefone" value="${t.telefone||""}" placeholder="(11) 99999-9999">
                    </div>
                  </div>
                  <div class="row g-3">
                    <div class="col-md-6 mb-3">
                      <label for="especialidade" class="form-label">Especialidade</label>
                      <input type="text" class="form-control" id="especialidade" name="especialidade" value="${t.especialidade||""}" placeholder="Ex: Matem\xe1tica, F\xedsica, etc.">
                    </div>
                    <div class="col-md-6 mb-3">
                      <label for="formacao" class="form-label">Forma\xe7\xe3o</label>
                      <input type="text" class="form-control" id="formacao" name="formacao" value="${t.formacao||""}" placeholder="Ex: Licenciatura em Matem\xe1tica, Mestrado, etc.">
                    </div>
                  </div>
                  <div class="row g-3">
                    <div class="col-md-6 mb-3">
                      <label for="experiencia" class="form-label">Experi\xeancia</label>
                      <input type="text" class="form-control" id="experiencia" name="experiencia" value="${t.experiencia||""}" placeholder="Ex: 10 anos de ensino, aulas particulares, etc.">
                    </div>
                    <div class="col-md-6 mb-3">
                      <label for="linkUnico" class="form-label">Link \xdanico</label>
                      <input type="text" class="form-control" id="linkUnico" name="linkUnico" value="${t.linkUnico||""}" placeholder="seu-link-unico">
                    </div>
                  </div>
                  <div class="d-flex gap-2 mt-3">
                    <button type="submit" class="btn btn-primary px-4">
                      <i class="bi bi-check-circle"></i> Salvar Altera\xe7\xf5es
                    </button>
                    <a href="/dashboard" class="btn btn-outline-secondary px-4">
                      <i class="bi bi-arrow-left"></i> Voltar
                    </a>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}}var h=c("dfaKa");class oI{static async carregarPerfil(){try{let e=await F();if(e.ok)return await e.json();throw Error("Erro ao carregar perfil")}catch(e){throw(0,h.mostrarToast)("Erro ao carregar dados do perfil.","danger"),e}}static validate(e){let t=[];return e.nome?.trim()||t.push("Nome é obrigatório"),e.linkUnico&&!/^[a-zA-Z0-9-_]+$/.test(e.linkUnico)&&t.push("Link único deve conter apenas letras, números, hífens e underscores"),{isValid:0===t.length,errors:t}}static async salvarPerfil(e){try{let t=await H(`${L}/professores/me`,{method:"PUT",body:JSON.stringify(e)});if(t.ok)return(0,h.mostrarToast)("Perfil atualizado com sucesso!","success"),{success:!0};{let e=await t.json();return{success:!1,error:e.error||"Erro desconhecido"}}}catch(e){return{success:!1,error:"Erro ao conectar com o servidor."}}}}var h=c("dfaKa");async function ok(e){try{let t=await oI.carregarPerfil();e.innerHTML=ox.render({usuario:t}),function(){let e=document.getElementById("form-editar-perfil");e&&(e.onsubmit=oR),window.handleEditarPerfilSubmit=oR;let t=document.getElementById("foto");t&&(t.onchange=oM)}()}catch(t){e.innerHTML=ox.render({errorMessage:"Erro ao carregar dados do perfil."})}}async function oR(e){e.preventDefault();let t=e.target,n=e=>{let n=t.querySelector(`[name="${e}"]`);return n?n.value:void 0},r={nome:n("nome")??"",email:n("email")??"",telefone:n("telefone"),especialidade:n("especialidade"),formacao:n("formacao"),experiencia:n("experiencia"),linkUnico:n("linkUnico"),fotoUrl:document.getElementById("foto-preview")?.src},i=oI.validate(r);if(!i.isValid)return void i.errors.forEach(e=>(0,h.mostrarToast)(e,"danger"));let a=await oI.salvarPerfil(r);a.success?setTimeout(()=>{window.history.pushState({},"","/dashboard"),window.dispatchEvent(new PopStateEvent("popstate"))},1500):(0,h.mostrarToast)(a.error||"Erro ao salvar perfil","danger")}async function oM(e){let t=e.target,n=t.files&&t.files[0];if(n){if(n.size>5242880){(0,h.mostrarToast)("Arquivo maior que 5MB.","warning"),t.value="";return}try{(0,h.mostrarToast)("Enviando foto...","info");let e=await function(e){let t=new FormData;return t.append("foto",e),U(`${L}/professores/me/foto`,{method:"POST",body:t})}(n);if(!e.ok){let t=await e.json().catch(()=>({error:"Erro ao enviar foto"}));throw Error(t.error||"Erro ao enviar foto")}let t=(await e.json()).fotoUrl,r=document.getElementById("foto-preview");r&&(r.src=t),(0,h.mostrarToast)("Foto atualizada!","success")}catch(e){console.error("[UPLOAD FOTO] erro",e),(0,h.mostrarToast)(e?.message||"Falha ao enviar foto","danger")}}}class oP{static render(){return`
      <div class="container py-5">
        <div class="row align-items-center justify-content-center">
          <div class="col-lg-6 text-center text-lg-start mb-4 mb-lg-0">
            <h1 class="display-4 fw-bold mb-3">Bem-vindo ao <span class="text-primary">EduClick</span></h1>
            <p class="lead mb-4">Plataforma moderna para agendamento de aulas, gest\xe3o de professores e alunos. Simples, r\xe1pida e eficiente para sua rotina educacional.</p>
            <div class="d-flex flex-column flex-md-row gap-3 justify-content-center justify-content-lg-start">
              <a href="/login" class="btn btn-primary btn-lg px-4">Entrar</a>
              <a href="/cadastro" class="btn btn-outline-primary btn-lg px-4">Criar Conta</a>
            </div>
          </div>
          <div class="col-lg-6 text-center">
            <img src="https://cdn.pixabay.com/photo/2017/01/31/13/14/online-2025987_1280.png" alt="Educa\xe7\xe3o Online" class="img-fluid rounded shadow" style="max-height: 340px;">
          </div>
        </div>
        <div class="row mt-5">
          <div class="col-12 text-center">
            <h2 class="h4 fw-bold mb-3">Funcionalidades</h2>
          </div>
          <div class="col-md-4 mb-4">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-body text-center">
                <i class="bi bi-calendar3 display-5 text-primary mb-3"></i>
                <h5 class="card-title">Agendamento Online</h5>
                <p class="card-text">Permita que alunos reservem aulas facilmente com poucos cliques, visualizando hor\xe1rios dispon\xedveis em tempo real.</p>
              </div>
            </div>
          </div>
          <div class="col-md-4 mb-4">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-body text-center">
                <i class="bi bi-person-badge display-5 text-primary mb-3"></i>
                <h5 class="card-title">Gest\xe3o de Professores</h5>
                <p class="card-text">Professores podem personalizar seus perfis, gerenciar aulas, hor\xe1rios e acompanhar reservas de forma intuitiva.</p>
              </div>
            </div>
          </div>
          <div class="col-md-4 mb-4">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-body text-center">
                <i class="bi bi-people display-5 text-primary mb-3"></i>
                <h5 class="card-title">Experi\xeancia do Aluno</h5>
                <p class="card-text">Alunos t\xeam acesso f\xe1cil ao hist\xf3rico de agendamentos, notifica\xe7\xf5es e comunica\xe7\xe3o direta com professores.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}}async function oO(e){e.innerHTML=oP.render()}class oN{constructor(e){this.firebaseUser=e}get id(){return this.firebaseUser.uid}get nome(){return this.firebaseUser.displayName||"Usuário"}get email(){return this.firebaseUser.email}async getIdToken(){return await this.firebaseUser.getIdToken()}getValor(){return this.email}autenticar(e){return!0}}var m=c("knadl");c("6AR8M");var v=c("44P4X");async function oL(){let e=document.getElementById("root");if(!e)return;let t=window.location.pathname;if("/login"===t)return b(e);if("/cadastro"===t)return C(e);if(t.startsWith("/professor/"))return op(e,decodeURIComponent(t.split("/")[2]));if(t.startsWith("/agendar/"))return oT(e,t.split("/")[2]);if("/dashboard"===t||"/editar-perfil"===t){if(!(await F()).ok)return window.history.pushState({},"","/login"),b(e);if("/dashboard"===t)return oo(e);if("/editar-perfil"===t)return ok(e)}return oO(e)}oa.info("EduClick - Cliente iniciado");const oH=new class{async registrar(e){try{let t=await (0,v.ab)(m.auth,e.email,e.senha);if(t.user)try{await (0,v.al)(t.user,{displayName:e.nome})}catch(e){console.warn("Não foi possível atualizar o displayName:",e)}return new oN(t.user)}catch(t){console.error("Erro no registro Firebase:",t);let e="Erro ao criar conta";throw"auth/email-already-in-use"===t.code?e="Este email já está sendo usado por outra conta":"auth/weak-password"===t.code?e="A senha deve ter pelo menos 6 caracteres":"auth/invalid-email"===t.code?e="Email inválido":"auth/operation-not-allowed"===t.code?e="Cadastro com email/senha não está habilitado":"auth/network-request-failed"===t.code&&(e="Erro de conexão. Verifique sua internet"),Error(e)}}async login(e,t){try{let n=(await (0,v.ac)(m.auth,e,t)).user,r=await n.getIdToken();return localStorage.setItem("token",r),new oN(n)}catch(t){console.error("Erro no login Firebase:",t);let e="Erro ao fazer login";throw"auth/user-not-found"===t.code?e="Usuário não encontrado":"auth/wrong-password"===t.code?e="Senha incorreta":"auth/invalid-credential"===t.code?e="Email ou senha incorretos":"auth/invalid-email"===t.code?e="Email inválido":"auth/user-disabled"===t.code?e="Conta desabilitada":"auth/too-many-requests"===t.code?e="Muitas tentativas. Tente novamente mais tarde":"auth/network-request-failed"===t.code&&(e="Erro de conexão. Verifique sua internet"),Error(e)}}async logout(){await (0,v.D)(m.auth)}async verificarSeUsuarioExiste(e){try{let t=await (0,v.ag)(m.auth,e);return console.log(`M\xe9todos de login para ${e}:`,t),t.length>0}catch(e){if(console.error("Erro ao verificar se usuário existe:",e),"auth/user-not-found"===e.code)return!1;return!0}}};S.setAuthProvider(oH),p.setAuthProvider(oH),window.addEventListener("popstate",oL),window.addEventListener("DOMContentLoaded",oL),window.logout=function(){j().finally(()=>window.location.href="/")};
//# sourceMappingURL=client.96060e24.js.map
